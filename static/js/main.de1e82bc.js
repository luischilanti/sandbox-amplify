/*! For license information please see main.de1e82bc.js.LICENSE.txt */
!function(){var e={3025:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9160:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5218:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3755:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},268:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"===typeof e}))}return!1}},5062:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9388);r.__exportStar(n(3025),t),r.__exportStar(n(9160),t),r.__exportStar(n(5218),t),r.__exportStar(n(3755),t),r.__exportStar(n(268),t)},9867:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},1716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7591),i=n(3722),o=n(9335),a=n(712),s=n(5062),u=n(3090),c=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},7591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9558),i=n(9867),o=n(1450),a=n(3090),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"===typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},2843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(9388).__exportStar)(n(1716),t);var r=n(7591);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(3722);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},9558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},3722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(1795),i=n(9867),o=n(3090),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},8653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(1450),i="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},1795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(8653);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(7979);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(8357);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(6439);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},7979:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},8357:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},6439:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},1450:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},2071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(2136),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},2136:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(9388).__exportStar)(n(7792),t)},7792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9388),i=n(2136),o=n(2071),a=n(9042),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},8875:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(3729),i="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},9042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(8875);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(8899);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(1326);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(3489);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},8899:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},1326:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},3489:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},3729:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(9388).__exportStar(n(362),t)},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(9388),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"===typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!==typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},3090:function(e,t,n){"use strict";n.r(t),n.d(t,{locateWindow:function(){return i}});var r={};function i(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:r}},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),o=n(9301),a=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6467),f=n(221),d=n(9346);e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,v=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete v["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+_)}var w=s(e.baseURL,e.url);function S(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};i((function(e){t(e),y()}),(function(e){n(e),y()}),o),m=null}}if(m.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=S:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(S)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||c(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;E&&(v[e.xsrfHeaderName]=E)}"setRequestHeader"in m&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),g&&"json"!==g&&(m.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){m&&(n(!e||e&&e.type?new d("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),m.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),o=n(3773),a=n(777);var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(221));s.Axios=o,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),o=n(7470),a=n(2733),s=n(777),u=n(7835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=t;r.length;){var h=r.shift(),p=r.shift();try{d=h(d)}catch(v){p(v);break}}try{o=a(d)}catch(v){return Promise.reject(v)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),o=n(5517),a=n(221),s=n(9346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),o=n(6460),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u},7600:function(e){e.exports={version:"0.26.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2009:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5524:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},9778:function(e,t,n){"use strict";var r=n(2009),i=n(4038),o=n(1571);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n);e=s(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return V(z(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return V(q(t),e,n,r)}function A(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||U(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||U(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:z(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},4038:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},1571:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2558:function(e,t,n){e.exports=self.fetch||(self.fetch=n(4175).default||n(4175))},3143:function(e,t,n){var r,i;!function(o){if(void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!==typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(l){}if(i[c]=u,e===c)break}catch(l){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},7059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,d,h,p=e[c].replace(a,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),d=decodeURIComponent(l),h=decodeURIComponent(f),t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},4297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(7059),t.encode=t.stringify=n(4297)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var U,F=Object.assign;function L(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function z(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case C:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ae=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?Ae?Ae.push(e):Ae=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Ae;if(Ae=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function ke(e,t){return e(t)}function Oe(){}var Pe=!1;function xe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return ke(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Ae)&&(Oe(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Me=!1}function De(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ue=!1,Fe=null,Le=!1,je=null,Be={onError:function(e){Ue=!0,Fe=e}};function ze(e,t,n,r,i,o,a,s,u){Ue=!1,Fe=null,De.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,$e=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Et,At,Ct,Tt=!1,It=[],kt=null,Ot=null,Pt=null,xt=new Map,Nt=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Ut(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=mi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function jt(e,t,n){Lt(e)&&n.delete(t)}function Bt(){Tt=!1,null!==kt&&Lt(kt)&&(kt=null),null!==Ot&&Lt(Ot)&&(Ot=null),null!==Pt&&Lt(Pt)&&(Pt=null),xt.forEach(jt),Nt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&zt(kt,e),null!==Ot&&zt(Ot,e),null!==Pt&&zt(Pt,e),xt.forEach(t),Nt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Mt.shift()}var Vt=_.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Ht(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Gt(e,t,n,r){if(Kt){var i=Qt(e,t,n,r);if(null===i)Kr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Ut(kt,e,t,n,r,i),!0;case"dragenter":return Ot=Ut(Ot,e,t,n,r,i),!0;case"mouseover":return Pt=Ut(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xt.set(o,Ut(xt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Ut(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Kr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=mi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=F({},cn,{view:0,detail:0}),dn=on(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(F({},hn,{dataTransfer:0})),gn=on(F({},fn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(mn),_n=on(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return An}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Tn),kn=on(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(xn),Mn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Un=l&&"TextEvent"in window&&!Dn,Fn=l&&(!Rn||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Yn(e){Lr(e,0)}function Qn(e){if(G(_i(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(l){var Zn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Zn=Xn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),xe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Ar={};function Cr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return Er[e]=n[t];return e}l&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Cr("animationend"),Ir=Cr("animationiteration"),kr=Cr("animationstart"),Or=Cr("transitionend"),Pr=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),u(t,[e])}for(var Mr=0;Mr<xr.length;Mr++){var Rr=xr[Mr];Nr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(kr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ur=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(ze.apply(this,arguments),Ue){if(!Ue)throw Error(o(198));var l=Fe;Ue=!1,Fe=null,Le||(Le=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=u}}}if(Le)throw e=je,Le=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Ur.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}xe((function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Tr:case Ir:case kr:u=yn;break;case Or:u=Pn;break;case"scroll":u=dn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ne(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:_i(u),h=null==c?s:_i(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,mi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==u&&Yr(a,s,u,l,!1),null!==c&&null!==f&&Yr(a,f,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Jn;else if(Kn(s))if($n)g=ar;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(m=en()):(Zt="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(y=Hr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=zn(n))&&(b.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Ln);case"textInput":return(e=t.data)===Ln&&jn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Bn(e,t)?(e=en(),Xt=Zt=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Lr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Ne(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function mi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[hi]||null}var Si=[],Ei=-1;function Ai(e){return{current:e}}function Ci(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ii={},ki=Ai(Ii),Oi=Ai(!1),Pi=Ii;function xi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ci(Oi),Ci(ki)}function Ri(e,t,n){if(ki.current!==Ii)throw Error(o(168));Ti(ki,t),Ti(Oi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return F({},n,r)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=ki.current,Ti(ki,e),Ti(Oi,Oi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Oi),Ci(ki),Ti(ki,e)):Ci(Oi),Ti(Oi,n)}var Li=null,ji=!1,Bi=!1;function zi(e){null===Li?Li=[e]:Li.push(e)}function qi(){if(!Bi&&null!==Li){Bi=!0;var e=0,t=bt;try{var n=Li;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,ji=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Xe,qi),i}finally{bt=t,Bi=!1}}return null}var Vi=[],Ki=0,Wi=null,Hi=0,Gi=[],Yi=0,Qi=null,Ji=1,$i="";function Zi(e,t){Vi[Ki++]=Hi,Vi[Ki++]=Wi,Wi=e,Hi=t}function Xi(e,t,n){Gi[Yi++]=Ji,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=e;var r=Ji;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,$i=o+e}else Ji=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Zi(e,1),Xi(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--Ki],Vi[Ki]=null,Hi=Vi[--Ki],Vi[Ki]=null;for(;e===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Ji=Gi[--Yi],Gi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ji,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mo=Ai(null),bo=null,_o=null,wo=null;function So(){wo=_o=bo=null}function Eo(e){var t=mo.current;Ci(mo),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Io=null;function ko(e){null===Io?Io=[e]:Io.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ko(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var xo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ou)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,ko(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var i=e.updateQueue;xo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:xo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fu|=a,e.lanes=a,e.memoizedState=f}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ro(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rc(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ro(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(rc(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ro(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(rc(t,e,r,n),Uo(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ko(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ni(t)?Pi:ki.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?xi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ni(t)?Pi:ki.current,i.context=xi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=jc(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Uc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case N:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=h(i,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=g}if(v===s.length)return n(i,f),io&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),io&&Zi(i,v),c}function g(i,s,u,c){var l=D(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=h(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===f?l=b:f.sibling=b,f=b,v=y}if(m.done)return n(i,v),io&&Zi(i,g),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=d(i,m.value,c))&&(s=a(m,s,g),null===f?l=m:f.sibling=m,f=m);return io&&Zi(i,g),l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=a(m,s,g),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Go(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Uc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dc(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(a,r.mode,u)).return=r,r=o}return s(r);case N:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(D(a))return g(r,o,a,u);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var $o=Jo(!0),Zo=Jo(!1),Xo={},ea=Ai(Xo),ta=Ai(Xo),na=Ai(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Ti(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var ua=Ai(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var da=_.ReactCurrentDispatcher,ha=_.ReactCurrentBatchConfig,pa=0,va=null,ga=null,ya=null,ma=!1,ba=!1,_a=0,wa=0;function Sa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Aa(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,t.updateQueue=null,da.current=cs,e=n(r,i)}while(ba)}if(da.current=as,t=null!==ga&&null!==ga.next,pa=0,ya=ga=va=null,ma=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==_a;return _a=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?va.memoizedState=ya=e:ya=ya.next=e,ya}function Ia(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?va.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?va.memoizedState=ya=e:ya=ya.next=e}return ya}function ka(e,t){return"function"===typeof t?t(e):t}function Oa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,va.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Fu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xa(){}function Na(e,t){var n=va,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ka(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,ja(9,Ra.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(o(349));0!==(30&pa)||Ma(n,t,i)}return i}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Ua(t)&&Fa(e)}function Da(e,t,n){return n((function(){Ua(t)&&Fa(e)}))}function Ua(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function La(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Ia().memoizedState}function za(e,t,n,r){var i=Ta();va.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function qa(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}va.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function Va(e,t){return za(8390656,8,e,t)}function Ka(e,t){return qa(2048,8,e,t)}function Wa(e,t){return qa(4,2,e,t)}function Ha(e,t){return qa(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qa(4,4,Ga.bind(null,t,e),n)}function Qa(){}function Ja(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Fu|=n,e.baseState=!0),t)}function Xa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return Ia().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Oo(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,ko(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var as={readContext:To,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:La,useDebugValue:Qa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Xa.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pu)throw Error(o(349));0!==(30&pa)||Ma(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Da.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Pu.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:To,useCallback:Ja,useContext:To,useEffect:Ka,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:$a,useReducer:Oa,useRef:Ba,useState:function(){return Oa(ka)},useDebugValue:Qa,useDeferredValue:function(e){return Za(Ia(),ga.memoizedState,e)},useTransition:function(){return[Oa(ka)[0],Ia().memoizedState]},useMutableSource:xa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Ja,useContext:To,useEffect:Ka,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:$a,useReducer:Pa,useRef:Ba,useState:function(){return Pa(ka)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ia();return null===ga?t.memoizedState=e:Za(t,ga.memoizedState,e)},useTransition:function(){return[Pa(ka)[0],Ia().memoizedState]},useMutableSource:xa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),ds(0,t)},n}function vs(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Zo(t,null,n,r):$o(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Aa(e,t,n,r,o,i),n=Ca(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,As(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function As(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ru,Mu),Mu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ru,Mu),Mu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ru,Mu),Mu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ru,Mu),Mu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=Ni(n)?Pi:ki.current;return o=xi(t,o),Co(t,i),n=Aa(e,t,n,r,o,i),r=Ca(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function ks(e,t,n,r,i){if(Ni(n)){var o=!0;Ui(t)}else o=!1;if(Co(t,i),null===t.stateNode)Ks(e,t),Ko(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=xi(t,c=Ni(n)?Pi:ki.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wo(t,a,r,c),xo=!1;var d=t.memoizedState;a.state=d,Lo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Oi.current||xo?("function"===typeof l&&(zo(t,n,l,r),u=t.memoizedState),(s=xo||Vo(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=To(u):u=xi(t,u=Ni(n)?Pi:ki.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Wo(t,a,r,u),xo=!1,d=t.memoizedState,a.state=d,Lo(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||Oi.current||xo?("function"===typeof h&&(zo(t,n,h,r),p=t.memoizedState),(c=xo||Vo(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ia(e,t.containerInfo)}function xs(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Ms,Rs,Ds,Us={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Uc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Us,e):js(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Uc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Us,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),rc(r,e,i,-1))}return gc(),Bs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Yi++]=Ji,Gi[Yi++]=$i,Gi[Yi++]=Qi,Ji=e.id,$i=e.overflow,Qi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Uc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Us,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&vo(r),$o(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ni(t.type)&&Mi(),Gs(t),null;case 3:return r=t.stateNode,oa(),Ci(Oi),Ci(ki),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ms(e,t),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":H(r),X(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)jr(Dr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in me(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&jr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ci(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),Ms(e,t),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return Eo(t.type._context),Gs(t),null;case 19:if(Ci(ua),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Vu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Gs(t),null}else 2*$e()-a.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ua.current,Ti(ua,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Oi),Ci(ki),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ua),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,$s=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Xs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||eu(n,t);case 6:var r=fu,i=du;fu=null,hu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(o(160));pu(a,s,i),fu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Cc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),mu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(g){Cc(e,e.return,g)}try{ru(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(gu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&$(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ge(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(u){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(g){Cc(e,e.return,g)}}break;case 6:if(gu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cc(e,e.return,g)}}break;case 3:if(gu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gu(t,e),mu(e);break;case 13:gu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=$e())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||f,gu(t,e),$s=l):gu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){Su(d);continue}}null!==p?(p.return=h,Xs=p):Su(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){Cc(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gu(t,e),mu(e),4&r&&vu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Xs=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Js;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Js;var c=$s;if(Js=a,($s=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?Eu(i):null!==u?(u.return=a,Xs=u):Eu(i);for(;null!==o;)Xs=o,_u(o,t,n),o=o.sibling;Xs=i,Js=s,$s=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):wu(e)}}function wu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(o(163))}$s||512&t.flags&&ou(t)}catch(h){Cc(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Su(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Eu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Cc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Cc(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Cc(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Cc(t,a,u)}}}catch(u){Cc(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Au,Cu=Math.ceil,Tu=_.ReactCurrentDispatcher,Iu=_.ReactCurrentOwner,ku=_.ReactCurrentBatchConfig,Ou=0,Pu=null,xu=null,Nu=0,Mu=0,Ru=Ai(0),Du=0,Uu=null,Fu=0,Lu=0,ju=0,Bu=null,zu=null,qu=0,Vu=1/0,Ku=null,Wu=!1,Hu=null,Gu=null,Yu=!1,Qu=null,Ju=0,$u=0,Zu=null,Xu=-1,ec=0;function tc(){return 0!==(6&Ou)?$e():-1!==Xu?Xu:Xu=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ou)&&0!==Nu?Nu&-Nu:null!==go.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<$u)throw $u=0,Zu=null,Error(o(185));yt(e,n,r),0!==(2&Ou)&&e===Pu||(e===Pu&&(0===(2&Ou)&&(Lu|=n),4===Du&&uc(e,Nu)),ic(e,r),1===n&&0===Ou&&0===(1&t.mode)&&(Vu=$e()+500,ji&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Pu?Nu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),ai((function(){0===(6&Ou)&&qi()})),n=null;else{switch(_t(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xu=-1,ec=0,0!==(6&Ou))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Pu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ou;Ou|=2;var a=vc();for(Pu===e&&Nu===t||(Ku=null,Vu=$e()+500,hc(e,t));;)try{bc();break}catch(u){pc(e,u)}So(),Tu.current=a,Ou=i,null!==xu?t=0:(Pu=null,Nu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Uu,hc(e,0),uc(e,r),ic(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Uu,hc(e,0),uc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,zu,Ku);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,zu,Ku),t);break}Sc(e,zu,Ku);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,zu,Ku),r);break}Sc(e,zu,Ku);break;default:throw Error(o(329))}}}return ic(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~ju,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ou))throw Error(o(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Uu,hc(e,0),uc(e,t),ic(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zu,Ku),ic(e,$e()),null}function lc(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Vu=$e()+500,ji&&qi())}}function fc(e){null!==Qu&&0===Qu.tag&&0===(6&Ou)&&Ec();var t=Ou;Ou|=1;var n=ku.transition,r=bt;try{if(ku.transition=null,bt=1,e)return e()}finally{bt=r,ku.transition=n,0===(6&(Ou=t))&&qi()}}function dc(){Mu=Ru.current,Ci(Ru)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==xu)for(n=xu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:oa(),Ci(Oi),Ci(ki),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pu=e,xu=e=Rc(e.current,null),Nu=Mu=t,Du=0,Uu=null,ju=Lu=Fu=0,zu=Bu=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=xu;try{if(So(),da.current=as,ma){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(pa=0,ya=ga=va=null,ba=!1,_a=0,Iu.current=null,null===n||null===n.return){Du=1,Uu=t,xu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&gs(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(a,l,t),gc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Du&&(Du=2),null===Bu?Bu=[a]:Bu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:u=c;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(_){t=_,xu===n&&null!==n&&(xu=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=as,null===e?as:e}function gc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Pu||0===(268435455&Fu)&&0===(268435455&Lu)||uc(Pu,Nu)}function yc(e,t){var n=Ou;Ou|=2;var r=vc();for(Pu===e&&Nu===t||(Ku=null,hc(e,t));;)try{mc();break}catch(i){pc(e,i)}if(So(),Ou=n,Tu.current=r,null!==xu)throw Error(o(261));return Pu=null,Nu=0,Du}function mc(){for(;null!==xu;)_c(xu)}function bc(){for(;null!==xu&&!Qe();)_c(xu)}function _c(e){var t=Au(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?wc(e):xu=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Mu)))return void(xu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(xu=n);if(null===e)return Du=6,void(xu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(xu=t);xu=t=e}while(null!==t);0===Du&&(Du=5)}function Sc(e,t,n){var r=bt,i=ku.transition;try{ku.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Qu);if(0!==(6&Ou))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pu&&(xu=Pu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yu||(Yu=!0,Pc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=ku.transition,ku.transition=null;var s=bt;bt=1;var u=Ou;Ou|=4,Iu.current=null,function(e,t){if(ei=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===a&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Cc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Je(),Ou=u,bt=s,ku.transition=a}else e.current=n;if(Yu&&(Yu=!1,Qu=e,Ju=i),a=e.pendingLanes,0===a&&(Gu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&Ju)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Zu?$u++:($u=0,Zu=e):$u=0,qi()}(e,t,n,r)}finally{ku.transition=i,bt=r}return null}function Ec(){if(null!==Qu){var e=_t(Ju),t=ku.transition,n=bt;try{if(ku.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Ju=0,0!==(6&Ou))throw Error(o(331));var i=Ou;for(Ou|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:ru(8,f,a)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var h=(f=Xs).sibling,p=f.return;if(au(f),f===l){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Xs=m;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(S){Cc(u,u.return,S)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Ou=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,ku.transition=t}}return!1}function Ac(e,t,n){e=Do(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Do(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Du||3===Du&&(130023424&Nu)===Nu&&500>$e()-qu?hc(e,0):ju|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Po(e,t))&&(yt(e,t,n),ic(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return Ge(e,t)}function xc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new xc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Uc(n.children,i,a,t);case A:s=8,i|=8;break;case C:return(e=Nc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case O:return(e=Nc(13,n,t,i)).elementType=O,e.lanes=a,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case k:s=11;break e;case x:s=14;break e;case N:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function qc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Di(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,u){return(e=zc(n,r,!0,e,0,o,0,s,u)).context=qc(null),n=e.current,(o=Ro(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,a))&&(rc(e,i,a,o),Uo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Au=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Ni(t.type)&&Ui(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ti(ua,1&ua.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Ws(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Xi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=xi(t,ki.current);Co(t,n),i=Aa(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Ui(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===x)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),Lo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=xs(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=xs(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Oi.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ro(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ao(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ao(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=To(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Es(e,t,r,i=yo(r.type,i),n);case 15:return As(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Ks(e,t),t.tag=1,Ni(r)?(e=!0,Ui(t)):e=!1,Co(t,n),Ko(t,r,i),Ho(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pi]=a.current,qr(8===e.nodeType?e.parentNode:e),fc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(a)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),ic(t,$e()),0===(6&Ou)&&(Vu=$e()+500,qi()))}break;case 13:fc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},At=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=lc,Oe=fc;var tl={usingClientEntryPoint:!1,Events:[bi,_i,wi,Te,Ie,lc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var _=b.prototype=new m;_.constructor=b,v(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!A.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+k(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),O(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+k(s=e[c],c);u+=O(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=O(s=s.value,t,i,l=o+k(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},M={transition:null},R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(g=!1,_(e),!v)if(null!==r(c))v=!0,M(S);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function S(e,n){v=!1,g&&(g=!1,m(T),T=-1),p=!0;var o=h;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!O());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),u=!1}return u}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,A=!1,C=null,T=-1,I=5,k=-1;function O(){return!(t.unstable_now()-k<I)}function P(){if(null!==C){var e=t.unstable_now();k=e;var n=!0;try{n=C(!0,e)}finally{n?E():(A=!1,C=null)}}else A=!1}if("function"===typeof b)E=function(){b(P)};else if("undefined"!==typeof MessageChannel){var x=new MessageChannel,N=x.port2;x.port1.onmessage=P,E=function(){N.postMessage(null)}}else E=function(){y(P,0)};function M(e){C=e,A||(A=!0,E())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(m(T),T=-1):g=!0,R(w,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,M(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return _},__asyncGenerator:function(){return b},__asyncValues:function(){return w},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return T},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return A},__importStar:function(){return E},__makeTemplateObject:function(){return S},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArrays:function(){return y},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},6999:function(){},4175:function(e,t,n){"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},u=function e(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}n.r(t),n.d(t,{default:function(){return r}})},4940:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},a=e.split(";"),s=i.decode||n,u=0;u<a.length;u++){var c=a[u],l=c.indexOf("=");if(!(l<0)){var f=c.substring(0,l).trim();if(void 0==r[f]){var d=c.substring(l+1,c.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[f]=o(d,s)}}}return r},t.q=function(e,t,n){var o=n||{},a=o.encode||r;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!i.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!==typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");if(o.sameSite){switch("string"===typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(n){return e}}},6369:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=1,l=26,f=38,d=700,h=72,p=128,v="-",g=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-c,w=Math.floor,S=String.fromCharCode;function E(e){throw RangeError(b[e])}function A(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+A((e=e.replace(m,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function I(e){return A(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,n){var r=0;for(e=n?w(e/d):e>>1,e+=w(e/t);e>_*l>>1;r+=u)e=w(e/_);return w(r+(_+1)*e/(e+f))}function P(e){var t,n,r,i,o,a,f,d,g,y,m,b=[],_=e.length,S=0,A=p,C=h;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(o=S,a=1,f=u;i>=_&&E("invalid-input"),((d=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||d>w((s-S)/a))&&E("overflow"),S+=d*a,!(d<(g=f<=C?c:f>=C+l?l:f-C));f+=u)a>w(s/(y=u-g))&&E("overflow"),a*=y;C=O(S-o,t=b.length+1,0==o),w(S/t)>s-A&&E("overflow"),A+=w(S/t),S%=t,b.splice(S++,0,A)}return I(b)}function x(e){var t,n,r,i,o,a,f,d,g,y,m,b,_,A,C,I=[];for(b=(e=T(e)).length,t=p,n=0,o=h,a=0;a<b;++a)(m=e[a])<128&&I.push(S(m));for(r=i=I.length,i&&I.push(v);r<b;){for(f=s,a=0;a<b;++a)(m=e[a])>=t&&m<f&&(f=m);for(f-t>w((s-n)/(_=r+1))&&E("overflow"),n+=(f-t)*_,t=f,a=0;a<b;++a)if((m=e[a])<t&&++n>s&&E("overflow"),m==t){for(d=n,g=u;!(d<(y=g<=o?c:g>=o+l?l:g-o));g+=u)C=d-y,A=u-y,I.push(S(k(y+C%A,0))),d=w(C/A);I.push(S(k(d,0))),o=O(n,_,r==i),n=0,++r}++n,++t}return I.join("")}a={version:"1.3.2",ucs2:{decode:T,encode:I},decode:P,encode:x,toASCII:function(e){return C(e,(function(e){return y.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return C(e,(function(e){return g.test(e)?P(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},2114:function(e,t,n){"use strict";var r=n(6369),i=n(9939);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.WU=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)};var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(863);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(E||w&&!y[w])){for(var A,C,T=-1,I=0;I<d.length;I++){-1!==(k=b.indexOf(d[I]))&&(-1===T||k<T)&&(T=k)}-1!==(C=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(A=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(A)),T=-1;for(I=0;I<f.length;I++){var k;-1!==(k=b.indexOf(f[I]))&&(-1===T||k<T)&&(T=k)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var P=this.hostname.split(/\./),x=(I=0,P.length);I<x;I++){var N=P[I];if(N&&!N.match(h)){for(var M="",R=0,D=N.length;R<D;R++)N.charCodeAt(R)>127?M+="x":M+=N[R];if(!M.match(h)){var U=P.slice(0,I),F=P.slice(I+1),L=N.match(p);L&&(U.push(L[1]),F.unshift(L[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[S])for(I=0,x=l.length;I<x;I++){var z=l[I];if(-1!==b.indexOf(z)){var q=encodeURIComponent(z);q===z&&(q=escape(z)),b=b.split(z).join(q)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var K=b.indexOf("?");if(-1!==K?(this.search=b.substr(K),this.query=b.substr(K+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,K)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var W=this.search||"";this.path=j+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,S=w,E=n.pathname&&n.pathname.split("/")||[],A=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===E[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(A)n.hostname=n.host=E.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=E.slice(-1)[0],T=(n.host||e.host||E.length>1)&&("."===C||".."===C)||""===C,I=0,k=E.length;k>=0;k--)"."===(C=E[k])?E.splice(k,1):".."===C?(E.splice(k,1),I++):I&&(E.splice(k,1),I--);if(!w&&!S)for(;I--;I)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),T&&"/"!==E.join("/").substr(-1)&&E.push("");var O,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);A&&(n.hostname=n.host=P?"":E.length?E.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift()));return(w=w||n.host&&E.length)&&!P&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},9939:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4610:function(e,t,n){var r=n(7669),i=n(8560),o=i;o.v1=r,o.v4=i,e.exports=o},1874:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},7180:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},7669:function(e,t,n){var r,i,o=n(7180),a=n(1874),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=p-s+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var y=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var m=p/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},8560:function(e,t,n){var r=n(7180),i=n(1874);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},7179:function(e,t,n){e.exports=n(8917).Observable},8917:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var o=function(){return"function"===typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var u=s("iterator"),c=s("observable"),l=s("species");function f(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:S}function h(e){return e instanceof S}function p(e){p.log?p.log(e):setTimeout((function(){throw e}))}function v(e){Promise.resolve().then((function(){try{e()}catch(t){p(t)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(r){p(r)}}function y(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";var r=e._observer;try{var i=f(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(y(e),!i)throw n;i.call(r,n);break;case"complete":y(e),i&&i.call(r)}}catch(o){p(o)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(m(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void m(e,t,n);e._queue.push({type:t,value:n})}}var _=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new w(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(y(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),S=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new _(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(s){return n.error(s)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(s){return r.error(s)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,c);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return h(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=f(t,u)))return new n((function(e){v((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(e.next(u),e.closed)return}}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"===typeof this?this:e)((function(e){v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=S,o()&&Object.defineProperty(S,Symbol("extensions"),{value:{symbol:c,hostReportError:p},configurable:!0})},3134:function(e,t,n){e.exports=n(3660).Observable},3660:function(e,t,n){"use strict";e=n.nmd(e),function(e,t){function n(e){return"function"===typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function i(e){setTimeout((function(){throw e}))}function o(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:p}function s(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function u(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(n){i(n)}}}function c(e){return void 0===e._observer}function l(e){c(e)||(e._observer=void 0,u(e))}function f(e){return function(){e.unsubscribe()}}function d(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=o(e,"start");n&&n.call(e,this)}catch(a){i(a)}if(!c(this)){e=new h(this);try{var r=t.call(void 0,e);if(null!=r){if("function"===typeof r.unsubscribe)r=f(r);else if("function"!==typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(a){return void e.error(a)}c(this)&&u(this)}}function h(e){this._subscription=e}function p(e){if(!(this instanceof p))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!==typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),s(d.prototype={},{get closed(){return c(this)},unsubscribe:function(){l(this)}}),s(h.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=o(n,"next");r&&r.call(n,e)}catch(a){i(a)}}},error:function(e){var t=this._subscription;if(c(t))i(e);else{var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;r.call(n,e)}catch(a){i(a)}u(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=o(t,"complete");n&&n.call(t)}catch(r){i(r)}u(e)}}}),s(p.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"===typeof e?e={next:e,error:t[0],complete:t[1]}:"object"===typeof e&&null!==e||(e={}),new d(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!==typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(i){r(i),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(r){return n.error(r)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!i;if(i=!0,!a||r)try{o=e(o,t)}catch(s){return n.error(s)}else o=t}},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}}),Object.defineProperty(p.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),s(p,{from:function(e){var t="function"===typeof this?this:p;if(null==e)throw new TypeError(e+" is not an object");var i=o(e,r("observable"));if(i){var a=i.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t((function(e){return a.subscribe(e)}))}if(n("iterator")&&(i=o(e,r("iterator"))))return new t((function(t){for(var n,r=i.call(e)[Symbol.iterator]();!(n=r.next()).done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"===typeof this?this:p)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(p,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(p,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){i=e}}}),e.Observable=p}(t)},7383:function(e,t,n){"use strict";var r,i,o=n(3134);function a(e,t,n){if(e._observer)s(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){s(e,t,n)}))}}function s(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function u(e){return e._observer||e._observers&&e._observers.size>0}function c(e){var t=this;this._observer=null,this._observers=null,this._observable=new o((function(n){return function(e,t){!u(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!u(e)&&t&&t.pause&&t.pause()}(t,e)}}))}r=c.prototype,i={get observable(){return this._observable},get observed(){return u(this)},next:function(e){a(this,"next",e)},error:function(e){a(this,"error",e)},complete:function(e){a(this,"complete",e)}},Object.keys(i).forEach((function(e){var t=Object.getOwnPropertyDescriptor(i,e);t.enumerable=!1,Object.defineProperty(r,e,t)})),e.exports=c}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".ca0cf5fa.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="sandbox-amplify:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/sandbox-amplify/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunksandbox_amplify=self.webpackChunksandbox_amplify||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(2791),t=n(1250),r=n(184),i=function(){return(0,r.jsx)("div",{className:"title",children:(0,r.jsx)("span",{children:"Sandbox Amplify"})})};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var y={};l(y,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(k([])));b&&b!==t&&n.call(b,s)&&(y=b);var _=g.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function i(r,a,s,u){var c=d(e[r],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function A(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,A(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),l(_,c,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f,d,h,p=n(9388);function v(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function g(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(f||(f={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(d||(d={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(h||(h={}));var y,m={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(y||(y={}));var b=function(){function e(e,t){void 0===t&&(t=y.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.level;if(e.LOG_LEVEL&&(a=e.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(a=window.LOG_LEVEL),m[t]>=m[a]){var s=console.log.bind(console);t===y.ERROR&&console.error&&(s=console.error.bind(console)),t===y.WARN&&console.warn&&(s=console.warn.bind(console));var u="["+t+"] "+this._ts()+" "+this.name,c="";if(1===i.length&&"string"===typeof i[0])s(c=u+" - "+i[0]);else if(1===i.length)c=u+" "+i[0],s(u,i[0]);else if("string"===typeof i[0]){var l=i.slice(1);1===l.length&&(l=l[0]),c=u+" - "+i[0]+" "+l,s(u+" - "+i[0],l)}else c=u+" "+i,s(u,i);try{for(var f=(0,p.__values)(this._pluggables),d=f.next();!d.done;d=f.next()){var h=d.value,v={message:c,timestamp:Date.now()};h.pushLogs([v])}}catch(g){n={error:g}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,p.__spread)([y.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,p.__spread)([y.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,p.__spread)([y.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,p.__spread)([y.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,p.__spread)([y.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,p.__spread)([y.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),_=new b("Hub"),w="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var S=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void _.warn("No listeners for "+e);this.patterns=(0,p.__spread)(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void _.warn("No listeners for "+e);this.listeners[e]=(0,p.__spread)(r.filter((function(e){return e.callback!==t})))}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===w||_.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:(0,p.__assign)({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(o){_.error(o)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))_.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!==typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){_.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(i){_.error(i)}})),this.patterns.length>0){if(!n.message)return void _.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=(0,p.__read)(n).slice(1),o=(0,p.__assign)((0,p.__assign)({},e),{patternInfo:r});try{t.callback(o)}catch(a){_.error(a)}}}))}},e}(),E=new S("__default__"),A={},C=function(){function e(){}return e.setItem=function(e,t){return A[e]=t,A[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(A,e)?A[e]:void 0},e.removeItem=function(e){return delete A[e]},e.clear=function(){return A={}},e}(),T=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=C}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),I=function(){if("undefined"===typeof self)return!1;var e=self;return"undefined"!==typeof e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},k=function(){return{isBrowser:"undefined"!==typeof window&&"undefined"!==typeof window.document,isNode:"undefined"!==typeof process&&null!=process.versions&&null!=process.versions.node}},O=new b("Util"),P=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return(0,p.__extends)(t,e),t}(Error),x=function(e){return e&&e.nonRetryable};function N(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i=this;return(0,p.__generator)(this,(function(o){if("function"!==typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(o,a){return(0,p.__awaiter)(i,void 0,void 0,(function(){var i,s,u,c,l,f,d;return(0,p.__generator)(this,(function(h){switch(h.label){case 0:i=0,s=!1,c=function(){},r&&r.then((function(){s=!0,clearTimeout(u),c()})),f=function(){var r,f,d,h;return(0,p.__generator)(this,(function(v){switch(v.label){case 0:i++,O.debug(e.name+" attempt #"+i+" with this vars: "+JSON.stringify(t)),v.label=1;case 1:return v.trys.push([1,3,,7]),r={},f=o,[4,e.apply(void 0,(0,p.__spread)(t))];case 2:return[2,(r.value=f.apply(void 0,[v.sent()]),r)];case 3:return d=v.sent(),l=d,O.debug("error on "+e.name,d),x(d)?(O.debug(e.name+" non retryable error",d),[2,{value:a(d)}]):(h=n(i,t,d),O.debug(e.name+" retrying in "+h+" ms"),!1===h||s?[2,{value:a(d)}]:[3,4]);case 4:return[4,new Promise((function(e){c=e,u=setTimeout(c,h)}))];case 5:v.sent(),v.label=6;case 6:return[3,7];case 7:return[2]}}))},h.label=1;case 1:return s?[3,3]:[5,f()];case 2:return"object"===typeof(d=h.sent())?[2,d.value]:[3,1];case 3:return a(l),[2]}}))}))}))]}))}))}var M=3e5;function R(e){void 0===e&&(e=M);return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var D=function(e,t,n,r){return void 0===n&&(n=M),N(e,t,R(n),r)},U=new b("CognitoCredentials"),F=new Promise((function(e,t){return k().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(U.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(U.debug("not in the browser, directly resolved"),e())})),L=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(U.debug("need to wait for the Google SDK loaded"),[4,F]);case 1:e.sent(),this.initialized=!0,U.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return k().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(U.debug("google Auth undefined"),n(new P("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(U.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new P("Failed to reload google auth response"))}))):n(new P("User is not signed in with Google"))})).catch((function(e){U.debug("Failed to refresh google token",e),n(new P("Failed to refresh google token"))}))})):(U.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),j=new b("CognitoCredentials"),B=new Promise((function(e,t){return k().isBrowser?window.FB?(j.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(j.debug("not in the browser, directly resolved"),e())})),z=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(j.debug("need to wait for the Facebook SDK loaded"),[4,B]);case 1:e.sent(),this.initialized=!0,j.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(k().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return j.debug(t),Promise.reject(new P(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){a="the jwtToken is undefined";j.debug(a),n(new P(a))}t({token:i,expires_at:o})}else{var a="no response from facebook when refreshing the jwt token";j.debug(a),n(new P(a))}}),{scope:"public_profile,email"})}))},e}(),q=new L,V=new z,K=new b("Amplify"),W=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=b,this.ServiceWorker=null}return e.prototype.register=function(e){K.debug("component registered in amplify",e),this._components.push(e),"function"===typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):K.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),K.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=(0,p.__read)(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"===typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"===typeof t.addPluggable&&t.addPluggable(e)}))},e}()),H=function(e,t){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},H(e,t)};function G(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y.apply(this,arguments)};function Q(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function J(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function $(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Z,X,ee,te,ne,re,ie,oe,ae,se,ue,ce,le,fe,de,he,pe,ve,ge,ye,me,be,_e,we,Se,Ee,Ae,Ce,Te,Ie,ke,Oe,Pe,xe,Ne,Me,Re,De,Ue,Fe,Le,je,Be,ze,qe,Ve,Ke,We,He,Ge,Ye,Qe,Je,$e,Ze,Xe,et;Object.create;!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ue||(ue={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ae||(Ae={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ie||(Ie={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return Y({},e)}}(et||(et={}));var tt=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers},e}(),nt=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,p.__assign)((0,p.__assign)({},this),{headers:(0,p.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return(0,p.__assign)((0,p.__assign)({},e),((r={})[n]=Array.isArray(i)?(0,p.__spread)(i):i,r))}),{}))),n},e}();var rt=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g;return J(this,(function(y){switch(y.label){case 0:return r=[Y({},e)],g={},[4,Nt(e.body,t)];case 1:switch(n=Y.apply(void 0,r.concat([(g.body=y.sent(),g)])),o="UnknownError",o=Mt(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,ot(n,t)];case 3:return i=Y.apply(void 0,[Y.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 4:return s=[{}],[4,at(n,t)];case 5:return i=Y.apply(void 0,[Y.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 6:return u=[{}],[4,st(n,t)];case 7:return i=Y.apply(void 0,[Y.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 8:return c=[{}],[4,ut(n,t)];case 9:return i=Y.apply(void 0,[Y.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 10:return l=[{}],[4,lt(n,t)];case 11:return i=Y.apply(void 0,[Y.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 12:return f=[{}],[4,ft(n,t)];case 13:return i=Y.apply(void 0,[Y.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 14:return d=[{}],[4,dt(n,t)];case 15:return i=Y.apply(void 0,[Y.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 16:return h=[{}],[4,ht(n,t)];case 17:return i=Y.apply(void 0,[Y.apply(void 0,h.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Y(Y({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ot(e)}),y.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},it=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g;return J(this,(function(y){switch(y.label){case 0:return r=[Y({},e)],g={},[4,Nt(e.body,t)];case 1:switch(n=Y.apply(void 0,r.concat([(g.body=y.sent(),g)])),o="UnknownError",o=Mt(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,ot(n,t)];case 3:return i=Y.apply(void 0,[Y.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 4:return s=[{}],[4,at(n,t)];case 5:return i=Y.apply(void 0,[Y.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 6:return u=[{}],[4,ut(n,t)];case 7:return i=Y.apply(void 0,[Y.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 8:return c=[{}],[4,ct(n,t)];case 9:return i=Y.apply(void 0,[Y.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 10:return l=[{}],[4,lt(n,t)];case 11:return i=Y.apply(void 0,[Y.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 12:return f=[{}],[4,ft(n,t)];case 13:return i=Y.apply(void 0,[Y.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 14:return d=[{}],[4,dt(n,t)];case 15:return i=Y.apply(void 0,[Y.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 16:return h=[{}],[4,ht(n,t)];case 17:return i=Y.apply(void 0,[Y.apply(void 0,h.concat([y.sent()])),{name:o,$metadata:Ot(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Y(Y({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ot(e)}),y.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},ot=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=mt(n,t),[2,Y({name:"ExternalServiceException",$fault:"client",$metadata:Ot(e)},r)]}))}))},at=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=wt(n,t),[2,Y({name:"InternalErrorException",$fault:"server",$metadata:Ot(e)},r)]}))}))},st=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=St(n,t),[2,Y({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ot(e)},r)]}))}))},ut=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=Et(n,t),[2,Y({name:"InvalidParameterException",$fault:"client",$metadata:Ot(e)},r)]}))}))},ct=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=At(n,t),[2,Y({name:"LimitExceededException",$fault:"client",$metadata:Ot(e)},r)]}))}))},lt=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=Ct(n,t),[2,Y({name:"NotAuthorizedException",$fault:"client",$metadata:Ot(e)},r)]}))}))},ft=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=Tt(n,t),[2,Y({name:"ResourceConflictException",$fault:"client",$metadata:Ot(e)},r)]}))}))},dt=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=It(n,t),[2,Y({name:"ResourceNotFoundException",$fault:"client",$metadata:Ot(e)},r)]}))}))},ht=function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n=e.body,r=kt(n,t),[2,Y({name:"TooManyRequestsException",$fault:"client",$metadata:Ot(e)},r)]}))}))},pt=function(e,t){return Y(Y(Y({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:gt(e.Logins,t)})},vt=function(e,t){return Y(Y(Y({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:gt(e.Logins,t)})},gt=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=$(t,2),i=r[0],o=r[1];return null===o?e:Y(Y({},e),((n={})[i]=o,n))}),{})},yt=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},mt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},bt=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?yt(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},_t=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},wt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},St=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Et=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},At=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ct=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Tt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},It=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},kt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ot=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Pt=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},xt=function(e,t,n,r,i){return Q(void 0,void 0,void 0,(function(){var o,a,s,u,c,l;return J(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),a=o.hostname,s=o.protocol,u=void 0===s?"https":s,c=o.port,l={protocol:u,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new nt(l)]}}))}))},Nt=function(e,t){return function(e,t){return Pt(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Mt=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},Rt=function(e,t){return function(n,r){return function(r){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var i,o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}},Dt=function(e,t){return function(n,r){return function(r){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n((0,p.__assign)((0,p.__assign)({},r),{request:i}))]}}))}))}}},Ut={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ft={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Lt(e,t,n){return{applyToStack:function(r){r.add(Rt(e,n),Ut),r.add(Dt(e,t),Ft)}}}var jt=function e(){var t=[],n=[],r=new Set,i=function(e){return t.forEach((function(t){e.add(t.middleware,(0,p.__assign)({},t))})),n.forEach((function(t){e.addRelativeTo(t.middleware,(0,p.__assign)({},t))})),e},o=function e(t){var n=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,p.__spread)(e(t)))})),n.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,p.__spread)(e(t)))})),n},a=function(){var e=[],r=[],i={};t.forEach((function(t){var n=(0,p.__assign)((0,p.__assign)({},t),{before:[],after:[]});n.name&&(i[n.name]=n),e.push(n)})),n.forEach((function(e){var t=(0,p.__assign)((0,p.__assign)({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=e,a.sort((function(e,t){return Bt[t.step]-Bt[e.step]||zt[t.priority||"normal"]-zt[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,(0,p.__spread)(t)),e}),[]);return s.map((function(e){return e.middleware}))},s={add:function(e,n){void 0===n&&(n={});var i=n.name,o=n.override,a=(0,p.__assign)({step:"initialize",priority:"normal",middleware:e},n);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");t.splice(s,1)}r.add(i)}t.push(a)},addRelativeTo:function(e,t){var i=t.name,o=t.override,a=(0,p.__assign)({middleware:e},t);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=n.findIndex((function(e){return e.name===i})),u=n[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');n.splice(s,1)}r.add(i)}n.push(a)},clone:function(){return i(e())},use:function(e){e.applyToStack(s)},remove:function(e){return"string"===typeof e?function(e){var i=!1,o=function(t){return!t.name||t.name!==e||(i=!0,r.delete(e),!1)};return t=t.filter(o),n=n.filter(o),i}(e):function(e){var i=!1,o=function(t){return t.middleware!==e||(i=!0,t.name&&r.delete(t.name),!1)};return t=t.filter(o),n=n.filter(o),i}(e)},removeByTag:function(e){var i=!1,o=function(t){var n=t.tags,o=t.name;return!n||!n.includes(e)||(o&&r.delete(o),i=!0,!1)};return t=t.filter(o),n=n.filter(o),i},concat:function(t){var n=i(e());return n.use(t),n},applyToStack:i,resolve:function(e,t){var n,r;try{for(var i=(0,p.__values)(a().reverse()),o=i.next();!o.done;o=i.next()){e=(0,o.value)(e,t)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},Bt={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},zt={high:3,normal:2,low:1},qt=function(){function e(e){this.middlewareStack=jt(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!==typeof t?t:void 0,i="function"===typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Vt=function(){this.middlewareStack=jt()},Kt=function(){var e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,(0,p.__spread)([null],arguments)));return Object.setPrototypeOf(t,e.prototype),t};Kt.prototype=Object.create(String.prototype,{constructor:{value:Kt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Kt,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,p.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"===typeof e?e:JSON.stringify(e))}}(Kt);var Wt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return G(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Lt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:me.filterSensitiveLog,outputFilterSensitiveLog:_e.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(pt(e,t)),[2,xt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r,i;return J(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,rt(e,t)]:[4,Nt(e.body,t)];case 1:return n=o.sent(),r=bt(n,t),i=Y({$metadata:Ot(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Vt),Ht=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return(0,p.__extends)(t,e),t}(Error);function Gt(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"===typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=(0,p.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function Yt(e){var t=this;return function(){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,f=Wt.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Gt(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(Wt,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Ht("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new Ht("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,a=n.SecretKey,s=void 0===a?function(){throw new Ht("Response from Amazon Cognito contained no secret key")}():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:s,sessionToken:u,expiration:o}]}}))}))}}var Qt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return G(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Lt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:Se.filterSensitiveLog,outputFilterSensitiveLog:Ee.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r;return J(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(vt(e,t)),[2,xt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Q(void 0,void 0,void 0,(function(){var n,r,i;return J(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,it(e,t)]:[4,Nt(e.body,t)];case 1:return n=o.sent(),r=_t(n,t),i=Y({$metadata:Ot(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Vt),Jt="IdentityIds",$t=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Jt,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Jt,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Jt)))})).catch((function(e){throw n.close(),e}))}))},e}(),Zt=function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}(),Xt=new Zt;function en(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"===typeof self&&self.indexedDB?new $t:"object"===typeof window&&window.localStorage?window.localStorage:Xt:r,o=e.client,a=e.customRoleArn,s=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+s+":"+l:void 0,d=function(){return(0,p.__awaiter)(t,void 0,void 0,(function(){var e,t,r,c,l,h,v,g,y;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=p.sent(),p.label=2;case 2:return(e=t)?[3,7]:(h=(l=o).send,v=Qt.bind,y={AccountId:n,IdentityPoolId:s},u?[4,Gt(u)]:[3,4]);case 3:return g=p.sent(),[3,5];case 4:g=void 0,p.label=5;case 5:return[4,h.apply(l,[new(v.apply(Qt,[void 0,(y.Logins=g,y)]))])];case 6:r=p.sent().IdentityId,c=void 0===r?function(){throw new Ht("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(i.setItem(f,e)).catch((function(){})),p.label=7;case 7:return[2,(d=Yt({client:o,customRoleArn:a,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return(0,p.__awaiter)(t,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){throw f&&Promise.resolve(i.removeItem(f)).catch((function(){})),e}))}))}))}}var tn=new b("Parser"),nn=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=(0,p.__assign)((0,p.__assign)({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),tn.debug("parse config",e,"to amplifyconfig",n),n},rn=n(2843),on=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,an)},an=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};for(var sn=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null===n||void 0===n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=(0,p.__values)(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=on(a),Array.isArray(s))for(var u=0,c=s.length;u<c;u++)r.push(a+"="+on(s[u]));else{var l=a;(s||"string"===typeof s)&&(l+="="+on(s)),r.push(l)}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!==typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=(0,p.__values)(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new tt({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new tt({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),un={},cn=new Array(64),ln=0,fn="A".charCodeAt(0),dn="Z".charCodeAt(0);ln+fn<=dn;ln++){var hn=String.fromCharCode(ln+fn);un[hn]=ln,cn[ln]=hn}for(ln=0,fn="a".charCodeAt(0),dn="z".charCodeAt(0);ln+fn<=dn;ln++){hn=String.fromCharCode(ln+fn);var pn=ln+26;un[hn]=pn,cn[pn]=hn}for(ln=0;ln<10;ln++){un[ln.toString(10)]=ln+52;hn=ln.toString(10),pn=ln+52;un[hn]=pn,cn[pn]=hn}un["+"]=62,cn[62]="+",un["/"]=63,cn[63]="/";var vn=6,gn=8,yn=63;function mn(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,u=i+3;s<=u;s++)"="!==e[s]?(o|=un[e[s]]<<(u-s)*vn,a+=vn):o>>=vn;var c=i/4*3;o>>=a%gn;for(var l=Math.floor(a/gn),f=0;f<l;f++){var d=(l-f-1)*gn;r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function bn(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var _n={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},wn=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,p.__generator)(this,(function(o){return(null===(i=null===e||void 0===e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=(0,p.__spread)(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),_n)}}},Sn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],En=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],An=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Cn=[500,502,503,504],Tn=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||En.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},In=n(4610),kn=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},On=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Sn.includes(e.name)}(e)||Tn(e)||function(e){var t;return An.includes(e.name)||Cn.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Pn="standard",xn=function(){function e(e,t){var n,r,i;this.maxAttemptsProvider=e,this.mode=Pn,this.retryDecider=null!==(n=null===t||void 0===t?void 0:t.retryDecider)&&void 0!==n?n:On,this.delayDecider=null!==(r=null===t||void 0===t?void 0:t.delayDecider)&&void 0!==r?r:kn,this.retryQuota=null!==(i=null===t||void 0===t?void 0:t.retryQuota)&&void 0!==i?i:function(e){var t=e,n=e,r=function(e){return"TimeoutError"===e.name?10:5},i=function(e){return r(e)<=n};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:function(e){if(!i(e))throw new Error("No retry token available");var t=r(e);return n-=t,t},releaseRetryTokens:function(e){n+=null!==e&&void 0!==e?e:1,n=Math.min(n,t)}})}(500)}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),a=t.request,nt.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,In.v4)()),s=function(){var s,c,l,f,d;return(0,p.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),nt.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),c=s.response,l=s.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(Tn(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,s()];case 3:return"object"===typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),Nn=function(e){if(void 0===e&&(e=3),"number"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e};var Mn=n(5524),Rn=n.n(Mn);var Dn="cognito-identity.{region}.amazonaws.com",Un=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Fn=new Set(["cn-north-1","cn-northwest-1"]),Ln=new Set(["us-iso-east-1"]),jn=new Set(["us-isob-east-1"]),Bn=new Set(["us-gov-east-1","us-gov-west-1"]);var zn,qn={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:Un.has(e)&&(n={hostname:Dn.replace("{region}",e),partition:"aws"}),Fn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Ln.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),jn.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Bn.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Dn.replace("{region}",e),partition:"aws"})}return Promise.resolve(Y({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=(0,p.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value,s=(0,p.__read)(a.split("="),2),u=s[0],c=s[1],l=void 0===c?null:c;u=decodeURIComponent(u),l&&(l=decodeURIComponent(l)),u in r?Array.isArray(r[u])?r[u].push(l):r[u]=[r[u],l]:r[u]=l}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},Vn=Y(Y({},qn),{runtime:"browser",base64Decoder:mn,base64Encoder:function(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<(a-o-1)*gn,i+=gn;var s=Math.ceil(i/vn);r<<=s*vn-i;for(var u=1;u<=s;u++){var c=(s-u)*vn;t+=cn[(r&yn<<c)>>c]}t+="==".slice(0,4-s)}return t},bodyLengthChecker:function(e){if("string"===typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"===typeof e.byteLength?e.byteLength:"number"===typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l;return(0,p.__generator)(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?Rn().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null===e||void 0===e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null===e||void 0===e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null===e||void 0===e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null===e||void 0===e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:qn.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:(zn="Region is missing",function(){return Promise.reject(zn)}),requestHandler:new sn,sha256:rn.Sha256,streamCollector:function(e){return"function"===typeof Blob&&e instanceof Blob?function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,bn(e)];case 1:return t=r.sent(),n=mn(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),Kn=function(e){var t=e.endpoint,n=e.urlParser;if("string"===typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"===typeof t){var i=Promise.resolve(t);return function(){return i}}return t},Wn=function(e){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,i,o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},Hn=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Gn="content-length";var Yn={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Qn=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t,i,o,a,s;return(0,p.__generator)(this,(function(u){return t=r.request,nt.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(Gn)&&void 0!==(a=e(i))&&(t.headers=(0,p.__assign)((0,p.__assign)({},t.headers),((s={})[Gn]=String(a),s)))),[2,n((0,p.__assign)((0,p.__assign)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Yn)}}};for(var Jn={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},$n=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var r,i;return(0,p.__generator)(this,(function(o){return nt.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Jn)}}},Zn={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Xn=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"===typeof a.info&&(c=u.output,l=c.$metadata,f=(0,p.__rest)(c,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:l})),[2,u]):[2,u]}}))}))}}),Zn)}}},er={},tr={},nr=0;nr<256;nr++){var rr=nr.toString(16).toLowerCase();1===rr.length&&(rr="0"+rr),er[nr]=rr,tr[rr]=nr}function ir(e){for(var t="",n=0;n<e.byteLength;n++)t+=er[e[n]];return t}var or="X-Amz-Date",ar="X-Amz-Signature",sr="X-Amz-Security-Token",ur="authorization",cr=or.toLowerCase(),lr=[ur,cr,"date"],fr=ar.toLowerCase(),dr="x-amz-content-sha256",hr=sr.toLowerCase(),pr={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},vr=/^proxy-/,gr=/^sec-/,yr="AWS4-HMAC-SHA256",mr="AWS4-HMAC-SHA256-PAYLOAD",br="UNSIGNED-PAYLOAD",_r="aws4_request",wr={},Sr=[];function Er(e,t,n){return e+"/"+t+"/"+n+"/"+_r}function Ar(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Cr(e,t,n){var r,i,o=e.headers,a={};try{for(var s=(0,p.__values)(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var c=u.value,l=c.toLowerCase();(l in pr||(null===t||void 0===t?void 0:t.has(l))||vr.test(l)||gr.test(l))&&(!n||n&&!n.has(l))||(a[l]=o[c].trim().replace(/\s+/g," "))}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}var Tr=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Ir)},Ir=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};var kr=function(e){return"function"===typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)};function Or(e,t){var n=e.headers,r=e.body;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:try{for(e=(0,p.__values)(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===dr)return[2,n[o]]}catch(f){u={error:f}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return void 0!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"===typeof r||ArrayBuffer.isView(r)||kr(r)?((a=new t).update(r),s=ir,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[l.sent()])];case 3:return[2,br]}}))}))}function Pr(e){var t=e.headers,n=e.query,r=(0,p.__rest)(e,["headers","query"]);return(0,p.__assign)((0,p.__assign)({},r),{headers:(0,p.__assign)({},t),query:n?xr(n):void 0})}function xr(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return(0,p.__assign)((0,p.__assign)({},t),((r={})[n]=Array.isArray(i)?(0,p.__spread)(i):i,r))}),{})}function Nr(e){var t,n;e="function"===typeof e.clone?e.clone():Pr(e);try{for(var r=(0,p.__values)(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;lr.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function Mr(e){return function(e){if("number"===typeof e)return new Date(1e3*e);if("string"===typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var Rr=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=Fr(r),this.credentialProvider=Lr(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w,S,E,A,C,T;return(0,p.__generator)(this,(function(I){switch(I.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=I.sent(),null===c||void 0===c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=I.sent(),I.label=4;case 4:return d=h,v=Dr(r),g=v.longDate,y=v.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=Er(y,d,null!==l&&void 0!==l?l:this.service),b=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"===typeof e.clone?e.clone():Pr(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var c=(0,p.__values)(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return(0,p.__assign)((0,p.__assign)({},e),{headers:a,query:u})}(Nr(e),{unhoistableHeaders:s}),f.sessionToken&&(b.query[sr]=f.sessionToken),b.query["X-Amz-Algorithm"]=yr,b.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,b.query[or]=g,b.query["X-Amz-Expires"]=o.toString(10),_=Cr(b,a,u),b.query["X-Amz-SignedHeaders"]=Ur(_),w=b.query,S=ar,E=this.getSignature,A=[g,m,this.getSigningKey(f,d,y,l)],C=this.createCanonicalRequest,T=[b,_],[4,Or(e,this.sha256)]);case 5:return[4,E.apply(this,A.concat([C.apply(this,T.concat([I.sent()]))]))];case 6:return w[S]=I.sent(),[2,b]}}))}))},e.prototype.sign=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(n){return"string"===typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,v,g,y;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return null===s||void 0===s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=p.sent(),p.label=3;case 3:return e=t,i=Dr(o),c=i.shortDate,l=i.longDate,f=Er(c,e,null!==u&&void 0!==u?u:this.service),[4,Or({headers:{},body:r},this.sha256)];case 4:return d=p.sent(),(h=new this.sha256).update(n),g=ir,[4,h.digest()];case 5:return v=g.apply(void 0,[p.sent()]),y=[mr,l,f,a,v,d].join("\n"),[2,this.signString(y,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,s,u,c,l,f;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null===o||void 0===o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=Dr(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=ir,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,v,g,y;return(0,p.__generator)(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null===s||void 0===s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=Nr(e),l=Dr(i),f=l.longDate,d=l.shortDate,h=Er(d,n,null!==u&&void 0!==u?u:this.service),c.headers[cr]=f,t.sessionToken&&(c.headers[hr]=t.sessionToken),[4,Or(c,this.sha256)];case 5:return v=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=(0,p.__values)(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(dr,c.headers)&&this.applyChecksum&&(c.headers[dr]=v),g=Cr(c,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,g,v))];case 6:return y=m.sent(),c.headers[ur]=yr+" Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+Ur(g)+", Signature="+y,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===fr)return"continue";o.push(e);var t=i[e];"string"===typeof t?a[e]=Tr(e)+"="+Tr(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([Tr(e)+"="+Tr(n)])}),[]).join("&"))};try{for(var u=(0,p.__values)(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())s(c.value)}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,yr+"\n"+e+"\n"+t+"\n"+ir(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,c.sent()]))).update(i),u=ir,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h;return(0,p.__generator)(this,(function(v){switch(v.label){case 0:return[4,Ar(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=v.sent(),(a=n+":"+r+":"+i+":"+ir(o)+":"+t.sessionToken)in wr)return[2,wr[a]];for(Sr.push(a);Sr.length>50;)delete wr[Sr.shift()];s="AWS4"+t.secretAccessKey,v.label=2;case 2:v.trys.push([2,7,8,9]),u=(0,p.__values)([n,r,i,_r]),c=u.next(),v.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Ar(e,s,l)]);case 4:s=v.sent(),v.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=v.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,wr[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Dr=function(e){var t=Mr(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Ur=function(e){return Object.keys(e).sort().join(";")},Fr=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Lr=function(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function jr(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Br="user-agent",zr=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,qr=function(e){var t=(0,p.__read)(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null===e||void 0===e?void 0:e.replace(zr,"_")})).join("/")},Vr={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Kr=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return i=r.request,nt.isInstance(i)?(o=i.headers,a=(null===(l=null===t||void 0===t?void 0:t.userAgent)||void 0===l?void 0:l.map(qr))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(qr),u=(null===(f=null===n||void 0===n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(qr))||[],o["x-amz-user-agent"]=(0,p.__spread)(s,a,u).join(" "),c=(0,p.__spread)(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[Br]=o[Br]?o[Br]+" "+c:c),[2,e((0,p.__assign)((0,p.__assign)({},r),{request:i}))]}}))}))}}),Vr)}}},Wr=function(e){function t(t){var n,r=this,i=function(e){if(!e.region)throw new Error("Region is missing");return(0,p.__assign)((0,p.__assign)({},e),{region:Hn(e.region)})}(Y(Y({},Vn),t)),o=function(e){var t;return(0,p.__assign)((0,p.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?Kn(e):function(){return Wn(e)},isCustomEndpoint:!!e.endpoint})}(i),a=function(e){var t,n=this,r=jr(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?jr(e.signer):function(){return jr(e.region)().then((function(t){return(0,p.__awaiter)(n,void 0,void 0,(function(){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=(0,p.__read)(t,2),i=n[0],a=n[1],s=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||c||e.serviceId,new Rr({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},(0,p.__assign)((0,p.__assign)({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(o),s=function(e){var t=Nn(e.maxAttempts);return(0,p.__assign)((0,p.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new xn(t)})}(a),u=(n=s,(0,p.__assign)((0,p.__assign)({},n),{customUserAgent:"string"===typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent}));return(r=e.call(this,u)||this).config=u,r.middlewareStack.use(wn(r.config)),r.middlewareStack.use(Qn(r.config)),r.middlewareStack.use($n(r.config)),r.middlewareStack.use(Xn(r.config)),r.middlewareStack.use(Kr(r.config)),r}return G(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(qt),Hr="aws-amplify/5.1.2",Gr={userAgent:Hr+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!==typeof navigator&&navigator.product)if(Gr.product=navigator.product||"",Gr.navigator=navigator||null,"ReactNative"===navigator.product)Gr.userAgent=Hr+" react-native",Gr.isReactNative=!0;else Gr.userAgent=Hr+" js",Gr.isReactNative=!1;var Yr=function(e){return""+Gr.userAgent+(e||"")};function Qr(e){var t=new Wr({region:e.region,customUserAgent:Yr()});return t.middlewareStack.add((function(e,t){return function(t){return e(function(e){return(0,p.__assign)((0,p.__assign)({},e),{request:(0,p.__assign)((0,p.__assign)({},e.request),{headers:(0,p.__assign)((0,p.__assign)({},e.request.headers),{"cache-control":"no-store"})})})}(t))}}),{step:"build",name:"cacheControlMiddleWare"}),t}var Jr=new b("Credentials"),$r="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Zr=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=q.refreshGoogleToken,this._refreshHandlers.facebook=V.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=(0,p.__assign)((0,p.__assign)({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new T).getStorage()),this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),function(e,t,n){E.dispatch("core",{event:e,data:t,message:n},"Credentials",$r)}("credentials_configured",null,"Credentials has been configured successfully"),this._config},e.prototype.get=function(){return Jr.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return Jr.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Jr.debug("getting old cred promise"):(Jr.debug("getting new cred promise"),this._gettingCredPromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i}(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:if(Jr.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Jr.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Jr.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?W.Auth:t)||"function"!==typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Jr.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return i=s.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),Jr.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Jr.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var a=this;return Jr.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Jr.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):a._refreshHandlers[t]&&"function"===typeof a._refreshHandlers[t]?(Jr.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(Jr.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return D(n,[],1e4).then((function(e){return Jr.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"===typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Jr.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Jr.debug("no credentials for expiration check"),!0;Jr.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f=this;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return Jr.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,nn(this._config||{}).Auth)),t=this._config,n=t.identityPoolId,r=t.region,i=t.mandatorySignIn,o=t.identityPoolRegion,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?o||r?(s=this,[4,this._getGuestIdentityId()]):(Jr.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Jr.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return a=s._identityId=d.sent(),u=Qr({region:o||r}),c=void 0,a?c=Yt({identityId:a,client:u})():(l=function(){return(0,p.__awaiter)(f,void 0,void 0,(function(){var e;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,u.send(new Qt({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Yt({client:u,identityId:e})()]}}))}))},c=l().catch((function(e){return(0,p.__awaiter)(f,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(c,"guest",!1,null).then((function(e){return e})).catch((function(e){return(0,p.__awaiter)(f,void 0,void 0,(function(){var t,r=this;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+a+"' not found."?[3,2]:(Jr.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return i.sent(),t=function(){return(0,p.__awaiter)(r,void 0,void 0,(function(){var e;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,u.send(new Qt({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Yt({client:u,identityId:e})()]}}))}))},c=t().catch((function(e){return(0,p.__awaiter)(r,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){throw e}))}))})),[2,this._loadCredentials(c,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var a=this._config,s=a.identityPoolId,u=a.region,c=a.identityPoolRegion;if(!s)return Jr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!c&&!u)return Jr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l=Qr({region:c||u}),f=void 0;r?f=Yt({identityId:r,logins:o,client:l})():f=en({logins:o,identityPoolId:s,client:l})();return this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Jr.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,a=r.identityPoolId,s=r.identityPoolRegion;if(!a)return Jr.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!s&&!i)return Jr.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var u={};u["cognito-idp."+i+".amazonaws.com/"+o]=n;var c=Qr({region:s||i}),l=(0,p.__awaiter)(t,void 0,void 0,(function(){var e,t,n,r,i,o,s,l,f,d;return(0,p.__generator)(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,c.send(new Qt({IdentityPoolId:a,Logins:u}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,c.send(new Wt({IdentityId:e||t,Logins:u}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,s=i.Expiration,l=i.SecretKey,f=i.SessionToken,d=r.IdentityId,this._identityId=d,e?(Jr.debug("The guest identity "+e+" has been successfully linked to the logins"),e===d&&Jr.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:l,sessionToken:f,expiration:s,identityId:d}]}}))})).catch((function(e){return(0,p.__awaiter)(t,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){throw e}))}))}));return this._loadCredentials(l,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(a,s){e.then((function(e){return(0,p.__awaiter)(i,void 0,void 0,(function(){var i,s,u,c,l;return(0,p.__generator)(this,(function(f){switch(f.label){case 0:if(Jr.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),s=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:s,token:u,user:i,expires_at:c,identity_id:l}))}catch(d){Jr.debug("Failed to put federated info into auth storage",d)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return a(o._credentials),[2]}}))}))})).catch((function(t){if(t)return Jr.debug("Failed to load credentials",e),Jr.debug("Error loading credentials",t),void s(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Jr.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return this._credentials=null,this._credentials_source=null,Jr.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Jr.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Jr.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e;return(0,p.__generator)(this,(function(t){return e=this._config.identityPoolId,Jr.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),Xr=new Zr(null);W.register(Xr);var ei=n(4940);function ti(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var ni=function(){return ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ni.apply(this,arguments)},ri=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?ei.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=ei.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),ti(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=ti(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=ni(ni({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ei.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=ni(ni({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=ni({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ei.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),ii=ri,oi=k().isBrowser,ai=function(){function e(e){void 0===e&&(e={}),this.cookies=new ii,this.store=oi?window.localStorage:Object.create(null),this.cookies=e.req?new ii(e.req.headers.cookie):new ii,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){this.setLocalItem(e,t);var n=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(null!==n&&void 0!==n?n:"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t,n){void 0===n&&(n={}),this.cookies.set(e,t,(0,p.__assign)((0,p.__assign)({},n),{path:"/",sameSite:!0,secure:!oi||"localhost"!==window.location.hostname}))},e}();var si,ui=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=a||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),ci=n(9778);function li(){if(si){if("function"===typeof si.getRandomValues)try{return si.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"===typeof si.randomBytes)try{return si.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}"undefined"!==typeof window&&window.crypto&&(si=window.crypto),!si&&"undefined"!==typeof window&&window.msCrypto&&(si=window.msCrypto);var fi,di=function(){function e(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(li());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),hi=n(9335),pi=vi;function vi(e,t){null!=e&&this.fromString(e,t)}function gi(){return new vi(null)}var yi="undefined"!==typeof navigator;yi&&"Microsoft Internet Explorer"==navigator.appName?(vi.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},fi=30):yi&&"Netscape"!=navigator.appName?(vi.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},fi=26):(vi.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},fi=28),vi.prototype.DB=fi,vi.prototype.DM=(1<<fi)-1,vi.prototype.DV=1<<fi;vi.prototype.FV=Math.pow(2,52),vi.prototype.F1=52-fi,vi.prototype.F2=2*fi-52;var mi,bi,_i="0123456789abcdefghijklmnopqrstuvwxyz",wi=new Array;for(mi="0".charCodeAt(0),bi=0;bi<=9;++bi)wi[mi++]=bi;for(mi="a".charCodeAt(0),bi=10;bi<36;++bi)wi[mi++]=bi;for(mi="A".charCodeAt(0),bi=10;bi<36;++bi)wi[mi++]=bi;function Si(e){return _i.charAt(e)}function Ei(e,t){var n=wi[e.charCodeAt(t)];return null==n?-1:n}function Ai(e){var t=gi();return t.fromInt(e),t}function Ci(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Ti(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Ii(e){return ci.lW.from((new di).random(e).toString(),"hex")}Ti.prototype.convert=function(e){var t=gi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(vi.ZERO)>0&&this.m.subTo(t,t),t},Ti.prototype.revert=function(e){var t=gi();return e.copyTo(t),this.reduce(t),t},Ti.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Ti.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Ti.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},vi.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},vi.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},vi.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=Ei(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&vi.ZERO.subTo(this,this)},vi.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},vi.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},vi.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},vi.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},vi.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},vi.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},vi.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&vi.ZERO.subTo(t,t)},vi.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},vi.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=gi());var o=gi(),a=this.s,s=e.s,u=this.DB-Ci(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,v=n.t,g=v-c,y=null==t?gi():t;for(o.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),vi.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--g>=0;){var m=n[--v]==l?this.DM:Math.floor(n[v]*d+(n[v-1]+p)*h);if((n[v]+=o.am(0,m,n,g,0,c))<m)for(o.dlShiftTo(g,y),n.subTo(y,n);n[v]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&vi.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&vi.ZERO.subTo(n,n)}}},vi.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},vi.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},vi.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=Si(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=Si(n));return i?o:"0"},vi.prototype.negate=function(){var e=gi();return vi.ZERO.subTo(this,e),e},vi.prototype.abs=function(){return this.s<0?this.negate():this},vi.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},vi.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Ci(this[this.t-1]^this.s&this.DM)},vi.prototype.mod=function(e){var t=gi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(vi.ZERO)>0&&e.subTo(t,t),t},vi.prototype.equals=function(e){return 0==this.compareTo(e)},vi.prototype.add=function(e){var t=gi();return this.addTo(e,t),t},vi.prototype.subtract=function(e){var t=gi();return this.subTo(e,t),t},vi.prototype.multiply=function(e){var t=gi();return this.multiplyTo(e,t),t},vi.prototype.divide=function(e){var t=gi();return this.divRemTo(e,t,null),t},vi.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=Ai(1),a=new Ti(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var s=new Array,u=3,c=r-1,l=(1<<r)-1;if(s[1]=a.convert(this),r>1){var f=gi();for(a.sqrTo(s[1],f);u<=l;)s[u]=gi(),a.mulTo(f,s[u-2],s[u]),u+=2}var d,h,p=e.t-1,v=!0,g=gi();for(i=Ci(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),v)s[d].copyTo(o),v=!1;else{for(;u>1;)a.sqrTo(o,g),a.sqrTo(g,o),u-=2;u>0?a.sqrTo(o,g):(h=o,o=g,g=h),a.mulTo(g,s[d],o)}for(;p>=0&&0==(e[p]&1<<i);)a.sqrTo(o,g),h=o,o=g,g=h,--i<0&&(i=this.DB-1,--p)}var y=a.revert(o);return n(null,y),y},vi.ZERO=Ai(0),vi.ONE=Ai(1);var ki=/^[89a-f]/i,Oi=function(){function e(e){this.N=new pi("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new pi("2",16),this.k=new pi(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=ci.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=Ii(128).toString("hex");return new pi(e,16)},t.generateRandomString=function(){return Ii(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),a=Ii(16).toString("hex");this.SaltToHashDevices=this.padHex(new pi(a,16)),this.g.modPow(new pi(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(pi.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new pi(this.UHexHash,16)},t.hash=function(e){var t=new hi.Sha256;t.update(e);var n=t.digestSync(),r=ci.lW.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(ci.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=ci.lW.concat([this.infoBits,ci.lW.from(String.fromCharCode(1),"utf8")]),r=new hi.Sha256(t);r.update(e);var i=r.digestSync(),o=new hi.Sha256(i);return o.update(n),o.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(pi.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(pi.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),u=new pi(this.hexHash(this.padHex(r)+s),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(ci.lW.from(o.padHex(t),"hex"),ci.lW.from(o.padHex(o.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof pi))throw new Error("Not a BigInteger");var t=e.compareTo(pi.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!==0?"0"+n:n,n=ki.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new pi(r,16).add(pi.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),Pi=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(ci.lW.from(e,"base64").toString("utf8"))}catch(t){return{}}},e}();function xi(e,t){return xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xi(e,t)}var Ni=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,xi(t,n),r}(Pi);function Mi(e,t){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mi(e,t)}var Ri=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Mi(t,n),r}(Pi),Di=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),Ui="aws-amplify/5.0.4",Fi={userAgent:Ui+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!==typeof navigator&&navigator.product)if(Fi.product=navigator.product||"",Fi.navigator=navigator||null,"ReactNative"===navigator.product)Fi.userAgent=Ui+" react-native",Fi.isReactNative=!0;else Fi.userAgent=Ui+" js",Fi.isReactNative=!1;var Li=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),ji=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bi=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],zi=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=Bi[e.getUTCDay()],n=ji[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+i+":"+o+":"+a+" UTC "+e.getUTCFullYear()},e}(),qi=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),Vi={},Ki=function(){function e(){}return e.setItem=function(e,t){return Vi[e]=t,Vi[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Vi,e)?Vi[e]:void 0},e.removeItem=function(e){return delete Vi[e]},e.clear=function(){return Vi={}},e}(),Wi=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=Ki}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Hi="undefined"!==typeof navigator?Fi.isReactNative?"react-native":navigator.userAgent:"nodejs",Gi=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Wi).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new Oi(this.pool.getUserPoolName()),a=new zi,s={};null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey),s.USERNAME=this.username,o.getLargeAValue((function(u,c){u&&t.onFailure(u),s.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(s.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:s,ClientMetadata:l};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,(function(s,u){if(s)return t.onFailure(s);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new pi(c.SRP_B,16),r=new pi(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),s=ci.lW.concat([ci.lW.from(i.pool.getUserPoolName(),"utf8"),ci.lW.from(i.username,"utf8"),ci.lW.from(c.SECRET_BLOCK,"base64"),ci.lW.from(r,"utf8")]),f=new hi.Sha256(n);f.update(s);var d=f.digestSync(),h=ci.lW.from(d).toString("base64"),p={};p.USERNAME=i.username,p.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,p.TIMESTAMP=r,p.PASSWORD_CLAIM_SIGNATURE=h,null!=i.deviceKey&&(p.DEVICE_KEY=i.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:p,Session:u.Session,ClientMetadata:l};i.getUserContextData()&&(v.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(p.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(v,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new Oi(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var a=null,s=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var l=0;l<s.length;l++)u[l]=s[l].substr(c.length);return n.newPasswordRequired(a,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:ci.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ci.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Hi},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new Oi(this.pool.getUserPoolName()),a=o.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new Oi(this.deviceGroupKey),i=new zi,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,s){a&&e.onFailure(a),o.SRP_A=s.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,o){if(t)return e.onFailure(t);var a=o.ChallengeParameters,s=new pi(a.SRP_B,16),u=new pi(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,s,u,(function(t,r){if(t)return e.onFailure(t);var s=i.getNowString(),u=ci.lW.concat([ci.lW.from(n.deviceGroupKey,"utf8"),ci.lW.from(n.deviceKey,"utf8"),ci.lW.from(a.SECRET_BLOCK,"base64"),ci.lW.from(s,"utf8")]),c=new hi.Sha256(r);c.update(u);var l=c.digestSync(),f=ci.lW.from(l).toString("base64"),d={};d.USERNAME=n.username,d.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,d.TIMESTAMP=s,d.PASSWORD_CLAIM_SIGNATURE=f,d.DEVICE_KEY=n.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:d,Session:o.Session};n.getUserContextData()&&(h.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",h,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new Oi(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new Oi(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:ci.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ci.lW.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Hi},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e,n){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS",n)}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},a=new qi(o);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(i){return this.clearCachedUserData(),void e(i,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new Ri({IdToken:this.storage.getItem(r)}),u=new Ni({AccessToken:this.storage.getItem(i)}),c=new Di({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(a),0)||0,f=new Li({IdToken:s,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var u=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new Ri(e),n=new Ni(e),r=new Di(e);return new Li({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"===typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"===typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"===typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!==typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"===typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(t){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();n(2558);function Yi(){}Yi.prototype.userAgent=Fi.userAgent;var Qi=Yi;function Ji(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xi(e,t)}function $i(e){var t="function"===typeof Map?new Map:void 0;return $i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Zi(e,arguments,eo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xi(r,e)},$i(e)}function Zi(e,t,n){return Zi=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Xi(i,n.prototype),i},Zi.apply(null,arguments)}function Xi(e,t){return Xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xi(e,t)}function eo(e){return eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eo(e)}var to=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return Ji(t,e),t}($i(Error)),no=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new to(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=ao);return oo(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))})((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Qi.prototype.userAgent,"Cache-Control":"no-store"},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(o){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),ro={debug:function(){}},io=(Error,function(e){return e&&e.nonRetryable});function oo(e,t,n,r){if(void 0===r&&(r=1),"function"!==typeof e)throw Error("functionToRetry must be a function");return ro.debug(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(ro.debug("error on "+e.name,i),io(i))throw ro.debug(e.name+" non retryable error",i),i;var o=n(r,t,i);if(ro.debug(e.name+" retrying in "+o+" ms"),!1!==o)return new Promise((function(e){return setTimeout(e,o)})).then((function(){return oo(e,t,n,r+1)}));throw i}))}var ao=3e5;var so,uo=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new no(u,o,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new Wi).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:a,Storage:a.storage},o={user:new Gi(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Gi(n)}return null},t.getUserContextData=function(e){if("undefined"!==typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),co=n(3143),lo=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),co.set(e,t,n),co.get(e)},t.getItem=function(e){return co.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),co.remove(e,t)},t.clear=function(){for(var e=co.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),fo=n(2114),ho=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},po="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",vo=function(e,t,n){E.dispatch("auth",{event:e,data:t,message:n},"Auth",po)},go=new b("OAuth"),yo=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||ho,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=f.Cognito);var a=this._generateState(32),s=o?a+"-"+o.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),d=this._scopes.join(" "),h=Object.entries((0,p.__assign)((0,p.__assign)({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:d,state:s},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=(0,p.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),v="https://"+t+"/oauth2/authorize?"+h;go.debug("Redirecting to "+v),this._urlOpener(v,n)},e.prototype._handleCodeFlow=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h,v;return(0,p.__generator)(this,(function(y){switch(y.label){case 0:return t=((0,fo.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=(0,p.__read)(t,2),i=r[0],o=r[1];return(0,p.__assign)((0,p.__assign)({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=(0,fo.Qc)(e).pathname||"/",r=(0,fo.Qc)(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",vo("codeFlow",{},"Retrieving tokens from "+i),o=g(this._config)?this._cognitoClientId:this._config.clientID,a=g(this._config)?this._config.redirectSignIn:this._config.redirectUri,s=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e}(),u=(0,p.__assign)({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:a},s?{code_verifier:s}:{}),go.debug("Calling token endpoint: "+i+" with",u),c=Object.entries(u).map((function(e){var t=(0,p.__read)(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,y.sent().json()];case 2:if(l=y.sent(),f=l.access_token,d=l.refresh_token,h=l.id_token,v=l.error)throw new Error(v);return[2,{accessToken:f,refreshToken:d,idToken:h}]}}))}))},e.prototype._handleImplicitFlow=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,p.__generator)(this,(function(i){return t=((0,fo.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=(0,p.__read)(t,2),i=r[0],o=r[1];return(0,p.__assign)((0,p.__assign)({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,vo("implicitFlow",{},"Got tokens from "+e),go.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?(0,p.__assign)((0,p.__assign)({},((0,fo.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=(0,p.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),((0,fo.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=(0,p.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),go.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,p.__assign.apply(void 0,[p.__assign.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,p.__assign.apply(void 0,[p.__assign.apply(void 0,a.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw s=u.sent(),go.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e}(),n=e.state;if(t&&t!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,p.__generator)(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=g(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=g(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=(0,p.__read)(e,2);return t[0]+"="+t[1]})).join("&"),vo("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),go.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){var t=new hi.Sha256;t.update(e);var n=t.digestSync(),r=ci.lW.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!==typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}(),mo=yo;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(so||(so={}));var bo=new b("AuthError"),_o=function(e){function t(n){var r=this,i=So[n],o=i.message,a=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||o,bo.error(r.log),r}return(0,p.__extends)(t,e),t}(Error),wo=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return(0,p.__extends)(t,e),t}(_o),So={noConfig:{message:so.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:so.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:so.EMPTY_USERNAME},invalidUsername:{message:so.INVALID_USERNAME},emptyPassword:{message:so.EMPTY_PASSWORD},emptyCode:{message:so.EMPTY_CODE},signUpError:{message:so.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:so.NO_MFA},invalidMFA:{message:so.INVALID_MFA},emptyChallengeResponse:{message:so.EMPTY_CHALLENGE},noUserSession:{message:so.NO_USER_SESSION},deviceConfig:{message:so.DEVICE_CONFIG},networkError:{message:so.NETWORK_ERROR},autoSignInError:{message:so.AUTOSIGNIN_ERROR},default:{message:so.DEFAULT_MSG}},Eo=new b("AuthClass"),Ao="aws.cognito.signin.user.admin",Co="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",To=function(e,t,n){E.dispatch("auth",{event:e,data:t,message:n},"Auth",Co)},Io=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=Xr,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?To("tokenRefresh",void 0,"New token retrieved"):To("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),E.listen("auth",(function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Eo.debug("configure Auth");var n=Object.assign({},this._config,nn(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,f=r.refreshHandlers,h=r.identityPoolRegion,p=r.clientMetadata,v=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Eo.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new lo(a):e.ssr?new ai:(new T).getStorage();if(this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var y={UserPoolId:i,ClientId:o,endpoint:v};y.Storage=this._storage,this.userPool=new uo(y,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:u,userPoolId:i,identityPoolId:c,refreshHandlers:f,storage:this._storage,identityPoolRegion:h});var m=s?g(this._config.oauth)?s:s.awsCognito:void 0;if(m){var b=Object.assign({cognitoClientId:o,UserPoolId:i,domain:m.domain,scopes:m.scope,redirectSignIn:m.redirectSignIn,redirectSignOut:m.redirectSignOut,responseType:m.responseType,Storage:this._storage,urlOpener:m.urlOpener,clientMetadata:p},m.options);this._oAuthHandler=new mo({scopes:b.scopes,config:b,cognitoClientId:b.cognitoClientId});var _={};!function(e){if(k().isBrowser&&window.location)e({url:window.location.href});else if(!k().isNode)throw new Error("Not supported")}((function(e){var n=e.url;_[n]||(_[n]=!0,t._handleAuthResponse(n))}))}(To("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!==typeof this._storage.getItem)||(this.isTrueStorageValue("amplify-polling-started")&&(To("autoSignIn_failure",null,d.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started"));return this._config},e.prototype.signUp=function(e){for(var t,n,r,i=this,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var s,u=null,c=null,l=[],f=null,h={enabled:!1},p={},v={};if(e&&"string"===typeof e){u=e,c=o?o[0]:null;var g=o?o[1]:null,y=o?o[2]:null;g&&l.push(new qi({Name:"email",Value:g})),y&&l.push(new qi({Name:"phone_number",Value:y}))}else{if(!e||"object"!==typeof e)return this.rejectAuthError(d.SignUpError);u=e.username,c=e.password,e&&e.clientMetadata?s=e.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata);var m=e.attributes;m&&Object.keys(m).map((function(e){l.push(new qi({Name:e,Value:m[e]}))}));var b=e.validationData;b&&(f=[],Object.keys(b).map((function(e){f.push(new qi({Name:e,Value:b[e]}))}))),(h=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),p=null!==(n=h.validationData)&&void 0!==n?n:{},v=null!==(r=h.clientMetaData)&&void 0!==r?r:{})}return u?c?(Eo.debug("signUp attrs:",l),Eo.debug("signUp validation data:",f),new Promise((function(e,t){i.userPool.signUp(u,c,l,f,(function(n,r){n?(To("signUp_failure",n,u+" failed to signup"),t(n)):(To("signUp",r,u+" has signed up successfully"),h.enabled&&i.handleAutoSignIn(u,c,p,v,r),e(r))}),s)}))):this.rejectAuthError(d.EmptyPassword):this.rejectAuthError(d.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,i){this.autoSignInInitiated=!0;var o=new ui({Username:e,Password:t,ValidationData:n,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},e.prototype.handleCodeAutoSignIn=function(e){var t=this;E.listen("auth",(function n(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)}))},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),To("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o=this;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:r=this.createCognitoUser(e.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){To("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&E.remove("auth",t),n&&(clearInterval(n),o._storage.removeItem("amplify-polling-started")),o._storage.removeItem("amplify-auto-sign-in")}),(function(e){Eo.error(e),o._storage.removeItem("amplify-auto-sign-in")})))];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),Eo.error(i),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(d.EmptyUsername);if(!t)return this.rejectAuthError(d.EmptyCode);var i,o=this.createCognitoUser(e),a=!n||"boolean"!==typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?i=n.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata),new Promise((function(n,s){o.confirmRegistration(t,a,(function(t,i){t?s(t):(To("confirmSignUp",i,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(To("autoSignIn_failure",null,d.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(i))}),i)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(d.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"===typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(d.InvalidUsername);"undefined"!==typeof t&&Eo.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(d.EmptyUsername);var a=new ui({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return(0,p.__awaiter)(r,void 0,void 0,(function(){var r,a,s,u;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:Eo.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),Eo.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=c.sent(),Eo.debug("cannot get cognito credentials",a),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=c.sent(),i.user=s,To("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return u=c.sent(),Eo.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){Eo.debug("signIn failure",t),To("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Eo.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Eo.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Eo.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Eo.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Eo.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Eo.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return Eo.debug("get MFA Options failed",e),void n(e);Eo.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return(0,p.__awaiter)(n,void 0,void 0,(function(){var n,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(Eo.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(i(s),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":Eo.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return(0,p.__awaiter)(n,void 0,void 0,(function(){var n;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(Eo.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(d.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return Eo.debug("no validmfa method provided"),[2,this.rejectAuthError(d.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(i,o,(function(i,o){if(i)return Eo.debug("Set user mfa preference error",i),r(i);Eo.debug("Set user mfa success",o),Eo.debug("Caching the latest user data into local"),e.getUserData((function(n,i){return(0,p.__awaiter)(u,void 0,void 0,(function(){var i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(Eo.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return Eo.debug("disable mfa failed",e),void n(e);Eo.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return Eo.debug("enable mfa failed",e),void n(e);Eo.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){Eo.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Eo.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){var n;Eo.debug("verification totp token",e,t),e&&"function"===typeof e.getSignInUserSession&&(n=e.getSignInUserSession());var r=null===n||void 0===n?void 0:n.isValid();return new Promise((function(n,i){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Eo.debug("verifyTotpToken failed",e),i(e)},onSuccess:function(t){r||To("signIn",e,"A user "+e.getUsername()+" has been signed in"),To("verify",e,"A user "+e.getUsername()+" has been verified"),Eo.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(d.EmptyCode);var o=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return(0,p.__awaiter)(i,void 0,void 0,(function(){var n,r,i,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:Eo.debug(t),u.label=1;case 1:return u.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return u.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=u.sent(),Eo.debug("succeed to get cognito credentials",n),[3,10];case 4:return r=u.sent(),Eo.debug("cannot get cognito credentials",r),[3,10];case 5:o.user=e,u.label=6;case 6:return u.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return i=u.sent(),e.attributes=i.attributes,[3,9];case 8:return s=u.sent(),Eo.debug("cannot get updated Cognito User",s),[3,9];case 9:return To("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 10:return[2]}}))}))},onFailure:function(e){Eo.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(d.EmptyPassword);var o=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return(0,p.__awaiter)(i,void 0,void 0,(function(){var n,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:Eo.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Eo.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Eo.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,To("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Eo.debug("completeNewPassword failure",e),To("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){Eo.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){Eo.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){Eo.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(d.EmptyChallengeResponse);return new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}))},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Eo.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return(0,p.__awaiter)(n,void 0,void 0,(function(){var n,i=this;return(0,p.__generator)(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return Eo.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,a){return(0,p.__awaiter)(i,void 0,void 0,(function(){var i,a=this;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:if(!o)return[3,5];if(Eo.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{To("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(s){Eo.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(To("signOut",a.user,"A user has been signed out"),e(o))}})),s.label=6;case 6:return[2]}}))}))}))}else Eo.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise((function(a,s){o.userSession(e).then((function(o){for(var u in t)if("sub"!==u&&u.indexOf("_verified")<0){var c={Name:u,Value:t[u]};i.push(c)}e.updateAttributes(i,(function(e,n,i){if(e)return To("updateUserAttributes_failure",e,"Failed to update attributes"),s(e);var o=r.createUpdateAttributesResultList(t,null===i||void 0===i?void 0:i.CodeDeliveryDetailsList);return To("updateUserAttributes",o,"Attributes successfully updated"),a(n)}),n)}))}))},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[e]={isUpdated:!0};var r=null===t||void 0===t?void 0:t.find((function(t){return t.AttributeName===e}));r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)})),n},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Eo.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(To("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t,i,o,a,s,u,c=this;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return this.isOAuthInProgress()?(Eo.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){Eo.debug("OAuth signIn in progress timeout"),E.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(Eo.debug("OAuth signIn resolved: "+i),clearTimeout(t),E.remove("auth",n),e())}E.listen("auth",n)}))]):[3,2];case 1:l.sent(),l.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return Eo.debug("Failed to get user from user pool"),r("No current user"),[2];l.label=3;case 3:return l.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:return i=l.sent(),(o=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:l.sent(),l.label=6;case 6:return a=this._config.clientMetadata,s=i.getAccessToken().decodePayload().scope,(void 0===s?"":s).split(" ").includes(Ao)?(t.getUserData((function(e,i){return(0,p.__awaiter)(c,void 0,void 0,(function(){var o,a,s,u,c,l,f;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:if(!e)return[3,7];if(Eo.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return o=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(a=i.PreferredMfaSetting||"NOMFA",s=[],u=0;u<i.UserAttributes.length;u++)c={Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value},l=new qi(c),s.push(l);return f=this.attributesToObject(s),Object.assign(t,{attributes:f,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:o,clientMetadata:a}),[3,8]):(Eo.debug("Unable to get the user data because the "+Ao+" is not in the scopes of the access token"),[2,n(t)]);case 7:return u=l.sent(),r(u),[3,8];case 8:return[2]}}))}))})).catch((function(e){return Eo.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:Eo.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),Eo.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=(0,p.__assign)((0,p.__assign)({},r.user),{token:r.token}))}catch(s){Eo.debug("cannot load federated user from auth storage")}return t?(this.user=t,Eo.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Eo.debug("get current authenticated userpool user"),i=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=a.sent(),[3,9];case 8:return"No userPool"===(o=a.sent())&&Eo.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Eo.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return Eo.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){Eo.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){Eo.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:if(!e)return Eo.debug("the user is null"),[2,this.rejectAuthError(d.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise((function(n,i){e.getSession((function(t,o){return(0,p.__awaiter)(r,void 0,void 0,(function(){var r;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(Eo.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return r=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return i(t),[2];case 5:return Eo.debug("Succeed to get the user session",o),n(o),[2]}}))}))}),{clientMetadata:t})}))),this.inflightSessionPromiseCounter++,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=i.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}}))}))},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,n=this;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:Eo.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Eo.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(i){Eo.debug("failed to get or parse item aws-amplify-federatedInfo",i)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return Eo.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return Eo.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return Eo.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(d.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),Eo.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){Eo.debug("user global sign out",t);var a=i._config.clientMetadata;t.getSession((function(e,a){return(0,p.__awaiter)(i,void 0,void 0,(function(){var i,a=this;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(Eo.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(Eo.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,o)},onFailure:function(e){return Eo.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:a})}else Eo.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){k().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Eo.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Eo.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Eo.debug("no Cognito User pool"),n.label=8;case 8:return To("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,a){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(Eo.debug("change password failure",e),a(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(d.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Eo.debug("forgot password failure",t),To("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){To("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(d.EmptyUsername);if(!t)return this.rejectAuthError(d.EmptyCode);if(!n)return this.rejectAuthError(d.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(o,a){i.confirmPassword(t,n,{onSuccess:function(t){To("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){To("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return Eo.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return i=s.sent(),Eo.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return o=s.sent(),Eo.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,d,h,y;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if("undefined"===typeof e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return v(e)||(m=e)&&["customProvider"].find((function(e){return m.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||"undefined"===typeof e?(r=e||{provider:f.Cognito},s=v(r)?r.provider:r.customProvider,v(r),i=r.customState,this._config.userPoolId&&(o=g(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=g(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,o,s,i)),[3,4]):[3,1];case 1:s=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Eo.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(b){}return c=t.token,l=t.identity_id,d=t.expires_at,[4,this.Credentials.set({provider:s,token:c,identity_id:l,user:n,expires_at:d},"federation")];case 2:return h=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return y=p.sent(),To("signIn",y,"A user "+y.username+" has been signed in"),Eo.debug("federated sign in credentials",h),[2,h];case 4:return[2]}var m}))}))},e.prototype._handleAuthResponse=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h,v;return(0,p.__generator)(this,(function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return Eo.debug("Skipping URL "+e+" current flow in progress"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(To("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(k().isBrowser?window.location.href:""),n=!!((0,fo.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=(0,p.__read)(e,1)[0];return"code"===t||"error"===t})),r=!!((0,fo.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=(0,p.__read)(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=g.sent(),o=i.accessToken,a=i.idToken,s=i.refreshToken,u=i.state,c=new Li({IdToken:new Ri({IdToken:a}),RefreshToken:new Di({RefreshToken:s}),AccessToken:new Ni({AccessToken:o})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=g.sent(),Eo.debug("AWS credentials",l),g.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&"undefined"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),To("signIn",d,"A user "+d.getUsername()+" has been signed in"),To("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=u.split("-").splice(1).join("-"),To("customOAuthState",h.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,l];case 6:return v=g.sent(),Eo.debug("Error in cognito hosted auth response",v),window&&"undefined"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),To("signIn_failure",v,"The OAuth response flow failed"),To("cognitoHostedUI_failure",v,"A failure occurred when returning to the Cognito Hosted UI"),To("customState_failure",v,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"===typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Gi(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"===typeof e.getItem&&"function"===typeof e.setItem&&"function"===typeof e.removeItem&&"function"===typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?d.NoConfig:d.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new _o(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new wo(e))},e.prototype.rememberDevice=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Eo.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new _o(d.DeviceConfig)):"NetworkError"===e.code?n(new _o(d.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Eo.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new _o(d.DeviceConfig)):"NetworkError"===e.code?n(new _o(d.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Eo.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new _o(d.DeviceConfig)):"NetworkError"===e.code?n(new _o(d.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),ko=new Io(null);W.register(ko);var Oo={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new T).getStorage()};function Po(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function xo(){return(new Date).getTime()}function No(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var Mo={},Ro=(function(){function e(){}e.clear=function(){Mo={}},e.getItem=function(e){return Mo[e]||null},e.setItem=function(e,t){Mo[e]=t},e.removeItem=function(e){delete Mo[e]}}(),new b("StorageCache")),Do=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){No(this.config.capacityInBytes)||(Ro.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=Oo.capacityInBytes),No(this.config.itemMaxSize)||(Ro.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=Oo.itemMaxSize),No(this.config.defaultTTL)||(Ro.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=Oo.defaultTTL),No(this.config.defaultPriority)||(Ro.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=Oo.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Ro.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=Oo.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Ro.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=Oo.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Ro.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=Oo.warningThreshold);this.config.capacityInBytes>5242880&&(Ro.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=Oo.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:xo(),visitedTime:xo(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=Po(JSON.stringify(r)),r.byteSize=Po(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&Ro.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),Uo=new b("Cache"),Fo=function(e){function t(t){var n=this,r=t?Object.assign({},Oo,t):Oo;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return(0,p.__extends)(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=xo(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return xo()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(n){this._decreaseCurSizeInBytes(t.byteSize),Uo.error("Failed to set item "+n)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var a=JSON.parse(o);n.push(a)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){Uo.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if("undefined"!==typeof t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+xo()};if(i.priority<1||i.priority>5)Uo.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)Uo.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(o.byteSize)){var s=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(s,u)}}this._setItem(r,o)}catch(c){Uo.warn("setItem failed! "+c)}}}else Uo.warn("The value of item should not be undefined!");else Uo.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){Uo.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return Uo.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(a){return Uo.warn("getItem failed! "+a),null}},t.prototype.removeItem=function(e){Uo.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(r){Uo.warn("removeItem failed! "+r)}},t.prototype.clear=function(){Uo.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(r){Uo.warn("clear failed! "+r)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==Oo.keyPrefix||(Uo.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=xo.toString()),new t(e)},t}(Do),Lo=new Fo;W.register(Lo);var jo={clockOffset:0,getDateWithClockOffset:function(){return jo.clockOffset?new Date((new Date).getTime()+jo.clockOffset):new Date},getClockOffset:function(){return jo.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=jo.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=(0,p.__read)(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(o),Number(a),Number(s)))},isClockSkewed:function(e){return Math.abs(e.getTime()-jo.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){jo.clockOffset=e}},Bo=new b("Signer"),zo="AWS4-HMAC-SHA256",qo=function(e,t){var n=new hi.Sha256(e);return n.update(t),n.digestSync()},Vo=function(e){var t=e||"",n=new hi.Sha256;return n.update(t),ir(n.digestSync())},Ko=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},Wo=function(e){var t,n,r=(0,fo.Qc)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),Ko(e.headers),Vo(e.data)].join("\n")},Ho=function(e){var t=((0,fo.Qc)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},Go=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},Yo=function(e,t,n,r){return[e,n,r,Vo(t)].join("\n")},Qo=function(e,t,n){Bo.debug(n);var r=qo("AWS4"+e,t),i=qo(r,n.region),o=qo(i,n.service);return qo(o,"aws4_request")},Jo=function(e,t){return ir(qo(e,t))},$o=function(){function e(){}return e.sign=function(e,t,n){if(void 0===n&&(n=null),e.headers=e.headers||{},e.body&&!e.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var r=jo.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=(0,fo.Qc)(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var a=Wo(e);Bo.debug(a);var s=n||Ho(e),u=Go(i,s.region,s.service),c=Yo(zo,a,r,u),l=Qo(t.secret_key,i,s),f=Jo(l,c),d=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}(zo,t.access_key,u,Ko(e.headers),f);return e.headers.Authorization=d,e},e.signUrl=function(e,t,n,r){var i="object"===typeof e?e.url:e,o="object"===typeof e?e.method:"GET",a="object"===typeof e?e.body:void 0,s=jo.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=s.substr(0,8),c=(0,fo.Qc)(i,!0,!0),l=(c.search,(0,p.__rest)(c,["search"])),f={host:l.host},d=n||Ho({url:(0,fo.WU)(l)}),h=d.region,v=d.service,g=Go(u,h,v),y=t.session_token&&"iotdevicegateway"!==v,m=(0,p.__assign)((0,p.__assign)((0,p.__assign)({"X-Amz-Algorithm":zo,"X-Amz-Credential":[t.access_key,g].join("/"),"X-Amz-Date":s.substr(0,16)},y?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(f).join(",")}),b=Wo({method:o,url:(0,fo.WU)((0,p.__assign)((0,p.__assign)({},l),{query:(0,p.__assign)((0,p.__assign)({},l.query),m)})),headers:f,data:a}),_=Yo(zo,b,s,g),w=Qo(t.secret_key,u,{region:h,service:v}),S=Jo(w,_),E=(0,p.__assign)({"X-Amz-Signature":S},t.session_token&&{"X-Amz-Security-Token":t.session_token});return(0,fo.WU)({protocol:l.protocol,slashes:!0,hostname:l.hostname,port:l.port,pathname:l.pathname,query:(0,p.__assign)((0,p.__assign)((0,p.__assign)({},l.query),m),E)})},e}(),Zo=n(4569),Xo=n.n(Zo),ea=new b("RestClient"),ta=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=Xr,this._options=e,ea.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d,h,v,g,y,m=this;return(0,p.__generator)(this,(function(b){switch(b.label){case 0:return ea.debug(t,e),o="us-east-1",a="execute-api",s=void 0,"string"===typeof e?(r=this._parseUrl(e),i=e):(i=e.endpoint,s=e.custom_header,o=e.region,a=e.service,r=this._parseUrl(e.endpoint)),u={method:t,url:i,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},Gr.isReactNative&&(l=Gr.userAgent||"aws-amplify/0.1.x",c={"User-Agent":l}),f=Object.assign({},n),d=f.response,f.body&&("function"===typeof FormData&&f.body instanceof FormData?(c["Content-Type"]="multipart/form-data",u.data=f.body):(c["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(f.body))),f.responseType&&(u.responseType=f.responseType),f.withCredentials&&(u.withCredentials=f.withCredentials),f.timeout&&(u.timeout=f.timeout),f.cancellableToken&&(u.cancelToken=f.cancellableToken.token),u.signerServiceInfo=f.signerServiceInfo,"function"!==typeof s?[3,2]:[4,s()];case 1:return v=b.sent(),[3,3];case 2:v=void 0,b.label=3;case 3:return h=v,u.headers=(0,p.__assign)((0,p.__assign)((0,p.__assign)({},c),h),f.headers),g=(0,fo.Qc)(i,!0,!0),g.search,y=(0,p.__rest)(g,["search"]),u.url=(0,fo.WU)((0,p.__assign)((0,p.__assign)({},y),{query:(0,p.__assign)((0,p.__assign)({},y.query),f.queryStringParameters||{})})),"undefined"!==typeof u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce((function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e}),{}),[2,this._request(u,d)]):[2,this.Credentials.get().then((function(r){return m._signed((0,p.__assign)({},u),r,d,{region:o,service:a}).catch((function(r){if(jo.isClockSkewError(r)){var i=r.response.headers,o=i&&(i.date||i.Date),a=new Date(o),s=jo.getDateFromHeaderString(u.headers["x-amz-date"]);if(jo.isClockSkewed(a))return jo.setClockOffset(a.getTime()-s.getTime()),m.ajax(e,t,n)}throw r}))}),(function(e){return ea.debug("No credentials available, the request will be unsigned"),m._request(u,d)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return Xo().isCancel(e)},e.prototype.getCancellableToken=function(){return Xo().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"===typeof n.region?t._region=n.region:"string"===typeof t._options.region&&(t._region=t._options.region),"string"===typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"===typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var i=r.service,o=r.region,a=e.signerServiceInfo,s=(0,p.__rest)(e,["signerServiceInfo"]),u=o||this._region||this._options.region,c=i||this._service||this._options.service,l={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},f={region:u,service:c},d=Object.assign(f,a),h=$o.sign(s,l,d);return h.data&&(h.body=h.data),ea.debug("Signed Request: ",h),delete h.headers.host,Xo()(h).then((function(e){return n?e:e.data})).catch((function(e){throw ea.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),Xo()(e).then((function(e){return t?e:e.data})).catch((function(e){throw ea.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),na=new b("RestAPI"),ra=function(){function e(e){this._api=null,this.Credentials=Xr,this._options=e,na.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=(0,p.__rest)(t,["API"]),o=(0,p.__assign)((0,p.__assign)({},i),r);if(na.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var a=o.aws_cloud_logic_custom;o.endpoints="string"===typeof a?JSON.parse(a):a}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach((function(e){"undefined"!==typeof e.custom_header&&"function"!==typeof e.custom_header&&(na.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return na.debug("create Rest API instance"),this._api=new ta(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.get(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.post(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.put(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.patch(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.del(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var a=this._api.head(r,o);return this._api.updateRequestToBeCancellable(a,i),a}catch(s){return Promise.reject(s.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var i={endpoint:r.endpoint+t};return"string"===typeof r.region?i.region=r.region:"string"===typeof this._options.region&&(i.region=this._options.region),"string"===typeof r.service?i.service=r.service||"execute-api":i.service="execute-api","function"===typeof r.custom_header?i.custom_header=r.custom_header:i.custom_header=void 0,i},e}(),ia=new ra(null);function oa(e){return oa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}W.register(ia);"function"===typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"===typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var aa="function"===typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function sa(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function ua(e){return ca(e.source,sa(e.source,e.start))}function ca(e,t){var n=e.locationOffset.column-1,r=fa(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var d=Math.floor(u/80),h=u%80,p=[],v=0;v<f.length;v+=80)p.push(f.slice(v,v+80));return c+la([["".concat(a),p[0]]].concat(p.slice(1,d+1).map((function(e){return["",e]})),[[" ",fa(h-1)+"^"],["",p[d+1]]]))}return c+la([["".concat(a-1),l[i-1]],["".concat(a),f],["",fa(u-1)+"^"],["".concat(a+1),l[i+1]]])}function la(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return fa(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function fa(e){return Array(e+1).join(" ")}function da(e){return da="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},da(e)}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t){return!t||"object"!==da(t)&&"function"!==typeof t?ya(e):t}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(e){var t="function"===typeof Map?new Map:void 0;return ma=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ba(e,arguments,Sa(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),wa(r,e)},ma(e)}function ba(e,t,n){return ba=_a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&wa(i,n.prototype),i},ba.apply(null,arguments)}function _a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wa(e,t){return wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wa(e,t)}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sa(e)}var Ea=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(o,e);var t,n,r,i=function(e){var t=_a();return function(){var n,r=Sa(e);if(t){var i=Sa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ga(this,n)}}(o);function o(e,t,n,r,a,s,u){var c,l,f,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(d=i.call(this,e)).name="GraphQLError",d.originalError=null!==s&&void 0!==s?s:void 0,d.nodes=Aa(Array.isArray(t)?t:t?[t]:void 0);for(var h=[],p=0,v=null!==(g=d.nodes)&&void 0!==g?g:[];p<v.length;p++){var g,y=v[p].loc;null!=y&&h.push(y)}h=Aa(h),d.source=null!==n&&void 0!==n?n:null===(c=h)||void 0===c?void 0:c[0].source,d.positions=null!==r&&void 0!==r?r:null===(l=h)||void 0===l?void 0:l.map((function(e){return e.start})),d.locations=r&&n?r.map((function(e){return sa(n,e)})):null===(f=h)||void 0===f?void 0:f.map((function(e){return sa(e.source,e.start)})),d.path=null!==a&&void 0!==a?a:void 0;var m,b=null===s||void 0===s?void 0:s.extensions;return null==u&&("object"==oa(m=b)&&null!==m)?d.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):d.extensions=null!==u&&void 0!==u?u:{},Object.defineProperties(ya(d),{message:{enumerable:!0},locations:{enumerable:null!=d.locations},path:{enumerable:null!=d.path},extensions:{enumerable:null!=d.extensions&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==s&&void 0!==s&&s.stack?(Object.defineProperty(ya(d),"stack",{value:s.stack,writable:!0,configurable:!0}),ga(d)):(Error.captureStackTrace?Error.captureStackTrace(ya(d),o):Object.defineProperty(ya(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return t=o,(n=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+ua(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+ca(e.source,s)}return t}(this)}},{key:aa,get:function(){return"Object"}}])&&va(t.prototype,n),r&&va(t,r),o}(ma(Error));function Aa(e){return void 0===e||0===e.length?void 0:e}function Ca(e,t,n){return new Ea("Syntax Error: ".concat(n),void 0,e,[t])}var Ta=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var Ia="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function ka(e){var t=e.prototype.toJSON;"function"===typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,Ia&&(e.prototype[Ia]=t)}var Oa=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();ka(Oa);var Pa=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function xa(e){return null!=e&&"string"===typeof e.kind}ka(Pa);var Na=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Ma(e){return Ma="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(e)}var Ra=10,Da=2;function Ua(e){return Fa(e,[])}function Fa(e,t){switch(Ma(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Ia)];if("function"===typeof t)return t;if("function"===typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"===typeof i?i:Fa(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Da)return"[Array]";for(var n=Math.min(Ra,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(Fa(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>Da)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(n){return n+": "+Fa(e[n],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function La(e,t){if(!Boolean(e))throw new Error(t)}var ja=function(e,t){return e instanceof t};function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var za=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"===typeof e||La(0,"Body must be a string. Received: ".concat(Ua(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||La(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||La(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:aa,get:function(){return"Source"}}])&&Ba(t.prototype,n),r&&Ba(t,r),e}();var qa=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Va(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&Ka(t[i]);)++i;for(var o=t.length;o>i&&Ka(t[o-1]);)--o;return t.slice(i,o).join("\n")}function Ka(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var Wa=function(){function e(e){var t=new Pa(Na.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==Na.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Ga(this,e)}while(e.kind===Na.COMMENT);return e},e}();function Ha(e){return isNaN(e)?Na.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Ga(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,u=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Pa(Na.BANG,o,o+1,s,u,t);case 35:return Qa(n,o,s,u,t);case 36:return new Pa(Na.DOLLAR,o,o+1,s,u,t);case 38:return new Pa(Na.AMP,o,o+1,s,u,t);case 40:return new Pa(Na.PAREN_L,o,o+1,s,u,t);case 41:return new Pa(Na.PAREN_R,o,o+1,s,u,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new Pa(Na.SPREAD,o,o+3,s,u,t);break;case 58:return new Pa(Na.COLON,o,o+1,s,u,t);case 61:return new Pa(Na.EQUALS,o,o+1,s,u,t);case 64:return new Pa(Na.AT,o,o+1,s,u,t);case 91:return new Pa(Na.BRACKET_L,o,o+1,s,u,t);case 93:return new Pa(Na.BRACKET_R,o,o+1,s,u,t);case 123:return new Pa(Na.BRACE_L,o,o+1,s,u,t);case 124:return new Pa(Na.PIPE,o,o+1,s,u,t);case 125:return new Pa(Na.BRACE_R,o,o+1,s,u,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?Xa(n,o,s,u,t,e):Za(n,o,s,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ja(n,o,a,s,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return ns(n,o,s,u,t)}throw Ca(n,o,Ya(a))}var c=e.line,l=1+o-e.lineStart;return new Pa(Na.EOF,i,i,c,l,t)}function Ya(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(Ha(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Ha(e),".")}function Qa(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Pa(Na.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function Ja(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw Ca(e,u,"Invalid number, unexpected digit after 0: ".concat(Ha(s),"."))}else u=$a(e,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=$a(e,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=$a(e,u,s),s=a.charCodeAt(u)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw Ca(e,u,"Invalid number, expected digit but got: ".concat(Ha(s),"."));return new Pa(c?Na.FLOAT:Na.INT,t,u,r,i,o,a.slice(t,u))}function $a(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw Ca(e,i,"Invalid number, expected digit but got: ".concat(Ha(o),"."))}function Za(e,t,n,r,i){for(var o=e.body,a=t+1,s=a,u=0,c="";a<o.length&&!isNaN(u=o.charCodeAt(a))&&10!==u&&13!==u;){if(34===u)return c+=o.slice(s,a),new Pa(Na.STRING,t,a+1,n,r,i,c);if(u<32&&9!==u)throw Ca(e,a,"Invalid character within String: ".concat(Ha(u),"."));if(++a,92===u){switch(c+=o.slice(s,a-1),u=o.charCodeAt(a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=es(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(l<0){var f=o.slice(a+1,a+5);throw Ca(e,a,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(l),a+=4;break;default:throw Ca(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}s=++a}}throw Ca(e,a,"Unterminated string.")}function Xa(e,t,n,r,i,o){for(var a=e.body,s=t+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new Pa(Na.BLOCK_STRING,t,s+3,n,r,i,Va(l));if(c<32&&9!==c&&10!==c&&13!==c)throw Ca(e,s,"Invalid character within String: ".concat(Ha(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw Ca(e,s,"Unterminated string.")}function es(e,t,n,r){return ts(e)<<12|ts(t)<<8|ts(n)<<4|ts(r)}function ts(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ns(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,u=0;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new Pa(Na.NAME,t,s,n,r,i,o.slice(t,s))}function rs(e,t){return new is(e,t).parseDocument()}var is=function(){function e(e,t){var n=function(e){return ja(e,za)}(e)?e:new za(e);this._lexer=new Wa(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Na.NAME);return{kind:Ta.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Ta.DOCUMENT,definitions:this.many(Na.SOF,this.parseDefinition,Na.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Na.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Na.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Na.BRACE_L))return{kind:Ta.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(Na.NAME)&&(t=this.parseName()),{kind:Ta.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Na.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Na.PAREN_L,this.parseVariableDefinition,Na.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Ta.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Na.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Na.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Na.DOLLAR),{kind:Ta.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Ta.SELECTION_SET,selections:this.many(Na.BRACE_L,this.parseSelection,Na.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Na.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Na.COLON)?(e=r,t=this.parseName()):t=r,{kind:Ta.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Na.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Na.PAREN_L,t,Na.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Na.COLON),{kind:Ta.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Ta.ARGUMENT,name:this.parseName(),value:(this.expectToken(Na.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Na.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Na.NAME)?{kind:Ta.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Ta.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:Ta.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:Ta.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Na.BRACKET_L:return this.parseList(e);case Na.BRACE_L:return this.parseObject(e);case Na.INT:return this._lexer.advance(),{kind:Ta.INT,value:t.value,loc:this.loc(t)};case Na.FLOAT:return this._lexer.advance(),{kind:Ta.FLOAT,value:t.value,loc:this.loc(t)};case Na.STRING:case Na.BLOCK_STRING:return this.parseStringLiteral();case Na.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:Ta.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:Ta.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:Ta.NULL,loc:this.loc(t)};default:return{kind:Ta.ENUM,value:t.value,loc:this.loc(t)}}case Na.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Ta.STRING,value:e.value,block:e.kind===Na.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:Ta.LIST,values:this.any(Na.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Na.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:Ta.OBJECT,fields:this.any(Na.BRACE_L,(function(){return t.parseObjectField(e)}),Na.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Na.COLON),{kind:Ta.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Na.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Na.AT),{kind:Ta.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Na.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Na.BRACKET_R),e={kind:Ta.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Na.BANG)?{kind:Ta.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Ta.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Na.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Na.STRING)||this.peek(Na.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(Na.BRACE_L,this.parseOperationTypeDefinition,Na.BRACE_R);return{kind:Ta.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Na.COLON);var n=this.parseNamedType();return{kind:Ta.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ta.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Ta.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(Na.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(Na.AMP)||this.peek(Na.NAME));return t}return this.delimitedMany(Na.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(Na.BRACE_L)&&this._lexer.lookahead().kind===Na.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Na.BRACE_L,this.parseFieldDefinition,Na.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Na.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Ta.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Na.PAREN_L,this.parseInputValueDef,Na.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Na.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(Na.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Ta.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Ta.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Ta.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Na.EQUALS)?this.delimitedMany(Na.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Ta.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Na.BRACE_L,this.parseEnumValueDefinition,Na.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ta.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Ta.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Na.BRACE_L,this.parseInputValueDef,Na.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Na.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(Na.BRACE_L,this.parseOperationTypeDefinition,Na.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:Ta.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Ta.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Ta.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Ta.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ta.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ta.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ta.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Na.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Ta.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Na.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==qa[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Oa(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Ca(this._lexer.source,t.start,"Expected ".concat(as(e),", found ").concat(os(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Na.NAME||t.value!==e)throw Ca(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(os(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Na.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!==e&&void 0!==e?e:this._lexer.token;return Ca(this._lexer.source,t.start,"Unexpected ".concat(os(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function os(e){var t=e.value;return as(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function as(e){return function(e){return e===Na.BANG||e===Na.DOLLAR||e===Na.AMP||e===Na.PAREN_L||e===Na.PAREN_R||e===Na.SPREAD||e===Na.COLON||e===Na.EQUALS||e===Na.AT||e===Na.BRACKET_L||e===Na.BRACKET_R||e===Na.BRACE_L||e===Na.PIPE||e===Na.BRACE_R}(e)?'"'.concat(e,'"'):e}var ss={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},us=Object.freeze({});function cs(e,t,n){var r=e[t];if(r){if(!n&&"function"===typeof r)return r;var i=n?r.leave:r.enter;if("function"===typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"===typeof o)return o;var a=o[t];if("function"===typeof a)return a}}}function ls(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ss,r=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,f=[],d=[],h=e;do{var p=++a===o.length,v=p&&0!==s.length;if(p){if(c=0===d.length?void 0:f[f.length-1],u=l,l=d.pop(),v){if(i)u=u.slice();else{for(var g={},y=0,m=Object.keys(u);y<m.length;y++){var b=m[y];g[b]=u[b]}u=g}for(var _=0,w=0;w<s.length;w++){var S=s[w][0],E=s[w][1];i&&(S-=_),i&&null===E?(u.splice(S,1),_++):u[S]=E}}a=r.index,o=r.keys,s=r.edits,i=r.inArray,r=r.prev}else{if(c=l?i?a:o[a]:void 0,null===(u=l?l[c]:h)||void 0===u)continue;l&&f.push(c)}var A,C=void 0;if(!Array.isArray(u)){if(!xa(u))throw new Error("Invalid AST Node: ".concat(Ua(u),"."));var T=cs(t,u.kind,p);if(T){if((C=T.call(t,u,c,l,f,d))===us)break;if(!1===C){if(!p){f.pop();continue}}else if(void 0!==C&&(s.push([c,C]),!p)){if(!xa(C)){f.pop();continue}u=C}}}void 0===C&&v&&s.push([c,u]),p?f.pop():(r={inArray:i,index:a,keys:o,edits:s,prev:r},o=(i=Array.isArray(u))?u:null!==(A=n[u.kind])&&void 0!==A?A:[],a=-1,s=[],l&&d.push(l),l=u)}while(void 0!==r);return 0!==s.length&&(h=s[s.length-1][1]),h}(e,{leave:fs})}var fs={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return hs(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=vs("(",hs(e.variableDefinitions,", "),")"),i=hs(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?hs([t,hs([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+vs(" = ",r)+vs(" ",hs(i," "))},SelectionSet:function(e){return ps(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=vs("",t,": ")+n,s=a+vs("(",hs(r,", "),")");return s.length>80&&(s=a+vs("(\n",gs(hs(r,"\n")),"\n)")),hs([s,hs(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+vs(" ",hs(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return hs(["...",vs("on ",t),hs(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(vs("(",hs(r,", "),")")," ")+"on ".concat(n," ").concat(vs("",hs(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,u="";return!s||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+hs(e.values,", ")+"]"},ObjectValue:function(e){return"{"+hs(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+vs("(",hs(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:ds((function(e){var t=e.directives,n=e.operationTypes;return hs(["schema",hs(t," "),ps(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:ds((function(e){return hs(["scalar",e.name,hs(e.directives," ")]," ")})),ObjectTypeDefinition:ds((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return hs(["type",t,vs("implements ",hs(n," & ")),hs(r," "),ps(i)]," ")})),FieldDefinition:ds((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(ms(n)?vs("(\n",gs(hs(n,"\n")),"\n)"):vs("(",hs(n,", "),")"))+": "+r+vs(" ",hs(i," "))})),InputValueDefinition:ds((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return hs([t+": "+n,vs("= ",r),hs(i," ")]," ")})),InterfaceTypeDefinition:ds((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return hs(["interface",t,vs("implements ",hs(n," & ")),hs(r," "),ps(i)]," ")})),UnionTypeDefinition:ds((function(e){var t=e.name,n=e.directives,r=e.types;return hs(["union",t,hs(n," "),r&&0!==r.length?"= "+hs(r," | "):""]," ")})),EnumTypeDefinition:ds((function(e){var t=e.name,n=e.directives,r=e.values;return hs(["enum",t,hs(n," "),ps(r)]," ")})),EnumValueDefinition:ds((function(e){return hs([e.name,hs(e.directives," ")]," ")})),InputObjectTypeDefinition:ds((function(e){var t=e.name,n=e.directives,r=e.fields;return hs(["input",t,hs(n," "),ps(r)]," ")})),DirectiveDefinition:ds((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(ms(n)?vs("(\n",gs(hs(n,"\n")),"\n)"):vs("(",hs(n,", "),")"))+(r?" repeatable":"")+" on "+hs(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return hs(["extend schema",hs(t," "),ps(n)]," ")},ScalarTypeExtension:function(e){return hs(["extend scalar",e.name,hs(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return hs(["extend type",t,vs("implements ",hs(n," & ")),hs(r," "),ps(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return hs(["extend interface",t,vs("implements ",hs(n," & ")),hs(r," "),ps(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return hs(["extend union",t,hs(n," "),r&&0!==r.length?"= "+hs(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return hs(["extend enum",t,hs(n," "),ps(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return hs(["extend input",t,hs(n," "),ps(r)]," ")}};function ds(e){return function(t){return hs([t.description,e(t)],"\n")}}function hs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function ps(e){return vs("{\n",gs(hs(e,"\n")),"\n}")}function vs(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function gs(e){return vs("  ",e.replace(/\n/g,"\n  "))}function ys(e){return-1!==e.indexOf("\n")}function ms(e){return null!=e&&e.some(ys)}var bs="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",_s=n(7179),ws=n.n(_s)(),Ss=new b("I18n"),Es=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!==typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),Ss.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return"undefined"!==typeof t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||("undefined"!==typeof t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),As=new b("I18n"),Cs=null,Ts=null,Is=function(){function e(){}return e.configure=function(t){return As.debug("configure I18n"),t?(Cs=Object.assign({},Cs,t.I18n||t),e.createInstance(),Cs):Cs},e.getModuleName=function(){return"I18n"},e.createInstance=function(){As.debug("create I18n instance"),Ts||(Ts=new Es(Cs))},e.setLanguage=function(t){return e.checkConfig(),Ts.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?Ts.get(t,n):"undefined"===typeof n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),Ts.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),Ts.putVocabularies(t)},e.checkConfig=function(){return Ts||(Ts=new Es(Cs)),!0},e}();W.register(Is);var ks,Os,Ps={userAgent:Gr.userAgent},xs=new b("AbstractPubSubProvider"),Ns=function(){function e(e){this._config=e}return e.prototype.configure=function(e){return this._config=(0,p.__assign)((0,p.__assign)({},e),this._config),xs.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return(0,p.__assign)({},this._config)},enumerable:!0,configurable:!0}),e}();!function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(ks||(ks={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(Os||(Os={}));var Ms,Rs,Ds,Us=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(Ms||(Ms={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(Rs||(Rs={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(Ds||(Ds={}));var Fs,Ls="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",js={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Bs=3e5,zs=function(){function e(){}return e.prototype.networkMonitor=function(t){if(k().isNode)return ws.from([{online:!0}]);var n=I()?self:window;return new ws((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},i=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",i),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",i),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,i=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var o=(0,p.__values)(e._observers),a=o.next();!a.done;a=o.next()){i(a.value)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e._observers=[],e}(),qs=function(){return(new zs).networkMonitor()},Vs={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},Ks=function(){function e(){var e=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=qs().subscribe((function(t){var n,r=t.online;e.record(r?Vs.ONLINE:Vs.OFFLINE),null===(n=e._initialNetworkStateSubscription)||void 0===n||n.unsubscribe()})),this._linkedConnectionStateObservable=new ws((function(t){t.next(e._linkedConnectionState),e._linkedConnectionStateObserver=t}))}return e.prototype.enableNetworkMonitoring=function(){var e,t=this;null===(e=this._initialNetworkStateSubscription)||void 0===e||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=qs().subscribe((function(e){var n=e.online;t.record(n?Vs.ONLINE:Vs.OFFLINE)})))},e.prototype.disableNetworkMonitoring=function(){var e;null===(e=this._networkMonitoringSubscription)||void 0===e||e.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(e.prototype,"connectionStateObservable",{get:function(){var e,t=this;return this._linkedConnectionStateObservable.map((function(e){return t.connectionStatesTranslator(e)})).filter((function(t){var n=t!==e;return e=t,n}))},enumerable:!0,configurable:!0}),e.prototype.record=function(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();var t=(0,p.__assign)((0,p.__assign)({},this._linkedConnectionState),e);this._linkedConnectionState=(0,p.__assign)({},t),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},e.prototype.connectionStatesTranslator=function(e){var t=e.connectionState,n=e.networkState,r=e.intendedConnectionState,i=e.keepAliveState;return"connected"===t&&"disconnected"===n?Os.ConnectedPendingNetwork:"connected"===t&&"disconnected"===r?Os.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===r&&"disconnected"===n?Os.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===r?Os.ConnectionDisrupted:"connected"===t&&"unhealthy"===i?Os.ConnectedPendingKeepAlive:"connecting"===t?Os.Connecting:"disconnected"===t?Os.Disconnected:Os.Connected},e}();!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}(Fs||(Fs={}));var Ws,Hs=function(){function e(){this.reconnectObservers=[]}return e.prototype.addObserver=function(e){this.reconnectObservers.push(e)},e.prototype.record=function(e){var t=this;e===Fs.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout((function(){t._triggerReconnect(),t.reconnectIntervalId=setInterval((function(){t._triggerReconnect()}),6e4)}),5e3)),e===Fs.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},e.prototype.close=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.complete)||void 0===t||t.call(e)}))},e.prototype._triggerReconnect=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.next)||void 0===t||t.call(e)}))},e}(),Gs=new b("AWSAppSyncRealTimeProvider"),Ys=function(e,t,n){E.dispatch("api",{event:e,data:t,message:n},"PubSub",Ls)},Qs=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,Js=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.socketStatus=Ds.CLOSED,n.keepAliveTimeout=Bs,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new Ks,n.reconnectionMonitor=new Hs,n.connectionStateMonitorSubscription=n.connectionStateMonitor.connectionStateObservable.subscribe((function(e){Ys("ConnectionStateChange",{provider:n,connectionState:e},"Connection state is "+e),n.connectionState=e,e===Os.ConnectionDisrupted&&n.reconnectionMonitor.record(Fs.START_RECONNECT),[Os.Connected,Os.ConnectedPendingDisconnect,Os.ConnectedPendingKeepAlive,Os.ConnectedPendingNetwork,Os.ConnectedPendingNetwork,Os.ConnectionDisruptedPendingNetwork,Os.Disconnected].includes(e)&&n.reconnectionMonitor.record(Fs.HALT_RECONNECT)})),n}return(0,p.__extends)(t,e),t.prototype.close=function(){this.socketStatus=Ds.CLOSED,this.connectionStateMonitor.record(Vs.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(Qs)},t.prototype.subscribe=function(e,t){var n=this,r=null===t||void 0===t?void 0:t.appSyncGraphqlEndpoint;return new ws((function(e){if(t&&r){var i,o=!1,a=(0,In.v4)(),s=function(){o||(o=!0,n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:a}).catch((function(e){Gs.debug(ks.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+e),n.connectionStateMonitor.record(Vs.CLOSED)})).finally((function(){o=!1})))};return i=new ws((function(e){n.reconnectionMonitor.addObserver(e)})).subscribe((function(){s()})),s(),function(){return(0,p.__awaiter)(n,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:null===i||void 0===i||i.unsubscribe(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(a)];case 2:if(n.sent(),!(e=(this.subscriptionObserverMap.get(a)||{}).subscriptionState))return[2];if(e!==Rs.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(a),[3,5];case 3:return t=n.sent(),Gs.debug("Error while unsubscribing "+t),[3,5];case 4:return this._removeSubscriptionObserver(a),[7];case 5:return[2]}}))}))}}e.error({errors:[(0,p.__assign)({},new Ea("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n=e.options,r=e.observer,i=e.subscriptionId;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w,S,E,A,C,T,I,k=this;return(0,p.__generator)(this,(function(O){switch(O.label){case 0:return e=n.appSyncGraphqlEndpoint,o=n.authenticationType,a=n.query,s=n.variables,u=n.apiKey,c=n.region,l=n.graphql_headers,f=void 0===l?function(){return{}}:l,d=n.additionalHeaders,h=void 0===d?{}:d,v=Rs.PENDING,g={query:a,variables:s},this.subscriptionObserverMap.set(i,{observer:r,query:null!==a&&void 0!==a?a:"",variables:null!==s&&void 0!==s?s:{},subscriptionState:v,startAckTimeoutId:void 0}),y=JSON.stringify(g),b=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:o,payload:y,canonicalUri:"",region:c,additionalHeaders:h})];case 1:return _=[p.__assign.apply(void 0,b.concat([O.sent()]))],[4,f()];case 2:m=p.__assign.apply(void 0,[p.__assign.apply(void 0,[p.__assign.apply(void 0,_.concat([O.sent()])),h]),(I={},I["x-amz-user-agent"]=Ps.userAgent,I)]),w={id:i,payload:{data:y,extensions:{authorization:(0,p.__assign)({},m)}},type:Ms.GQL_START},S=JSON.stringify(w),O.label=3;case 3:return O.trys.push([3,5,,6]),this.connectionStateMonitor.record(Vs.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:u,appSyncGraphqlEndpoint:e,authenticationType:o,region:c,additionalHeaders:h})];case 4:return O.sent(),[3,6];case 5:return E=O.sent(),this._logStartSubscriptionError(i,r,E),[2];case 6:return A=null!==(t=this.subscriptionObserverMap.get(i))&&void 0!==t?t:{},C=A.subscriptionFailedCallback,T=A.subscriptionReadyCallback,this.subscriptionObserverMap.set(i,{observer:r,subscriptionState:v,query:null!==a&&void 0!==a?a:"",variables:null!==s&&void 0!==s?s:{},subscriptionReadyCallback:T,subscriptionFailedCallback:C,startAckTimeoutId:setTimeout((function(){k._timeoutStartSubscriptionAck.call(k,i)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(S),[2]}}))}))},t.prototype._logStartSubscriptionError=function(e,t,n){var r;Gs.debug({err:n});var i=String(null!==(r=n.message)&&void 0!==r?r:"");if(Promise.resolve(this.connectionStateMonitor.record(Vs.CLOSED)),this.connectionState!==Os.ConnectionDisruptedPendingNetwork){x(n)?t.error({errors:[(0,p.__assign)({},new Ea(ks.CONNECTION_FAILED+": "+i))]}):Gs.debug(ks.CONNECTION_FAILED+": "+i);var o=(this.subscriptionObserverMap.get(e)||{}).subscriptionFailedCallback;"function"===typeof o&&o()}},t.prototype._waitForSubscriptionToBeConnected=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,p.__generator)(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===Rs.PENDING?[2,new Promise((function(r,i){var o=t.observer,a=t.subscriptionState,s=t.variables,u=t.query;n.subscriptionObserverMap.set(e,{observer:o,subscriptionState:a,variables:s,query:u,subscriptionReadyCallback:r,subscriptionFailedCallback:i})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Ds.READY){var t={id:e,type:Ms.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(r){Gs.debug({err:r})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(Vs.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Gs.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=Ds.CLOSED,this.connectionStateMonitor.record(Vs.CLOSED)}else this.socketStatus=Ds.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){var t=this;if("string"===typeof e.data){Gs.debug("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(String(e.data)),r=n.id,i=void 0===r?"":r,o=n.payload,a=n.type,s=this.subscriptionObserverMap.get(i)||{},u=s.observer,c=void 0===u?null:u,l=s.query,f=void 0===l?"":l,d=s.variables,h=void 0===d?{}:d,v=s.startAckTimeoutId,g=s.subscriptionReadyCallback,y=s.subscriptionFailedCallback;if(Gs.debug({id:i,observer:c,query:f,variables:h}),a===Ms.GQL_DATA&&o&&o.data)c?c.next(o):Gs.debug("observer not found for id: "+i);else{if(a===Ms.GQL_START_ACK){Gs.debug("subscription ready for "+JSON.stringify({query:f,variables:h})),"function"===typeof g&&g(),v&&clearTimeout(v),Ys(ks.SUBSCRIPTION_ACK,{query:f,variables:h},"Connection established for subscription");var m=Rs.CONNECTED;return c&&this.subscriptionObserverMap.set(i,{observer:c,query:f,variables:h,startAckTimeoutId:void 0,subscriptionState:m,subscriptionReadyCallback:g,subscriptionFailedCallback:y}),void this.connectionStateMonitor.record(Vs.CONNECTION_ESTABLISHED)}if(a===Ms.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout((function(){return t._errorDisconnect(ks.TIMEOUT_DISCONNECT)}),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout((function(){t.connectionStateMonitor.record(Vs.KEEP_ALIVE_MISSED)}),65e3),void this.connectionStateMonitor.record(Vs.KEEP_ALIVE);if(a===Ms.GQL_ERROR){m=Rs.FAILED;c&&(this.subscriptionObserverMap.set(i,{observer:c,query:f,variables:h,startAckTimeoutId:v,subscriptionReadyCallback:g,subscriptionFailedCallback:y,subscriptionState:m}),Gs.debug(ks.CONNECTION_FAILED+": "+JSON.stringify(o)),c.error({errors:[(0,p.__assign)({},new Ea(ks.CONNECTION_FAILED+": "+JSON.stringify(o)))]}),v&&clearTimeout(v),"function"===typeof y&&y())}}}},t.prototype._errorDisconnect=function(e){Gs.debug("Disconnect error: "+e),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(Vs.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=Ds.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,i=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:Rs.FAILED}),this.connectionStateMonitor.record(Vs.CLOSED),Gs.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region,a=e.additionalHeaders;if(this.socketStatus!==Ds.READY)return new Promise((function(e,s){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t,u,c,l,f,d,h,v,g;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:if(this.promiseArray.push({res:e,rej:s}),this.socketStatus!==Ds.CLOSED)return[3,5];p.label=1;case 1:return p.trys.push([1,4,,5]),this.socketStatus=Ds.CONNECTING,t="{}",[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:n,region:o,additionalHeaders:a})];case 2:return u=p.sent(),c=u?JSON.stringify(u):"",l=ci.lW.from(c).toString("base64"),f=ci.lW.from(t).toString("base64"),d=null!==n&&void 0!==n?n:"",d=this.isCustomDomain(d)?d.concat("/realtime"):d.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),h=this.isSSLEnabled?"wss://":"ws://",d=d.replace("https://",h).replace("http://",h),v=d+"?header="+l+"&payload="+f,[4,this._initializeRetryableHandshake(v)];case 3:return p.sent(),this.promiseArray.forEach((function(e){var t=e.res;Gs.debug("Notifying connection successful"),t()})),this.socketStatus=Ds.READY,this.promiseArray=[],[3,5];case 4:return g=p.sent(),Gs.debug("Connection exited with",g),this.promiseArray.forEach((function(e){return(0,e.rej)(g)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=Ds.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return Gs.debug("Initializaling retryable Handshake"),[4,D(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o=this;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:Gs.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=o.getNewWebSocket(e,"graphql-ws");r.onerror=function(){Gs.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return o.awsRealTimeSocket=r,t()}}))];case 2:return a.sent(),[4,new Promise((function(e,t){if(o.awsRealTimeSocket){var n=!1;o.awsRealTimeSocket.onerror=function(e){Gs.debug("WebSocket error "+JSON.stringify(e))},o.awsRealTimeSocket.onclose=function(e){Gs.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},o.awsRealTimeSocket.onmessage=function(r){if("string"===typeof r.data){Gs.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var i=JSON.parse(r.data),a=i.type,s=i.payload,u=(void 0===s?{}:s).connectionTimeoutMs,c=void 0===u?Bs:u;if(a===Ms.GQL_CONNECTION_ACK)return n=!0,o.awsRealTimeSocket&&(o.keepAliveTimeout=c,o.awsRealTimeSocket.onmessage=o._handleIncomingSubscriptionMessage.bind(o),o.awsRealTimeSocket.onerror=function(e){Gs.debug(e),o._errorDisconnect(ks.CONNECTION_CLOSED)},o.awsRealTimeSocket.onclose=function(e){Gs.debug("WebSocket closed "+e.reason),o._errorDisconnect(ks.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(a===Ms.GQL_CONNECTION_ERROR){var l=i.payload,f=(void 0===l?{}:l).errors,d=(0,p.__read)(void 0===f?[]:f,1)[0],h=void 0===d?{}:d,v=h.errorType,g=void 0===v?"":v,y=h.errorCode;t({errorType:g,errorCode:void 0===y?0:y})}}};var r={type:Ms.GQL_CONNECTION_INIT};o.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout((function(){n||(o.connectionStateMonitor.record(Vs.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))}),15e3)}}))];case 3:return a.sent(),[3,5];case 4:throw t=a.sent(),r=(n=t).errorType,i=n.errorCode,Us.includes(i)?new P(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,a=e.region,s=e.additionalHeaders;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,u,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(Gs.debug("Authentication type "+t+" not supported"),[2,void 0]);case 1:return u=e[t],c=fo.Qc(null!==i&&void 0!==i?i:"").host,Gs.debug("Authenticating with "+t),[4,u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:a,host:c,additionalHeaders:s})];case 2:return[2,l.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,ko.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,Lo.getItem("federatedInfo")];case 1:return(n=i.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,ko.currentAuthenticatedUser()];case 3:(r=i.sent())&&(e=r.token),i.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,r;return(0,p.__generator)(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,o,a;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return e={region:i,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!s.sent())throw new Error("No credentials");return[4,Xr.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return o=s.sent(),a={url:""+r+n,data:t,method:"POST",headers:(0,p.__assign)({},js)},[2,$o.sign(a,o,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return Xr.get().then((function(e){if(!e)return!1;var t=Xr.shear(e);return Gs.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return Gs.warn("ensure credentials error",e),!1}))},t}(Ns),$s=k().isNode,Zs=new b("PubSub"),Xs=new(function(){function e(e){this._options=null!==e&&void 0!==e?e:{},Zs.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new Js(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return Zs.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===bs?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+String(t));return[n]},e.prototype.publish=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if($s&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");Zs.debug("subscribe options",t);var n=this.getProviders(t);return new ws((function(r){var i=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return i.forEach((function(e){return e.unsubscribe()}))}}))},e}());W.register(Xs),function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(Ws||(Ws={}));var eu=new b("GraphQLAPI"),tu=function(){function e(e){this._api=null,this.Auth=ko,this.Cache=Lo,this.Credentials=Xr,this._options=e,eu.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=(0,p.__rest)(t,["API"]),o=(0,p.__assign)((0,p.__assign)({},i),r);return eu.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),"undefined"!==typeof o.graphql_headers&&"function"!==typeof o.graphql_headers&&(eu.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return eu.debug("create Rest instance"),this._options?(this._api=new ta(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,i=n.aws_appsync_apiKey,o={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!i)throw new Error(Ws.NO_API_KEY);return o={Authorization:null,"X-Api-Key":i},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!l.sent())throw new Error(Ws.NO_CREDENTIALS);return[3,17];case 4:return l.trys.push([4,9,,10]),a=void 0,[4,Lo.getItem("federatedInfo")];case 5:return(s=l.sent())?(a=s.token,[3,8]):[3,6];case 6:return[4,ko.currentAuthenticatedUser()];case 7:(u=l.sent())&&(a=u.token),l.label=8;case 8:if(!a)throw new Error(Ws.NO_FEDERATED_JWT);return o={Authorization:a},[3,10];case 9:throw l.sent(),new Error(Ws.NO_CURRENT_USER);case 10:return[3,17];case 11:return l.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=l.sent(),o={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw l.sent(),new Error(Ws.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(Ws.NO_AUTH_TOKEN);return o={Authorization:t.Authorization},[3,17];case 16:return o={Authorization:null},[3,17];case 17:return[2,o]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=rs(e).definitions;return(0,p.__read)(t,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.authMode,a=e.authToken,s=e.userAgentSuffix,u=rs("string"===typeof n?n:ls(n)),c=(0,p.__read)(u.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],l=(void 0===c?{}:c).operation,f=t||{};switch(a&&(f.Authorization=a),l){case"query":case"mutation":this.createInstanceIfNotCreated();var d=this._api.getCancellableToken(),h={cancellableToken:d,withCredentials:this._options.withCredentials},v=this._graphql({query:u,variables:i,authMode:o,userAgentSuffix:s},f,h);return this._api.updateRequestToBeCancellable(v,d),v;case"subscription":return this._graphqlSubscribe({query:u,variables:i,authMode:o},f);default:throw new Error("invalid operation type: "+l)}},e.prototype._graphql=function(e,t,n){var r=e.query,i=e.variables,o=e.authMode,a=e.userAgentSuffix;return void 0===t&&(t={}),void 0===n&&(n={}),(0,p.__awaiter)(this,void 0,void 0,(function(){var e,s,u,c,l,f,d,h,v,g,y,m,b,_,w,S,E,A,C,T,I;return(0,p.__generator)(this,(function(k){switch(k.label){case 0:return this.createInstanceIfNotCreated(),e=this._options,s=e.aws_appsync_region,u=e.aws_appsync_graphqlEndpoint,c=e.graphql_headers,l=void 0===c?function(){return{}}:c,f=e.graphql_endpoint,d=e.graphql_endpoint_iam_region,v=[{}],(g=!f)?[4,this._headerBasedAuth(o,t)]:[3,2];case 1:g=k.sent(),k.label=2;case 2:return y=[p.__assign.apply(void 0,v.concat([g]))],(m=f)?d?[4,this._headerBasedAuth(o,t)]:[3,4]:[3,6];case 3:return b=k.sent(),[3,5];case 4:b={Authorization:null},k.label=5;case 5:m=b,k.label=6;case 6:return _=[p.__assign.apply(void 0,y.concat([m]))],[4,l({query:r,variables:i})];case 7:if(h=p.__assign.apply(void 0,[p.__assign.apply(void 0,[p.__assign.apply(void 0,_.concat([k.sent()])),t]),!f&&(I={},I["x-amz-user-agent"]=Yr(a),I)]),w={query:ls(r),variables:i},S=Object.assign({headers:h,body:w,signerServiceInfo:{service:f?"execute-api":"appsync",region:f?d:s}},n),!(E=f||u))throw{data:{},errors:[new Ea("No graphql endpoint provided.")]};k.label=8;case 8:return k.trys.push([8,10,,11]),[4,this._api.post(E,S)];case 9:return A=k.sent(),[3,11];case 10:if(C=k.sent(),this._api.isCancel(C))throw C;return A={data:{},errors:[new Ea(C.message,null,null,null,null,C)]},[3,11];case 11:if((T=A.errors)&&T.length)throw A;return[2,A]}}))}))},e.prototype.createInstanceIfNotCreated=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,i=e.authMode,o=e.authToken;void 0===t&&(t={});var a=this._options,s=a.aws_appsync_region,u=a.aws_appsync_graphqlEndpoint,c=a.aws_appsync_authenticationType,l=a.aws_appsync_apiKey,f=a.graphql_headers,d=void 0===f?function(){return{}}:f,h=i||c||"AWS_IAM";if(Xs&&"function"===typeof Xs.subscribe)return Xs.subscribe("",{provider:bs,appSyncGraphqlEndpoint:u,authenticationType:h,apiKey:l,query:ls(n),region:s,variables:r,graphql_headers:d,additionalHeaders:t,authToken:o});throw eu.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return eu.debug("set credentials for api",n),!0})).catch((function(e){return eu.warn("ensure credentials error",e),!1}))},e}(),nu=new tu(null);W.register(nu);var ru=new b("API"),iu=function(){function e(e){this.Auth=ko,this.Cache=Lo,this.Credentials=Xr,this._options=e,this._restApi=new ra(e),this._graphqlApi=new tu(e),ru.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return(0,p.__assign)((0,p.__assign)({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.endpoint=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}(),ou=new iu(null);W.register(ou);var au,su=function(){function e(){this._state=au.Open,this.jobs=new Set}return e.prototype.add=function(t,n){var r,i;"string"===typeof t?(r=void 0,i=t):(r=t,i=n);var o=this.closedFailure(i);if(o)return o;if(void 0===r)return this.addHook(i);if("function"===typeof r)return this.addFunction(r,i);if(r instanceof e)return this.addManager(r,i);throw new Error("If `job` is provided, it must be an Observable, Function, or BackgroundProcessManager.")},e.prototype.addCleaner=function(e,t){var n=this,r=this.addHook(t),i=r.resolve,o=function(){return(0,p.__awaiter)(n,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return t.sent(),i(),[2]}}))}))};return r.onTerminate.then(o),o},e.prototype.addFunction=function(e,t){var n,r=e(new Promise((function(e){n=e})));return"function"===typeof(null===r||void 0===r?void 0:r.then)&&this.registerPromise(r,n,t),r},e.prototype.addManager=function(e,t){var n=this;this.addCleaner((function(){return(0,p.__awaiter)(n,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.close()];case 1:return[2,t.sent()]}}))}))}),t)},e.prototype.addHook=function(e){var t,n,r,i=new Promise((function(e,r){t=e,n=r})),o=new Promise((function(e){r=e}));return this.registerPromise(i,r,e),{resolve:t,reject:n,onTerminate:o}},e.prototype.registerPromise=function(e,t,n){var r=this,i={promise:e,terminate:t,description:n};this.jobs.add(i),e.then((function(){r.jobs.delete(i)})).catch((function(){r.jobs.delete(i)}))},Object.defineProperty(e.prototype,"length",{get:function(){return this.jobs.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return Array.from(this.jobs).map((function(e){return e.description}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._state===au.Open},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosing",{get:function(){return this._state===au.Closing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this._state===au.Closed},enumerable:!0,configurable:!0}),e.prototype.closedFailure=function(e){if(!this.isOpen)return Promise.reject(new uu(["The manager is "+this.state+".",'You tried to add "'+e+'".',"Pending jobs: [\n"+this.pending.map((function(e){return"    "+e})).join(",\n")+"\n]"].join("\n")))},e.prototype.close=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:if(!this.isOpen)return[3,2];this._state=au.Closing;try{for(e=(0,p.__values)(Array.from(this.jobs)),t=e.next();!t.done;t=e.next()){n=t.value;try{n.terminate()}catch(a){console.warn("Failed to send termination signal to job. Error: "+a.message,n)}}}catch(s){r={error:s}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return this._closingPromise=Promise.allSettled(Array.from(this.jobs).map((function(e){return e.promise}))),[4,this._closingPromise];case 1:o.sent(),this._state=au.Closed,o.label=2;case 2:return[2,this._closingPromise]}}))}))},e.prototype.open=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return this.isClosing?[4,this.close()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._state=au.Open,[2]}}))}))},e}(),uu=function(e){function t(t){return e.call(this,"BackgroundManagerNotOpenError: "+t)||this}return(0,p.__extends)(t,e),t}(Error);function cu(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lu(e){return!!e&&!!e[Xu]}function fu(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ec}(e)||Array.isArray(e)||!!e[Zu]||!!e.constructor[Zu]||mu(e)||bu(e))}function du(e,t,n){void 0===n&&(n=!1),0===hu(e)?(n?Object.keys:tc)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function hu(e){var t=e[Xu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:mu(e)?2:bu(e)?3:0}function pu(e,t){return 2===hu(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function vu(e,t){return 2===hu(e)?e.get(t):e[t]}function gu(e,t,n){var r=hu(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function yu(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function mu(e){return Yu&&e instanceof Map}function bu(e){return Qu&&e instanceof Set}function _u(e){return e.o||e.t}function wu(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=nc(e);delete t[Xu];for(var n=tc(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Su(e,t){return void 0===t&&(t=!1),Au(e)||lu(e)||!fu(e)||(hu(e)>1&&(e.set=e.add=e.clear=e.delete=Eu),Object.freeze(e),t&&du(e,(function(e,t){return Su(t,!0)}),!0)),e}function Eu(){cu(2)}function Au(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Cu(e){var t=rc[e];return t||cu(18,e),t}function Tu(e,t){rc[e]||(rc[e]=t)}function Iu(){return Hu}function ku(e,t){t&&(Cu("Patches"),e.u=[],e.s=[],e.v=t)}function Ou(e){Pu(e),e.p.forEach(Nu),e.p=null}function Pu(e){e===Hu&&(Hu=e.l)}function xu(e){return Hu={p:[],l:Hu,h:e,m:!0,_:0}}function Nu(e){var t=e[Xu];0===t.i||1===t.i?t.j():t.O=!0}function Mu(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Cu("ES5").S(t,e,r),r?(n[Xu].P&&(Ou(t),cu(4)),fu(e)&&(e=Ru(t,e),t.l||Uu(t,e)),t.u&&Cu("Patches").M(n[Xu],e,t.u,t.s)):e=Ru(t,n,[]),Ou(t),t.u&&t.v(t.u,t.s),e!==$u?e:void 0}function Ru(e,t,n){if(Au(t))return t;var r=t[Xu];if(!r)return du(t,(function(i,o){return Du(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Uu(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=wu(r.k):r.o;du(3===r.i?new Set(i):i,(function(t,o){return Du(e,r,i,t,o,n)})),Uu(e,i,!1),n&&e.u&&Cu("Patches").R(r,n,e.u,e.s)}return r.o}function Du(e,t,n,r,i,o){if(lu(i)){var a=Ru(e,i,o&&t&&3!==t.i&&!pu(t.D,r)?o.concat(r):void 0);if(gu(n,r,a),!lu(a))return;e.m=!1}if(fu(i)&&!Au(i)){if(!e.h.F&&e._<1)return;Ru(e,i),t&&t.A.l||Uu(e,i)}}function Uu(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Su(t,n)}function Fu(e,t){var n=e[Xu];return(n?_u(n):e)[t]}function Lu(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ju(e){e.P||(e.P=!0,e.l&&ju(e.l))}function Bu(e){e.o||(e.o=wu(e.t))}function zu(e,t,n){var r=mu(t)?Cu("MapSet").N(t,n):bu(t)?Cu("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Iu(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=ic;n&&(i=[r],o=oc);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):Cu("ES5").J(t,n);return(n?n.A:Iu()).p.push(r),r}function qu(e){return lu(e)||cu(22,e),function e(t){if(!fu(t))return t;var n,r=t[Xu],i=hu(t);if(r){if(!r.P&&(r.i<4||!Cu("ES5").K(r)))return r.t;r.I=!0,n=Vu(t,i),r.I=!1}else n=Vu(t,i);return du(n,(function(t,i){r&&vu(r.t,t)===i||gu(n,t,e(i))})),3===i?new Set(n):n}(e)}function Vu(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return wu(e)}function Ku(){function e(t){if(!fu(t))return t;if(Array.isArray(t))return t.map(e);if(mu(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(bu(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return pu(t,Zu)&&(n[Zu]=t[Zu]),n}function t(t){return lu(t)?e(t):t}var n="add";Tu("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,o=r.op,a=t,s=0;s<i.length-1;s++){var u=hu(a),c=""+i[s];0!==u&&1!==u||"__proto__"!==c&&"constructor"!==c||cu(24),"function"==typeof a&&"prototype"===c&&cu(24),"object"!=typeof(a=vu(a,c))&&cu(15,i.join("/"))}var l=hu(a),f=e(r.value),d=i[i.length-1];switch(o){case"replace":switch(l){case 2:return a.set(d,f);case 3:cu(16);default:return a[d]=f}case n:switch(l){case 1:return a.splice(d,0,f);case 2:return a.set(d,f);case 3:return a.add(f);default:return a[d]=f}case"remove":switch(l){case 1:return a.splice(d,1);case 2:return a.delete(d);case 3:return a.delete(r.value);default:return delete a[d]}default:cu(17,o)}})),t},R:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var a=e.t,s=e.o;du(e.D,(function(e,u){var c=vu(a,e),l=vu(s,e),f=u?pu(a,e)?"replace":n:"remove";if(c!==l||"replace"!==f){var d=r.concat(e);i.push("remove"===f?{op:f,path:d}:{op:f,path:d,value:l}),o.push(f===n?{op:"remove",path:d}:"remove"===f?{op:n,path:d,value:t(c)}:{op:"replace",path:d,value:t(c)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var a=e.t,s=e.D,u=e.o;if(u.length<a.length){var c=[u,a];a=c[0],u=c[1];var l=[o,i];i=l[0],o=l[1]}for(var f=0;f<a.length;f++)if(s[f]&&u[f]!==a[f]){var d=r.concat([f]);i.push({op:"replace",path:d,value:t(u[f])}),o.push({op:"replace",path:d,value:t(a[f])})}for(var h=a.length;h<u.length;h++){var p=r.concat([h]);i.push({op:n,path:p,value:t(u[h])})}a.length<u.length&&o.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,a=e.o,s=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}s++})),s=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===$u?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}!function(e){e.Open="Open",e.Closing="Closing",e.Closed="Closed"}(au||(au={}));var Wu,Hu,Gu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Yu="undefined"!=typeof Map,Qu="undefined"!=typeof Set,Ju="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$u=Gu?Symbol.for("immer-nothing"):((Wu={})["immer-nothing"]=!0,Wu),Zu=Gu?Symbol.for("immer-draftable"):"__$immer_draftable",Xu=Gu?Symbol.for("immer-state"):"__$immer_state",ec=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),tc="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,nc=Object.getOwnPropertyDescriptors||function(e){var t={};return tc(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},rc={},ic={get:function(e,t){if(t===Xu)return e;var n=_u(e);if(!pu(n,t))return function(e,t,n){var r,i=Lu(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!fu(r)?r:r===Fu(e.t,t)?(Bu(e),e.o[t]=zu(e.A.h,r,e)):r},has:function(e,t){return t in _u(e)},ownKeys:function(e){return Reflect.ownKeys(_u(e))},set:function(e,t,n){var r=Lu(_u(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Fu(_u(e),t),o=null==i?void 0:i[Xu];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(yu(n,i)&&(void 0!==n||pu(e.t,t)))return!0;Bu(e),ju(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Fu(e.t,t)||t in e.t?(e.D[t]=!1,Bu(e),ju(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=_u(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){cu(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){cu(12)}},oc={};du(ic,(function(e,t){oc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),oc.deleteProperty=function(e,t){return ic.deleteProperty.call(this,e[0],t)},oc.set=function(e,t,n){return ic.set.call(this,e[0],t,n,e[0])};var ac=function(){function e(e){var t=this;this.g=Ju,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&cu(6),void 0!==r&&"function"!=typeof r&&cu(7),fu(e)){var s=xu(t),u=zu(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?Ou(s):Pu(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return ku(s,r),Mu(e,s)}),(function(e){throw Ou(s),e})):(ku(s,r),Mu(a,s))}if(!e||"object"!=typeof e){if((a=n(e))===$u)return;return void 0===a&&(a=e),t.F&&Su(a,!0),a}cu(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){fu(e)||cu(8),lu(e)&&(e=qu(e));var t=xu(this),n=zu(this,e,void 0);return n[Xu].C=!0,Pu(t),n},t.finishDraft=function(e,t){var n=(e&&e[Xu]).A;return ku(n,t),Mu(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Ju&&cu(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=Cu("Patches").$;return lu(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),sc=new ac,uc=sc.produce,cc=(sc.produceWithPatches.bind(sc),sc.setAutoFreeze.bind(sc)),lc=(sc.setUseProxies.bind(sc),sc.applyPatches.bind(sc));sc.createDraft.bind(sc),sc.finishDraft.bind(sc);function fc(e){var t=new Error(e);return t.source="ulid",t}var dc="0123456789ABCDEFGHJKMNPQRSTVWXYZ",hc=dc.length,pc=Math.pow(2,48)-1,vc=10,gc=16;function yc(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function mc(e){var t=Math.floor(e()*hc);return t===hc&&(t=hc-1),dc.charAt(t)}function bc(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>pc)throw fc("cannot encode time greater than "+pc);if(e<0)throw fc("time must be positive");if(!1===Number.isInteger(e))throw fc("time must be an integer");for(var n=void 0,r="";t>0;t--)n=e%hc,r=dc.charAt(n)+r,e=(e-n)/hc;return r}function _c(e,t){for(var n="";e>0;e--)n=mc(t)+n;return n}function wc(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!==typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var i=n(6999);return function(){return i.randomBytes(1).readUInt8()/255}}catch(o){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(o){}return function(){return Math.random()}}throw fc("secure crypto unusable, insecure Math.random not allowed")}function Sc(e){e||(e=wc());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var i=n=function(e){for(var t=void 0,n=e.length,r=void 0,i=void 0,o=hc-1;!t&&n-- >=0;){if(r=e[n],-1===(i=dc.indexOf(r)))throw fc("incorrectly encoded string");i!==o?t=yc(e,n,dc[i+1]):e=yc(e,n,dc[0])}if("string"===typeof t)return t;throw fc("cannot increment this string")}(n);return bc(t,vc)+i}t=r;var o=n=_c(gc,e);return bc(r,vc)+o}}Ec||(Ec=wc());var Ec,Ac,Cc=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),i=new Proxy({},{get:function(t,i,o){var a=i;if(!r.has(a))throw new Error("Invalid field for model. field: "+a+", model: "+n);return function(t){var n;return null===(n=e.sortPredicateGroupsMap.get(o))||void 0===n||n.push({field:a,sortDirection:t}),o}}});return e.sortPredicateGroupsMap.set(i,[]),i},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");var r=e.sortPredicateGroupsMap.get(t);if(r)return r;throw new Error("Predicate group not found")},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),Tc="id",Ic="#",kc="-",Oc="An index field cannot contain an empty string value",Pc="Models with composite primary keys cannot be queried by a single key value. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",xc="Models with composite primary keys cannot be deleted by a single key value, unless using a predicate. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",Nc="Object literal syntax cannot be used with observe. Use a predicate instead: https://docs.amplify.aws/lib/datastore/data-access/q/platform/js/#predicates";!function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"}(Ac||(Ac={}));var Mc=Ac.DATASTORE,Rc=Ac.USER,Dc=Ac.SYNC,Uc=Ac.STORAGE,Fc="/DataStore",Lc=function(e){return"undefined"===typeof e||void 0===e||null===e},jc=function e(t,n,r){var i,o=!1;if(0===r.length)return!0;switch(n){case"not":i="every",o=!0;break;case"and":i="every";break;case"or":i="some";break;default:throw new Error("Invalid "+n)}var a=r[i]((function(n){if(Kl(n)){var r=n.field,i=n.operator,o=n.operand,a=t[r];return Bc(a,i,o)}if(Wl(n)){var s=n.type,u=n.predicates;return e(t,s,u)}throw new Error("Not a predicate or group")}));return o?!a:a},Bc=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var r=(0,p.__read)(n,2),i=r[0],o=r[1];return e>=i&&e<=o;case"beginsWith":return!Lc(e)&&e.startsWith(n);case"contains":return!Lc(e)&&e.indexOf(n)>-1;case"notContains":return Lc(e)||-1===e.indexOf(n);default:return!1}},zc=function(e){return e&&"function"===typeof e.copyOf},qc=new WeakSet;var Vc,Kc,Wc=new WeakMap,Hc=function(e,t,n,r,i){var o=[],a=i(n.name,e).copyOf(t,(function(){}));o.unshift({modelName:e,item:a,instance:a}),Wc.has(n)||Wc.set(n,Array.from(n.modelTopologicalOrdering.keys()));var s=Wc.get(n);return o.sort((function(e,t){return s.indexOf(e.modelName)-s.indexOf(t.modelName)})),o},Gc=function(){return(e=1,ci.lW.from((new di).random(e).toString(),"hex")).readUInt8(0)/255;var e};function Yc(e){var t=Sc(Gc);return function(){return t(e)}}function Qc(){return"undefined"!==typeof performance&&performance&&"function"===typeof performance.now?0|performance.now():Date.now()}function Jc(e){return function(t,n){var r,i;try{for(var o=(0,p.__values)(e),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.field,c=s.sortDirection===yl.ASCENDING?1:-1;if(t[u]<n[u])return-1*c;if(t[u]>n[u])return 1*c}}catch(l){r={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return 0}}function $c(e,t,n){var r,i;void 0===n&&(n=!1);var o,a,s=e,u=t;if(s instanceof Object&&!(u instanceof Object)||!(s instanceof Object)&&u instanceof Object)return!1;if(!(s instanceof Object))return!(!n||(o=s,a=u,void 0!==o&&null!==o||void 0!==a&&null!==a))||s===u;if(Array.isArray(s)&&!Array.isArray(u)||Array.isArray(u)&&!Array.isArray(s))return!1;s instanceof Set&&u instanceof Set&&(s=(0,p.__spread)(s),u=(0,p.__spread)(u)),s instanceof Map&&u instanceof Map&&(s=Object.fromEntries(s),u=Object.fromEntries(u));var c=Object.keys(s),l=Object.keys(u);if(c.length!==l.length&&(!n||Array.isArray(s)))return!1;var f=c.length>=l.length?c:l;try{for(var d=(0,p.__values)(f),h=d.next();!h.done;h=d.next()){var v=h.value;if(!$c(s[v],u[v],n))return!1}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return!0}function Zc(e,t){if(t&&e.length>1){if(t.sort){var n=Cc.getPredicates(t.sort);if(n.length){var r=Jc(n);e.sort(r)}}var i=t.page,o=void 0===i?0:i,a=t.limit,s=void 0===a?0:a,u=Math.max(0,o*s)||0,c=s>0?u+s:e.length;return e.slice(u,c)}return e}function Xc(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),n=(0,p.__values)(e),r=n.next(),u.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,t(i)]);case 2:if(u.sent())return[2,!0];u.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return o=u.sent(),a={error:o},[3,7];case 6:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 7:return[2,!1]}}))}))}function el(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),n=(0,p.__values)(e),r=n.next(),u.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,t(i)]);case 2:if(!u.sent())return[2,!1];u.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return o=u.sent(),a={error:o},[3,7];case 6:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 7:return[2,!0]}}))}))}var tl=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},nl=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},rl=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},il=function(e){return!!/^\d+$/.exec(String(e))},ol=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},al=function(e){try{return JSON.parse(e),!0}catch(t){return!1}},sl=function(e){try{return!!new URL(e)}catch(t){return!1}},ul=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},cl=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},ll=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},fl=function(){function e(e){this.limitPromise=new ll,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(e){throw void 0===e&&(e="DeferredCallbackResolver error"),new Error(e)},this.callback=e.callback,this.errorHandler=e.errorHandler||this.defaultErrorHandler,this.maxInterval=e.maxInterval||2e3}return e.prototype.startTimer=function(){var e=this;this.timerPromise=new Promise((function(t,n){e.timer=setTimeout((function(){t(Hl.TIMER)}),e.maxInterval)}))},e.prototype.racePromises=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return e=n.sent(),this.callback(),[3,4];case 2:return t=n.sent(),this.errorHandler(t),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new ll,[2,e];case 4:return[2]}}))}))},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(Hl.LIMIT)},e}();var dl,hl,pl,vl,gl,yl,ml,bl,_l,wl=function(e,t){return e+"_"+t},Sl=function(e){var t;return null===(t=null===e||void 0===e?void 0:e.attributes)||void 0===t?void 0:t.find(Fl)},El=function(e){var t=Sl(e);return t&&Ll(t)?t.properties.fields:[Tc]},Al=function(e,t){return t.map((function(t){return e[t]}))},Cl=function(e){var t=Sl(e);return!t||!Ll(t)},Tl=function(e){var t={},n={};return Object.keys(e.models).forEach((function(r){var i,o;t[r]={indexes:[],relationTypes:[]},n[r]={};var a=e.models[r];if(Object.keys(a.fields).forEach((function(e){var n=a.fields[e];if("object"===typeof n.type&&"model"in n.type){var i=n.association.connectionType;if(t[r].relationTypes.push({fieldName:n.name,modelName:n.type.model,relationType:i,targetName:n.association.targetName,targetNames:n.association.targetNames,associatedWith:n.association.associatedWith}),"BELONGS_TO"===i){var o=Ol(n.association);if(o){var s=Pl(o);t[r].indexes.push([s,o])}}}})),a.attributes){n[r].compositeKeys=function(e){var t=function(e){return e.reduce((function(e,t){var n=new Set(t);if(0===e.length)return e.push(n),e;var r=e.findIndex((function(e){return(0,p.__spread)(e).some((function(e){return n.has(e)}))}));if(r>-1){var i=new Set((0,p.__spread)(e[r],n));e[r]=i}else e.push(n);return e}),[])},n=t(e.filter(jl).map((function(e){return(0,p.__read)(e.properties.fields).slice(1)})));return t(n)}(a.attributes);var s=function(e){if(!Fl(e))return"continue";var i=e.properties.fields;if(Ll(e))return n[r].primaryKey=i,"continue";var o=Pl(i),a=t[r].indexes.find((function(e){return(0,p.__read)(e,1)[0]===o}));a||t[r].indexes.push([o,i])};try{for(var u=(0,p.__values)(a.attributes),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(l){i={error:l}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}n[r].primaryKey||(n[r].primaryKey=[Tc]),t[r].indexes.push(["byPk",n[r].primaryKey,{unique:!0}])})),[t,n]},Il=function(e,t){var n;return e.some((function(e){if(e.modelName===t){var r=Ol(e);return n=r&&Pl(r),!0}})),n},kl=function(e,t){var n;n=Array.isArray(t)?Pl(t):t;var r=e.find((function(e){return(0,p.__read)(e,1)[0]===n}));return r&&r[0]},Ol=function(e){var t=null===e||void 0===e?void 0:e.targetName,n=null===e||void 0===e?void 0:e.targetNames;return Array.isArray(n)?n:"string"===typeof t?[t]:void 0},Pl=function(e){return e.reduce((function(e,t,n){return 0===n?t:""+e+kc+t}),"")},xl=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},Nl=function(e,t){var n,r,i=null===(r=null===(n=null===e||void 0===e?void 0:e.keys)||void 0===n?void 0:n[t])||void 0===r?void 0:r.primaryKey;return i||[Tc]};function Ml(e){return e&&void 0!==e.pluralName}function Rl(e){return Ml(e)&&void 0!==e.attributes}function Dl(e){return(null===e||void 0===e?void 0:e.targetName)||(null===e||void 0===e?void 0:e.targetNames)}function Ul(e,t){var n,r;return null===(r=null===(n=null===e||void 0===e?void 0:e.fields[t])||void 0===n?void 0:n.association)||void 0===r?void 0:r.connectionType}function Fl(e){return"key"===e.type&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function Ll(e){return Fl(e)&&void 0===e.properties.name}function jl(e){return Fl(e)&&void 0!==e.properties.name&&e.properties.fields.length>2}function Bl(e){return e&&void 0!==pl[e]}function zl(e){return!(!e||!e.model)}function ql(e){return!(!e||!e.nonModel)}function Vl(e,t){var n=El(t);return"object"===typeof e&&e&&n.every((function(t){return void 0!==e[t]}))}function Kl(e){return e&&void 0!==e.field}function Wl(e){return e&&void 0!==e.type}!function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"}(dl||(dl={})),function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"}(hl||(hl={})),function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"}(pl||(pl={})),function(e){e.getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:throw new Error("Invalid scalar type")}},e.getValidationFunction=function(e){switch(e){case"AWSDate":return tl;case"AWSTime":return nl;case"AWSDateTime":return rl;case"AWSTimestamp":return il;case"AWSEmail":return ol;case"AWSJSON":return al;case"AWSURL":return sl;case"AWSPhone":return ul;case"AWSIPAddress":return cl;default:return}}}(pl||(pl={})),function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(vl||(vl={})),function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"}(gl||(gl={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(yl||(yl={})),function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"}(ml||(ml={})),function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(bl||(bl={})),function(e){e.sync="sync",e.mutate="mutate",e.subscribe="subscribe"}(_l||(_l={}));var Hl,Gl=Symbol("DISCARD");!function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"}(Hl||(Hl={}));var Yl=function(){this.__isPredicateInternalsKeySentinel=!0};function Ql(e){return"private"!==e.allow||e.provider?"public"!==e.allow||e.provider?e.provider:hl.API_KEY:hl.USER_POOLS}function Jl(e){var t=e.rules,n=e.currentUser,r=new Set;return t.forEach((function(e){switch(e.allow){case dl.CUSTOM:e.provider&&e.provider!==hl.FUNCTION||r.add(h.AWS_LAMBDA);break;case dl.GROUPS:case dl.OWNER:n&&(e.provider===hl.USER_POOLS?r.add(h.AMAZON_COGNITO_USER_POOLS):e.provider===hl.OIDC&&r.add(h.OPENID_CONNECT));break;case dl.PRIVATE:n&&(e.provider&&e.provider!==hl.USER_POOLS?e.provider===hl.IAM&&r.add(h.AWS_IAM):r.add(h.AMAZON_COGNITO_USER_POOLS));break;case dl.PUBLIC:e.provider===hl.IAM?r.add(h.AWS_IAM):e.provider&&e.provider!==hl.API_KEY||r.add(h.API_KEY)}})),Array.from(r)}var $l=function(e){return function(t){var n=t.schema,r=t.modelName;return(0,p.__awaiter)(void 0,void 0,void 0,(function(){var t,i,o,a,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:e.Auth=e.Auth||ko,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e.Auth.currentAuthenticatedUser()];case 2:return t=u.sent(),[3,4];case 3:return u.sent(),[3,4];case 4:return(i=n.namespaces.user.models[r].attributes)&&(o=i.find((function(e){return"auth"===e.type})),null===(s=null===o||void 0===o?void 0:o.properties)||void 0===s?void 0:s.rules)?(a=function(e){var t=[dl.CUSTOM,dl.OWNER,dl.GROUPS,dl.PRIVATE,dl.PUBLIC],n=[hl.FUNCTION,hl.USER_POOLS,hl.OIDC,hl.IAM,hl.API_KEY];return(0,p.__spread)(e).sort((function(e,r){return e.allow===r.allow?n.indexOf(Ql(e))-n.indexOf(Ql(r)):t.indexOf(e.allow)-t.indexOf(r.allow)}))}(o.properties.rules),[2,Jl({currentUser:t,rules:a})]):[2,[]]}}))}))}},Zl=function(){return[]},Xl=new WeakSet;function ef(e){return Xl.has(e)}var tf,nf,rf=new Set(["and","or","not"]),of=new Set(["eq","ne","gt","lt","ge","le","contains","notContains","beginsWith","between"]),af=function e(t){return Array.isArray(t)?t.every((function(t){return e(t)})):1===Object.keys(t).length},sf=(Symbol("A predicate that matches all records"),function(){function e(){}Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return Xl.add(e),e},enumerable:!0,configurable:!0})}(),function(){function e(){}return e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createForPk=function(e,t){var n=El(e),r=Al(t,n);return this.createFromAST(e,{and:n.map((function(e,t){var n,i=r[t];return(n={})[e]={eq:i},n}))})},e.createFromFlatEqualities=function(e,t){var n={and:Object.entries(t).map((function(e){var t,n=(0,p.__read)(e,2),r=n[0],i=n[1];return(t={})[r]={eq:i},t}))};return this.createFromAST(e,n)},e.transformGraphQLFilterNodeToPredicateAST=function(e){var t=this;if(!af(e))throw new Error("Invalid GraphQL Condition or subtree: "+e);if(function(e){var t=(0,p.__spread)(Object.keys(e));return 1===t.length&&rf.has(t[0])}(e)){var n=Object.keys(e)[0],r=this.transformGraphQLFilterNodeToPredicateAST(e[n]);return{type:n,predicates:Array.isArray(r)?r:[r]}}if(function(e){var t=(0,p.__spread)(Object.keys(e));return!Array.isArray(e)&&1===t.length&&of.has(t[0])}(e)){var i=Object.keys(e)[0];return{operator:i,operand:e[i]}}if(Array.isArray(e))return e.map((function(e){return t.transformGraphQLFilterNodeToPredicateAST(e)}));var o=Object.keys(e)[0];return(0,p.__assign)({field:o},this.transformGraphQLFilterNodeToPredicateAST(e[o]))},e.createFromAST=function(t,n){var r={};return e.predicateGroupsMap.set(r,this.transformGraphQLFilterNodeToPredicateAST(n)),r},e.predicateGroupsMap=new WeakMap,e}()),uf=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(r){throw t(),r}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}(),cf=uf,lf=n(7383),ff=n.n(lf),df=new b("DataStore");!function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"}(tf||(tf={})),function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"}(nf||(nf={}));var hf,pf={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},vf=Object.keys(pf);function gf(e,t){var n=yf(t),r=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,i=t.type;if(ql(i)){var o=e.nonModels[i.nonModel],a=Object.values(yf(o)).map((function(e){return e.name})),s=[];Object.values(o.fields).forEach((function(t){var n=t.type,r=t.name;if(ql(n)){var i=e.nonModels[n.nonModel];s.push(r+" { "+gf(e,i)+" }")}})),n.push(r+" { "+a.join(" ")+" "+s.join(" ")+" }")}})),n}(e,t),i=function(e,t){var n=function(e){var t=[];Rl(e)&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}}));return t}(e);if(!t.owner&&n.includes("owner"))return["owner"];return[]}(t,n),o=Object.values(n).map((function(e){return e.name})).concat(i).concat(r);return Ml(t)&&(o=o.concat(vf).concat(function(e,t){var n=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(r){var i=r.name,o=r.association,a=(o||{}).connectionType;switch(a){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":if(Dl(o))if(o.targetNames&&o.targetNames.length>0){var s=(0,p.__read)(Tl(t),1)[0][e.fields[i].type.model].indexes.find((function(e){return"byPk"===(0,p.__read)(e,1)[0]})),u=s&&s[1],c=null===u||void 0===u?void 0:u.join(" ");n.push(i+" { "+c+" _deleted }")}else n.push(i+" { id _deleted }");break;default:throw new Error("Invalid connection type "+a)}})),n}(t,e))),o.join("\n")}function yf(e){var t=e.fields;return Object.values(t).filter((function(e){return!!(Bl(e.type)||(t=e.type,t&&t.enum));var t})).reduce((function(e,t){return e[t.name]=t,e}),{})}function mf(e){var t=([].concat(e.attributes||[]).find((function(e){return e&&"auth"===e.type}))||{}).properties,n=(void 0===t?{}:t).rules,r=[];return(void 0===n?[]:n).forEach((function(t){var n=t.identityClaim,i=void 0===n?"cognito:username":n,o=t.ownerField,a=void 0===o?"owner":o,s=t.operations,u=void 0===s?["create","update","delete","read"]:s,c=t.provider,l=void 0===c?"userPools":c,f=t.groupClaim,d=void 0===f?"cognito:groups":f,h=t.allow,p=void 0===h?"iam":h,v=t.groups,g=void 0===v?[]:v,y=t.groupsField,m=void 0===y?"":y,b="owner"===p;if(u.includes("read")||b){var _={identityClaim:i,ownerField:a,provider:l,groupClaim:d,authStrategy:p,groups:g,groupsField:m,areSubscriptionsPublic:!1};if(b){var w=([].concat(e.attributes||[]).find((function(e){return e&&"model"===e.type}))||{}).properties,S=(void 0===w?{}:w).subscriptions,E=(void 0===S?{}:S).level,A=void 0===E?"on":E;_.areSubscriptionsPublic=!u.includes("read")||"public"===A}b?r.push(_):r.unshift(_)}})),r}function bf(e,t,n){var r,i,o,a,s=gf(e,t),u=t.name,c=t.pluralName;switch(n){case"LIST":r="sync"+c,i="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+u+"FilterInput)",o="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",s="items {\n\t\t\t\t\t\t\t"+s+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+u,i="($input: Create"+u+"Input!)",o="(input: $input)",a=nf.CREATE;break;case"UPDATE":r="update"+u,i="($input: Update"+u+"Input!, $condition: Model"+u+"ConditionInput)",o="(input: $input, condition: $condition)",a=nf.UPDATE;break;case"DELETE":r="delete"+u,i="($input: Delete"+u+"Input!, $condition: Model"+u+"ConditionInput)",o="(input: $input, condition: $condition)",a=nf.DELETE;break;case"GET":r="get"+u,i="($id: ID!)",o="(id: $id)",a=nf.GET;break;default:throw new Error("Invalid graphQlOpType "+n)}return[[a,r,tf[n]+" operation"+i+"{\n\t\t"+r+o+"{\n\t\t\t"+s+"\n\t\t}\n\t}"]]}function _f(e,t,n,r,i,o,a,s,u){var c;switch(n){case vl.INSERT:c=nf.CREATE;break;case vl.UPDATE:c=nf.UPDATE;break;case vl.DELETE:c=nf.DELETE;break;default:throw new Error("Invalid opType "+n)}var l=kf(t,i),f=vl.INSERT&&u?{id:u}:{},d=s(a,(0,p.__assign)((0,p.__assign)({},f),{data:JSON.stringify(i,(function(e,n){return e&&null!==n&&"object"===typeof n&&t.fields[e]&&"AWSJSON"===t.fields[e].type?JSON.stringify(n):n})),modelId:l,model:r.name,operation:c,condition:JSON.stringify(o)}));return d}function wf(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!0);var r={};if(!e||!Array.isArray(e.predicates))return r;var i=e.type,o=e.predicates,a="and"===i||"or"===i;r[i]=a?[]:{};var s=[];if(o.forEach((function(e){var n,r;if(Kl(e)){var i=e.field,o=e.operator,a=e.operand;if(t.includes(i))return;var u=((n={})[i]=((r={})[o]=a,r),n);s.push(u)}else{var c=wf(e,t,!1);Object.keys(c).length>0&&s.push(c)}})),1===s.length){var u=(0,p.__read)(s,1)[0];if(a&&!n||a&&n&&("and"in u||"or"in u))return delete r[i],Object.assign(r,u),r}if(s.forEach((function(e){a?r[i].push(e):r[i]=e})),a){if(0===r[i].length)return{}}else if(0===Object.keys(r[i]).length)return{};return r}function Sf(e,t,n){var r=function(e){var t=new Set;if(!e||!Array.isArray(e.predicates))return t;for(var n=e.predicates,r=(0,p.__spread)(n);r.length>0;){var i=r.pop();Kl(i)?t.add(i.field):Wl(i)&&r.push.apply(r,(0,p.__spread)(i.predicates))}return t}(n),i=(0,p.__spread)(r).join(", "),o=function(e){var t,n,r=mf(e),i=new Set;try{for(var o=(0,p.__values)(r),a=o.next();!a.done;a=o.next()){var s=a.value;s.groupsField&&!s.groups.length?i.add(s.groupsField):s.ownerField&&i.add(s.ownerField)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}(t),a=(0,p.__spread)(o).join(", "),s=function(e){if(!e||!Array.isArray(e.predicates))return 0;for(var t=0,n=[e];n.length>0;){var r=n.pop();if(Wl(r)){var i=r.predicates;"or"===r.type&&i.length>1&&(t+=i.length),n.push.apply(n,(0,p.__spread)(i))}}return t||1}(n),u=function(e){if(!e||!Array.isArray(e.predicates))return null;for(var t=[wf(e)],n=function(e){var t,n,r={};try{for(var i=(0,p.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value,s=(0,p.__read)(Object.keys(a),1)[0];if(r[s])return s;r[s]=!0}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null};t.length>0;){var r=t.pop(),i=(0,p.__read)(Object.keys(r),1)[0],o=r[i];if(!Array.isArray(o))return null;var a=o.filter((function(e){return!Array.isArray(Object.values(e)[0])})),s=o.filter((function(e){return Array.isArray(Object.values(e)[0])}));if("and"===i){var u=n(a);if(u)return u}t.push.apply(t,(0,p.__spread)(s))}return null}(n);switch(e){case hf.UnknownField:return"Your API was generated with an older version of the CLI that doesn't support backend subscription filtering.To enable backend subscription filtering, upgrade your Amplify CLI to the latest version and push your app by running `amplify upgrade` followed by `amplify push`";case hf.MaxAttributes:var c="Your selective sync expression for "+t.name+" contains "+r.size+" different model fields: "+i+".\n\n";return o.size>0&&(c+="Note: the number of fields you can use with selective sync is affected by @auth rules configured on the model.\n\nDynamic auth modes, such as owner auth and dynamic group auth each utilize 1 field.\nYou currently have "+o.size+" dynamic auth mode(s) configured on this model: "+a+"."),c;case hf.MaxCombinations:c="Your selective sync expression for "+t.name+" contains "+s+" field combinations (total number of predicates in an OR expression).\n\n";return o.size>0&&(c+="Note: the number of fields you can use with selective sync is affected by @auth rules configured on the model.\n\nDynamic auth modes, such as owner auth and dynamic group auth factor in to the number of combinations you're using.\nYou currently have "+o.size+" dynamic auth mode(s) configured on this model: "+a+"."),c;case hf.RepeatedFieldname:return"Your selective sync expression for "+t.name+" contains multiple entries for "+u+" in the same AND group.";case hf.NotGroup:return"Your selective sync expression for "+t.name+" uses a `not` group. If you'd like to filter subscriptions in the backend, rewrite your expression using `ne` or `notContains` operators.";case hf.FieldNotInType:return""}}function Ef(e,t){var n=e[t.groupClaim]||[];if("string"===typeof n){var r=void 0;try{r=JSON.parse(n)}catch(i){r=n}n=[].concat(r)}return n}function Af(e){var t=e.authModeStrategy,n=e.defaultAuthMode,r=e.modelName,i=e.schema;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,o,a,s=this;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:e=Object.values(bl),o={CREATE:[],READ:[],UPDATE:[],DELETE:[]},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(e.map((function(e){return(0,p.__awaiter)(s,void 0,void 0,(function(){var a;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return[4,t({schema:i,modelName:r,operation:e})];case 1:return"string"===typeof(a=s.sent())?o[e]=[a]:Array.isArray(a)&&a.length?o[e]=a:o[e]=[n],[2]}}))}))})))];case 2:return u.sent(),[3,4];case 3:return a=u.sent(),df.debug("Error getting auth modes for model: "+r,a),[3,4];case 4:return[2,o]}}))}))}function Cf(e){var t,n=["Request failed with status code 401","Request failed with status code 403"];return e&&e.errors?t=e.errors.find((function(e){return n.includes(e.message)})):e&&e.message&&(t=e),t?t.message:null}function Tf(e){var t=Object.values(Ws);return e&&e.message&&t.find((function(t){return e.message.includes(t)}))||null}function If(e,t){return void 0===t&&(t={}),(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:if(e!==h.AWS_LAMBDA)return[3,6];if(n=t.authProviders,!(r=(void 0===n?{functionAuthProvider:null}:n).functionAuthProvider)||"function"!==typeof r)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r()];case 2:return[2,o.sent().token];case 3:throw i=o.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+i);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+h.AWS_LAMBDA);case 6:return[2]}}))}))}function kf(e,t){var n=El(e).map((function(e){return t[e]})).join(kc);return n}function Of(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function Pf(e,t,n){return(t=Of(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){Pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.UnknownField=0]="UnknownField",e[e.MaxAttributes=1]="MaxAttributes",e[e.MaxCombinations=2]="MaxCombinations",e[e.RepeatedFieldname=3]="RepeatedFieldname",e[e.NotGroup=4]="NotGroup",e[e.FieldNotInType=5]="FieldNotInType"}(hf||(hf={}));var Mf,Rf,Df=function(e,t){return t.some((function(t){return e instanceof t}))};var Uf=new WeakMap,Ff=new WeakMap,Lf=new WeakMap,jf=new WeakMap,Bf=new WeakMap;var zf={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ff.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Lf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kf(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qf(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Rf||(Rf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Wf(this),n),Kf(Uf.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kf(e.apply(Wf(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[Wf(this),t].concat(r));return Lf.set(o,t.sort?t.sort():[t]),Kf(o)}}function Vf(e){return"function"===typeof e?qf(e):(e instanceof IDBTransaction&&function(e){if(!Ff.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ff.set(e,t)}}(e),Df(e,Mf||(Mf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,zf):e)}function Kf(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(Kf(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&Uf.set(t,e)})).catch((function(){})),Bf.set(t,e),t}(e);if(jf.has(e))return jf.get(e);var t=Vf(e);return t!==e&&(jf.set(e,t),Bf.set(t,e)),t}var Wf=function(e){return Bf.get(e)};function Hf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=Kf(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Kf(s.result),e.oldVersion,e.newVersion,Kf(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}function Gf(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(){return t()})),Kf(n).then((function(){}))}var Yf=["get","getKey","getAll","getAllKeys","count"],Qf=["put","add","delete","clear"],Jf=new Map;function $f(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Jf.get(t))return Jf.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Qf.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Yf.includes(n))){var o=function(){var e=u(a().mark((function e(t){var o,s,u,c,l,f,d,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(u=u.index(l.shift())),e.next=6,(o=u)[n].apply(o,l);case 6:if(d=e.sent,!i){e.next=10;break}return e.next=10,s.done;case 10:return e.abrupt("return",d);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Jf.set(t,o),o}}}zf=function(e){return Nf(Nf({},e),{},{get:function(t,n,r){return $f(t,n)||e.get(t,n,r)},has:function(t,n){return!!$f(t,n)||e.has(t,n)}})}(zf);var Zf=new b("DataStore"),Xf="amplify-datastore",ed=function(){function e(){this.dbName=Xf}return e.prototype.setUp=function(e,t,n,r,i){return(0,p.__awaiter)(this,void 0,void 0,(function(){var o,a,s=this;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:return[4,this.preSetUpChecks()];case 1:return u.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise((function(e,t){s.resolve=e,s.reject=t})),[3,4]);case 2:return[4,this.initPromise];case 3:return u.sent(),[2];case 4:i&&(this.dbName=Xf+"-"+i),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,u.label=5;case 5:return u.trys.push([5,8,,9]),this.db?[3,7]:(o=this,[4,this.initDb()]);case 6:o.db=u.sent(),this.resolve(),u.label=7;case 7:return[3,9];case 8:return a=u.sent(),this.reject(a),[3,9];case 9:return[2]}}))}))},e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return wl(t,n)},e.prototype.getIndexKeyValuesFromModel=function(e){var t=Object.getPrototypeOf(e).constructor,n=this.namespaceResolver(t),r=Nl(this.schema.namespaces[n],t.name);return Al(e,r)},e.prototype.saveMetadata=function(e){var t=this,n=Object.getPrototypeOf(e).constructor,r=this.getStorenameForModel(n),i=this.namespaceResolver(n),o=Hc(n.name,e,this.schema.namespaces[i],this.modelInstanceCreator,this.getModelConstructorByModelName),a=new Set,s=Object.values(o).map((function(e){var n=e.modelName,r=e.item,o=e.instance,s=wl(i,n);return a.add(s),{storeName:s,item:r,instance:o,keys:Nl(t.schema.namespaces[i],n)}})),u=this.getIndexKeyValuesFromModel(e);return{storeName:r,set:a,connectionStoreNames:s,modelKeyValues:u}},e.prototype.validateSaveCondition=function(e,t){if(e&&t){var n=sf.getPredicates(e),r=n.predicates,i=n.type;if(!jc(t,i,r)){var o="Conditional update failed";throw Zf.error(o,{model:t,condition:r}),new Error(o)}}},e.prototype.load=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s=this;return(0,p.__generator)(this,(function(u){return r=this.schema.namespaces[e],i=r.relationships[t].relationTypes,o=i.map((function(t){var n=t.modelName;return wl(e,n)})),a=this.getModelConstructorByModelName(e,t),o.length,[2,n.map((function(e){return s.modelInstanceCreator(a,e)}))]}))}))},e.prototype.keyValueFromPredicate=function(e,t){var n,r,i=e.predicates;if(i.length===t.length){var o=[],a=function(e){var t=i.find((function(t){return Kl(t)&&t.field===e&&"eq"===t.operator&&null!==t.operand&&void 0!==t.operand}));t&&o.push(t.operand)};try{for(var s=(0,p.__values)(t),u=s.next();!u.done;u=s.next()){a(u.value)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o.length===t.length?o:void 0}},e.prototype.queryMetadata=function(e,t,n){var r=this.getStorenameForModel(e),i=this.namespaceResolver(e),o=t&&sf.getPredicates(t),a=Nl(this.schema.namespaces[i],e.name);return{storeName:r,namespaceName:i,queryByKey:o&&this.keyValueFromPredicate(o,a),predicates:o,hasSort:n&&n.sort,hasPagination:n&&n.limit}},e.prototype.delete=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,v,g,y,m;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,this.preOpCheck()];case 1:return p.sent(),n=[],zc(e)?(a=e,r=this.namespaceResolver(a),[4,this.query(a,t)]):[3,9];case 2:return i=p.sent(),y=this.schema.namespaces[r].relationships[a.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(y,i,a.name,r,n)];case 3:return p.sent(),[4,this.deleteItem(n)];case 4:return p.sent(),m=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[i,m]];case 5:return[4,this.deleteTraverse(y,i,a.name,r,n)];case 6:return p.sent(),[4,this.deleteItem(n)];case 7:return p.sent(),m=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[i,m]];case 8:return[3,16];case 9:return o=e,a=Object.getPrototypeOf(o).constructor,s=this.namespaceResolver(a),u=this.getStorenameForModel(a),t?(c=this.getIndexKeyValuesFromModel(o),[4,this._get(u,c)]):[3,12];case 10:if(void 0===(l=p.sent()))return g="Model instance not found in storage",Zf.warn(g,{model:o}),[2,[[o],[]]];if(f=sf.getPredicates(t),h=(d=f).predicates,v=d.type,!jc(l,v,h))throw g="Conditional update failed",Zf.error(g,{model:l,condition:h}),new Error(g);return y=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(y,[o],a.name,s,n)];case 11:return p.sent(),[3,14];case 12:return y=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(y,[o],a.name,s,n)];case 13:p.sent(),p.label=14;case 14:return[4,this.deleteItem(n)];case 15:return p.sent(),m=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[o],m]];case 16:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,i){var o,a,s,u,c,l,f,d;return(0,p.__awaiter)(this,void 0,void 0,(function(){var h,v,g,y,m,b,_,w,S,E,A,C,T,I,k,O=this;return(0,p.__generator)(this,(function(P){switch(P.label){case 0:P.trys.push([0,28,29,34]),o=(0,p.__asyncValues)(e),P.label=1;case 1:return[4,o.next()];case 2:if((a=P.sent()).done)return[3,27];h=a.value,v=h.modelName,g=h.relationType,y=h.targetNames,m=h.associatedWith,b=wl(r,v),_=Il(this.schema.namespaces[r].relationships[v].relationTypes,n)||kl(this.schema.namespaces[r].relationships[v].indexes,m),P.label=3;case 3:P.trys.push([3,20,21,26]),s=(0,p.__asyncValues)(t),P.label=4;case 4:return[4,s.next()];case 5:if((u=P.sent()).done)return[3,19];switch(w=u.value,S=[],g){case"HAS_ONE":return[3,6];case"HAS_MANY":return[3,11];case"BELONGS_TO":return[3,13]}return[3,14];case 6:return E=void 0,(null===y||void 0===y?void 0:y.length)?[4,this.getHasOneChild(w,n,r,h)]:[3,8];case 7:return E=P.sent(),[3,10];case 8:return[4,this.getHasOneChildLegacy(w,n,r,h)];case 9:E=P.sent(),P.label=10;case 10:return E&&S.push(E),[3,15];case 11:return A=this.getIndexKeyValuesFromModel(w),[4,this.getHasManyChildren(b,_,A)];case 12:return(null===(C=P.sent())||void 0===C?void 0:C.length)&&S.push.apply(S,(0,p.__spread)(C)),[3,15];case 13:return[3,15];case 14:throw new Error("Invalid relation type "+g);case 15:return[4,this.load(r,v,S)];case 16:return T=P.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[v].relationTypes,T,v,r,i)];case 17:P.sent(),P.label=18;case 18:return[3,4];case 19:return[3,26];case 20:return I=P.sent(),f={error:I},[3,26];case 21:return P.trys.push([21,,24,25]),u&&!u.done&&(d=s.return)?[4,d.call(s)]:[3,23];case 22:P.sent(),P.label=23;case 23:return[3,25];case 24:if(f)throw f.error;return[7];case 25:return[7];case 26:return[3,1];case 27:return[3,34];case 28:return k=P.sent(),c={error:k},[3,34];case 29:return P.trys.push([29,,32,33]),a&&!a.done&&(l=o.return)?[4,l.call(o)]:[3,31];case 30:P.sent(),P.label=31;case 31:return[3,33];case 32:if(c)throw c.error;return[7];case 33:return[7];case 34:return i.push({storeName:wl(r,n),items:t.map((function(e){return O.modelInstanceCreator(O.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e}(),td=new b("DataStore"),nd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.safariCompatabilityMode=!1,t.canonicalKeyPath=function(e){return t.safariCompatabilityMode?e.length>1?e:e[0]:e},t}return(0,p.__extends)(t,e),t.prototype.preSetUpChecks=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.checkPrivate()];case 1:return e.sent(),[4,this.setSafariCompatabilityMode()];case 2:return e.sent(),[2]}}))}))},t.prototype.preOpCheck=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.checkPrivate()];case 1:return e.sent(),[2]}}))}))},t.prototype.initDb=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,Hf(this.dbName,3,{upgrade:function(t,n,r,i){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_=this;return(0,p.__generator)(this,(function(w){switch(w.label){case 0:if(0===n)return Object.keys(this.schema.namespaces).forEach((function(e){var n=_.schema.namespaces[e];Object.keys(n.models).forEach((function(n){var r=wl(e,n);_.createObjectStoreForModel(t,e,r,n)}))})),[2];if(1!==n&&2!==n||3!==r)return[3,16];w.label=1;case 1:w.trys.push([1,14,,15]),w.label=2;case 2:w.trys.push([2,11,12,13]),e=(0,p.__values)(i.objectStoreNames),o=e.next(),w.label=3;case 3:return o.done?[3,10]:(a=o.value,s=i.objectStore(a),u="tmp_"+a,s.name=u,c=this.getNamespaceAndModelFromStorename(a),l=c.namespaceName,f=c.modelName,f in this.schema.namespaces[l].models?(d=this.createObjectStoreForModel(t,l,a,f),[4,s.openCursor()]):(t.deleteObjectStore(u),[3,9]));case 4:h=w.sent(),v=0,w.label=5;case 5:return h&&h.value?[4,d.put(h.value)]:[3,8];case 6:return w.sent(),[4,h.continue()];case 7:return h=w.sent(),v++,[3,5];case 8:t.deleteObjectStore(u),td.debug(v+" "+a+" records migrated"),w.label=9;case 9:return o=e.next(),[3,3];case 10:return[3,13];case 11:return g=w.sent(),m={error:g},[3,13];case 12:try{o&&!o.done&&(b=e.return)&&b.call(e)}finally{if(m)throw m.error}return[7];case 13:return Object.keys(this.schema.namespaces).forEach((function(e){var n=_.schema.namespaces[e],r=new Set(i.objectStoreNames);Object.keys(n.models).map((function(t){return[t,wl(e,t)]})).filter((function(e){var t=(0,p.__read)(e,2)[1];return!r.has(t)})).forEach((function(n){var r=(0,p.__read)(n,2),i=r[0],o=r[1];_.createObjectStoreForModel(t,e,o,i)}))})),[3,15];case 14:throw y=w.sent(),td.error("Error migrating IndexedDB data",y),i.abort(),y;case 15:case 16:return[2]}}))}))}})];case 1:return[2,t.sent()]}}))}))},t.prototype._get=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return"string"===typeof e?(r=e,n=this.db.transaction(r,"readonly").store.index("byPk")):n=e.index("byPk"),[4,n.get(this.canonicalKeyPath(t))];case 1:return[2,i.sent()]}}))}))},t.prototype.clear=function(){var e;return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.checkPrivate()];case 1:return t.sent(),null===(e=this.db)||void 0===e||e.close(),[4,Gf(this.dbName)];case 2:return t.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},t.prototype.save=function(e,t){var n,r;return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w,S,E,A,C,T;return(0,p.__generator)(this,(function(I){switch(I.label){case 0:return[4,this.checkPrivate()];case 1:return I.sent(),i=this.saveMetadata(e),o=i.storeName,a=i.set,s=i.connectionStoreNames,u=i.modelKeyValues,c=this.db.transaction((0,p.__spread)([o],Array.from(a.values())),"readwrite"),l=c.objectStore(o),[4,this._get(l,u)];case 2:f=I.sent(),this.validateSaveCondition(t,f),d=[],I.label=3;case 3:I.trys.push([3,11,12,17]),h=(0,p.__asyncValues)(s),I.label=4;case 4:return[4,h.next()];case 5:return(v=I.sent()).done?[3,10]:(g=v.value,y=g.storeName,m=g.item,b=g.instance,_=g.keys,w=c.objectStore(y),S=_.map((function(e){return m[e]})),[4,this._get(w,S)]);case 6:return E=I.sent(),A=E?vl.UPDATE:vl.INSERT,xl(S,u)||A===vl.INSERT?[4,w.index("byPk").getKey(this.canonicalKeyPath(S))]:[3,9];case 7:return C=I.sent(),[4,w.put(m,C)];case 8:I.sent(),d.push([b,A]),I.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return T=I.sent(),n={error:T},[3,17];case 12:return I.trys.push([12,,15,16]),v&&!v.done&&(r=h.return)?[4,r.call(h)]:[3,14];case 13:I.sent(),I.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,c.done];case 18:return I.sent(),[2,d]}}))}))},t.prototype.query=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f=this;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.checkPrivate()];case 1:return d.sent(),r=this.queryMetadata(e,t,n),i=r.storeName,o=r.namespaceName,a=r.queryByKey,s=r.predicates,u=r.hasSort,c=r.hasPagination,[4,(0,p.__awaiter)(f,void 0,void 0,(function(){var e,t,r;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return a?[4,this.getByKey(i,a)]:[3,2];case 1:return[2,(e=o.sent())?[e]:[]];case 2:return s?[4,this.filterOnPredicate(i,s)]:[3,4];case 3:return t=o.sent(),[2,this.inMemoryPagination(t,n)];case 4:return u?[4,this.getAll(i)]:[3,6];case 5:return r=o.sent(),[2,this.inMemoryPagination(r,n)];case 6:return c?[2,this.enginePagination(i,n)]:[2,this.getAll(i)]}}))}))];case 2:return l=d.sent(),[4,this.load(o,e.name,l)];case 3:return[2,d.sent()]}}))}))},t.prototype.queryOne=function(e,t){return void 0===t&&(t=gl.FIRST),(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.checkPrivate()];case 1:return o.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===gl.FIRST?"next":"prev")];case 2:return r=o.sent(),[2,(i=r?r.value:void 0)&&this.modelInstanceCreator(e,i)]}}))}))},t.prototype.batchSave=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,v,g,y=this;return(0,p.__generator)(this,(function(m){switch(m.label){case 0:return[4,this.checkPrivate()];case 1:if(m.sent(),0===t.length)return[2,[]];n=e.name,r=this.namespaceResolver(e),i=this.getStorenameForModel(e),o=[],a=this.db.transaction(i,"readwrite"),s=a.store,u=function(t){var i,a,u,l,f,d;return(0,p.__generator)(this,(function(h){switch(h.label){case 0:return i=c.modelInstanceCreator(e,t),a=Hc(n,i,c.schema.namespaces[r],c.modelInstanceCreator,c.getModelConstructorByModelName),u=c.getIndexKeyValuesFromModel(i),l=t._deleted,[4,s.index("byPk").getKey(c.canonicalKeyPath(u))];case 1:return f=h.sent(),l?[3,3]:(d=a.find((function(e){var t=e.instance,n=y.getIndexKeyValuesFromModel(t);return xl(n,u)})).instance,o.push([d,f?vl.UPDATE:vl.INSERT]),[4,s.put(d,f)]);case 2:return h.sent(),[3,5];case 3:return o.push([t,vl.DELETE]),f?[4,s.delete(f)]:[3,5];case 4:h.sent(),h.label=5;case 5:return[2]}}))},c=this,m.label=2;case 2:m.trys.push([2,7,8,9]),l=(0,p.__values)(t),f=l.next(),m.label=3;case 3:return f.done?[3,6]:(d=f.value,[5,u(d)]);case 4:m.sent(),m.label=5;case 5:return f=l.next(),[3,3];case 6:return[3,9];case 7:return h=m.sent(),v={error:h},[3,9];case 8:try{f&&!f.done&&(g=l.return)&&g.call(l)}finally{if(v)throw v.error}return[7];case 9:return[4,a.done];case 10:return m.sent(),[2,o]}}))}))},t.prototype.deleteItem=function(e){var t,n,r,i;return(0,p.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w;return(0,p.__generator)(this,(function(S){switch(S.label){case 0:o=e.map((function(e){return e.storeName})),a=this.db.transaction((0,p.__spread)(o),"readwrite"),S.label=1;case 1:S.trys.push([1,22,23,28]),s=(0,p.__asyncValues)(e),S.label=2;case 2:return[4,s.next()];case 3:if((u=S.sent()).done)return[3,21];c=u.value,l=c.storeName,f=c.items,d=a.objectStore(l),S.label=4;case 4:S.trys.push([4,14,15,20]),h=(0,p.__asyncValues)(f),S.label=5;case 5:return[4,h.next()];case 6:return(v=S.sent()).done?[3,13]:(g=v.value)?(y=void 0,"object"!==typeof g?[3,8]:(m=this.getIndexKeyValuesFromModel(g),[4,d.index("byPk").getKey(this.canonicalKeyPath(m))])):[3,12];case 7:return y=S.sent(),[3,10];case 8:return b=g.toString(),[4,d.index("byPk").getKey(b)];case 9:y=S.sent(),S.label=10;case 10:return void 0===y?[3,12]:[4,d.delete(y)];case 11:S.sent(),S.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return _=S.sent(),r={error:_},[3,20];case 15:return S.trys.push([15,,18,19]),v&&!v.done&&(i=h.return)?[4,i.call(h)]:[3,17];case 16:S.sent(),S.label=17;case 17:return[3,19];case 18:if(r)throw r.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return w=S.sent(),t={error:w},[3,28];case 23:return S.trys.push([23,,26,27]),u&&!u.done&&(n=s.return)?[4,n.call(s)]:[3,25];case 24:S.sent(),S.label=25;case 25:return[3,27];case 26:if(t)throw t.error;return[7];case 27:return[7];case 28:return[2]}}))}))},t.prototype.getHasOneChild=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,i,o,a;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return"byPk",t=r.modelName,i=r.targetNames,o=wl(n,t),a=i.filter((function(t){var n;return null!==(n=e[t])&&void 0!==n&&n})).map((function(t){return e[t]})),0===a.length?[2]:[4,this.db.transaction(o,"readwrite").objectStore(o).index("byPk").get(this.canonicalKeyPath(a))];case 1:return[2,s.sent()]}}))}))},t.prototype.getHasOneChildLegacy=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:if("byPk",i=r.modelName,o=r.targetName,a=wl(n,i),o&&o in e){if(s="byPk",null===(c=e[o]))return[2];u=[c]}else s=Il(this.schema.namespaces[n].relationships[i].relationTypes,t),u=this.getIndexKeyValuesFromModel(e);return u&&s?[4,this.db.transaction(a,"readwrite").objectStore(a).index(s).get(this.canonicalKeyPath(u))]:[2];case 1:return[2,l.sent()]}}))}))},t.prototype.getHasManyChildren=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.db.transaction(e,"readwrite").objectStore(e).index(t).getAll(this.canonicalKeyPath(n))];case 1:return[2,r.sent()]}}))}))},t.prototype.checkPrivate=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){var t,n=(0,In.v4)(),r=function(){Vc=!1,e(!0)},i=function(){return(0,p.__awaiter)(void 0,void 0,void 0,(function(){return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"===typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),Vc=!0,[2,e(!1)]}}))}))};return!0===Vc?i():!1===Vc||null===indexedDB?r():((t=indexedDB.open(n)).onerror=r,void(t.onsuccess=i))})).then((function(e){return e}))];case 1:return e.sent()?(td.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},t.prototype.setSafariCompatabilityMode=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return e=this,[4,(0,p.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),e=(0,In.v4)(),t="indexedDBFeatureProbeStore",n="idx",null===indexedDB?[2,!1]:void 0!==Kc?[2,Kc]:[4,new Promise((function(r){var i=indexedDB.open(e);i.onerror=function(){return r(!1)},i.onsuccess=function(){var e=i.result;r(e)},i.onupgradeneeded=function(e){var i,o=null===(i=null===e||void 0===e?void 0:e.target)||void 0===i?void 0:i.result;o.onerror=function(){return r(!1)},o.createObjectStore(t,{autoIncrement:!0}).createIndex(n,["id"])}}))];case 1:if(!(r=a.sent()))throw new Error("Could not open probe DB");return(i=r.transaction(t,"readwrite")).objectStore(t).add({id:1}),i.commit(),[4,new Promise((function(e){var i=r.transaction(t,"readonly").objectStore(t).index(n).get([1]);i.onerror=function(){return e(!1)},i.onsuccess=function(t){var n;e(null===(n=null===t||void 0===t?void 0:t.target)||void 0===n?void 0:n.result)}}))];case 2:return o=a.sent(),r&&"function"===typeof r.close?[4,r.close()]:[3,4];case 3:a.sent(),a.label=4;case 4:return[4,indexedDB.deleteDatabase(e)];case 5:return a.sent(),Kc=void 0===o,[3,7];case 6:return a.sent(),Kc=!1,[3,7];case 7:return[2,Kc]}}))}))];case 1:return e.safariCompatabilityMode=t.sent(),!0===this.safariCompatabilityMode&&td.debug("IndexedDB Adapter is running in Safari Compatability Mode"),[2]}}))}))},t.prototype.getNamespaceAndModelFromStorename=function(e){var t=(0,p.__read)(e.split("_"));return{namespaceName:t[0],modelName:t.slice(1).join("_")}},t.prototype.createObjectStoreForModel=function(e,t,n,r){var i=e.createObjectStore(n,{autoIncrement:!0});return this.schema.namespaces[t].relationships[r].indexes.forEach((function(e){var t=(0,p.__read)(e,3),n=t[0],r=t[1],o=t[2];i.createIndex(n,r,o)})),i},t.prototype.getByKey=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},t.prototype.getAll=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.matchingIndexQueries=function(e,t,n){var r,i,o,a,s=this,u=[],c=new Map;try{for(var l=(0,p.__values)(t),f=l.next();!f.done;f=l.next()){var d=f.value;c.set(String(d.field),d)}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}var h=n.objectStore(e),v=function(t){var n,r,i=h.index(t),o=Array.isArray(i.keyPath)?i.keyPath:[i.keyPath],a=[];try{for(var l=(n=void 0,(0,p.__values)(o)),f=l.next();!f.done;f=l.next()){var d=f.value,v=c.get(d);if(!v||null===v.operand||void 0===v.operand)break;a.push(v.operand)}}catch(g){n={error:g}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}a.length===o.length&&u.push((function(){return s.db.transaction(e).objectStore(e).index(t).getAll(s.canonicalKeyPath(a))}))};try{for(var g=(0,p.__values)(h.indexNames),y=g.next();!y.done;y=g.next()){v(y.value)}}catch(b){o={error:b}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}return u},t.prototype.baseQueryIndex=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f=this;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:for(r=t.predicates,i=t.type;1===r.length&&Wl(r[0])&&"not"!==r[0].type;)i=r[0].type,r=r[0].predicates;return o=r.filter((function(e){return Kl(e)&&"eq"===e.operator})),a=n||this.db.transaction(e),s={},"or"!==i?[3,2]:[4,Promise.all(r.filter((function(e){return Wl(e)&&"and"===e.type})).map((function(t){return f.baseQueryIndex(e,t,a)}))).then((function(e){return e.filter((function(e){return 1===e.indexedQueries.length})).map((function(e){return e.indexedQueries}))}))];case 1:return u=d.sent(),c=r.filter((function(e){return Kl(e)})).map((function(t){return f.matchingIndexQueries(e,[t],a)})),l=(0,p.__spread)(u,c).map((function(e){return e[0]})).filter((function(e){return e})),s=r.length>l.length?{groupType:null,indexedQueries:[]}:{groupType:"or",indexedQueries:l},[3,3];case 2:s="and"===i?{groupType:i,indexedQueries:this.matchingIndexQueries(e,o,a)}:{groupType:null,indexedQueries:[]},d.label=3;case 3:return n?[3,5]:[4,a.done];case 4:d.sent(),d.label=5;case 5:return[2,s]}}))}))},t.prototype.filterOnPredicate=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w,S;return(0,p.__generator)(this,(function(E){switch(E.label){case 0:return n=t.predicates,r=t.type,[4,this.baseQueryIndex(e,t)];case 1:return i=E.sent(),o=i.groupType,a=i.indexedQueries,"and"===o&&a.length>0?[4,a[0]()]:[3,3];case 2:return s=E.sent(),[3,14];case 3:if(!("or"===o&&a.length>0&&a.length<=7))return[3,12];u=new Map,E.label=4;case 4:E.trys.push([4,9,10,11]),c=(0,p.__values)(a),l=c.next(),E.label=5;case 5:return l.done?[3,8]:[4,(0,l.value)()];case 6:f=E.sent();try{for(w=void 0,d=(0,p.__values)(f),h=d.next();!h.done;h=d.next())v=h.value,g=JSON.stringify(v),u.set(g,v)}catch(A){w={error:A}}finally{try{h&&!h.done&&(S=d.return)&&S.call(d)}finally{if(w)throw w.error}}E.label=7;case 7:return l=c.next(),[3,5];case 8:return[3,11];case 9:return y=E.sent(),b={error:y},[3,11];case 10:try{l&&!l.done&&(_=c.return)&&_.call(c)}finally{if(b)throw b.error}return[7];case 11:return s=Array.from(u.values()),[3,14];case 12:return[4,this.getAll(e)];case 13:s=E.sent(),E.label=14;case 14:return m=n?s.filter((function(e){return jc(e,r,n)})):s,[2,m]}}))}))},t.prototype.inMemoryPagination=function(e,t){return Zc(e,t)},t.prototype.enginePagination=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,p.__generator)(this,(function(f){switch(f.label){case 0:return t?(r=t.page,i=void 0===r?0:r,o=t.limit,a=void 0===o?0:o,s=Math.max(0,i*a)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(u=f.sent())&&s>0?[4,u.advance(s)]:[3,3];case 2:f.sent(),f.label=3;case 3:c=[],l="number"===typeof a&&a>0,f.label=4;case 4:return u&&u.value?(c.push(u.value),l&&c.length===a?[3,6]:[4,u.continue()]):[3,6];case 5:return u=f.sent(),[3,4];case 6:return n=c,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=f.sent(),f.label=9;case 9:return[2,n]}}))}))},t}(ed),rd=new nd,id=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),"function"===typeof n&&n(),[2]}))}))},this.multiSet=function(t,n){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(r){return t.forEach((function(t){var n=(0,p.__read)(t,2),r=n[0],i=n[1];e.setItem(r,i)})),"function"===typeof n&&n(),[2]}))}))},this.setItem=function(t,n){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2,this.db.get(t)]}))}))}};var od="@AmplifyDatastore",ad="Data",sd=new Map,ud=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=new id}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return sd.has(e)||sd.set(e,Yc()),sd.get(e)},e.prototype.init=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_;return(0,p.__generator)(this,(function(w){switch(w.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=w.sent(),t=[],w.label=2;case 2:w.trys.push([2,12,13,14]),n=(0,p.__values)(e),r=n.next(),w.label=3;case 3:return r.done?[3,11]:(i=r.value,o=(0,p.__read)(i.split("::"),5),a=o[0],s=o[1],u=o[2],c=o[3],l=o[4],a!==od?[3,10]:u!==ad?[3,9]:(f=void 0,void 0!==l?[3,7]:(d=c,h=this.getMonotonicFactory(s)(),v=this.getLegacyKeyForItem(s,d),g=this.getKeyForItem(s,d,h),[4,this.storage.getItem(v)])));case 4:return y=w.sent(),[4,this.storage.setItem(g,y)];case 5:return w.sent(),[4,this.storage.removeItem(v)];case 6:return w.sent(),f=h,[3,8];case 7:f=c,w.label=8;case 8:return this.getCollectionIndex(s).set(l,f),[3,10];case 9:"Collection"===u&&t.push(i),w.label=10;case 10:return r=n.next(),[3,3];case 11:return[3,14];case 12:return m=w.sent(),b={error:m},[3,14];case 13:try{r&&!r.done&&(_=n.return)&&_.call(n)}finally{if(b)throw b.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:w.sent(),w.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t,n,r){var i,o;return(0,p.__awaiter)(this,void 0,void 0,(function(){var a,s,u;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return a=Pl(n),s=(null===(i=this.getCollectionIndex(t))||void 0===i?void 0:i.get(a))||this.getMonotonicFactory(t)(),u=this.getKeyForItem(t,r,s),null===(o=this.getCollectionIndex(t))||void 0===o||o.set(r,s),[4,this.storage.setItem(u,JSON.stringify(e))];case 1:return c.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w,S,E,A=this;return(0,p.__generator)(this,(function(C){switch(C.label){case 0:if(0===t.length)return[2,[]];r=[],i=this.getCollectionIndex(e),o=new Set,a=new Set,s=[],u={},c=function(t){var r=n.map((function(e){return t[e]})),c=t._deleted,f=i.get(r.join(Ic))||l.getMonotonicFactory(e)(),d=l.getKeyForItem(e,r.join(Ic),f);s.push(d),u[d]={ulid:f,model:t},c?o.add(d):a.add(d)},l=this;try{for(f=(0,p.__values)(t),d=f.next();!d.done;d=f.next())h=d.value,c(h)}catch(T){_={error:T}}finally{try{d&&!d.done&&(w=f.return)&&w.call(f)}finally{if(_)throw _.error}}return[4,this.storage.multiGet(s)];case 1:return v=C.sent(),g=v.filter((function(e){return!!(0,p.__read)(e,2)[1]})).reduce((function(e,t){var n=(0,p.__read)(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==o.size){var r=Array.from(o);r.forEach((function(e){var t=n.map((function(t){return u[e].model[t]})).join(Ic);i.delete(t)})),A.storage.multiRemove(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return C.sent(),[4,new Promise((function(e,t){if(0!==a.size){var r=Array.from(a).map((function(e){return[e,JSON.stringify(u[e].model)]}));a.forEach((function(e){var t=u[e],r=t.model,o=t.ulid,a=n.map((function(e){return r[e]})).join(Ic);i.set(a,o)})),A.storage.multiSet(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:C.sent();try{for(y=(0,p.__values)(s),m=y.next();!m.done;m=y.next())b=m.value,o.has(b)&&g.has(b)?r.push([u[b].model,vl.DELETE]):a.has(b)&&r.push([u[b].model,g.has(b)?vl.UPDATE:vl.INSERT])}catch(I){S={error:I}}finally{try{m&&!m.done&&(E=y.return)&&E.call(y)}finally{if(S)throw S.error}}return[2,r]}}))}))},e.prototype.get=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),[4,this.storage.getItem(r)];case 1:return i=o.sent(),[2,i&&JSON.parse(i)]}}))}))},e.prototype.getOne=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return n=this.getCollectionIndex(t),r=(0,p.__read)(e===gl.FIRST?function(){var e,t,r,i,o;try{for(var a=(0,p.__values)(n),s=a.next();!s.done;s=a.next()){i=(r=(0,p.__read)(s.value,2))[0],o=r[1];break}}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[i,o]}():function(){var e,t,r,i,o;try{for(var a=(0,p.__values)(n),s=a.next();!s.done;s=a.next())i=(r=(0,p.__read)(s.value,2))[0],o=r[1]}catch(u){e={error:u}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return[i,o]}(),2),i=r[0],o=r[1],a=this.getKeyForItem(t,i,o),(u=a)?[4,this.storage.getItem(a)]:[3,2];case 1:u=c.sent(),c.label=2;case 2:return[2,(s=u)&&JSON.parse(s)||void 0]}}))}))},e.prototype.getAll=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w;return(0,p.__generator)(this,(function(S){switch(S.label){case 0:n=this.getCollectionIndex(e),i=(r=t||{}).page,o=void 0===i?0:i,a=r.limit,s=void 0===a?0:a,u=Math.max(0,o*s)||0,c=s>0?u+s:void 0,l=[],f=0;try{for(d=(0,p.__values)(n),h=d.next();!h.done&&(v=(0,p.__read)(h.value,2),g=v[0],y=v[1],++f<=u||(l.push(this.getKeyForItem(e,g,y)),f!==c));h=d.next());}catch(E){_={error:E}}finally{try{h&&!h.done&&(w=d.return)&&w.call(d)}finally{if(_)throw _.error}}return[4,this.storage.multiGet(l)];case 1:return m=S.sent(),b=m.filter((function(e){return(0,p.__read)(e,2)[1]})).map((function(e){var t=(0,p.__read)(e,2)[1];return JSON.parse(t)})),[2,b]}}))}))},e.prototype.delete=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.clear=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith(od)})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return od+"::"+e+"::"+ad},e}(),cd=ud,ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,p.__extends)(t,e),t.prototype.preSetUpChecks=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2]}))}))},t.prototype.preOpCheck=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2]}))}))},t.prototype.initDb=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,(e=new cd).init()];case 1:return t.sent(),[2,e]}}))}))},t.prototype.clear=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},t.prototype.batchSave=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,f,d,h,v=this;return(0,p.__generator)(this,(function(g){switch(g.label){case 0:if(0===t.length)return[2,[]];n=e.name,r=this.namespaceResolver(e),i=wl(r,n),o=Nl(this.schema.namespaces[r],n),a=[],s=function(t){var i=u.modelInstanceCreator(e,t),o=Hc(n,i,u.schema.namespaces[r],u.modelInstanceCreator,u.getModelConstructorByModelName),s=u.getIndexKeyValuesPath(i),c=o.find((function(e){var t=e.instance,n=v.getIndexKeyValuesPath(t);return xl([n],[s])})).instance;a.push(c)},u=this;try{for(c=(0,p.__values)(t),l=c.next();!l.done;l=c.next())f=l.value,s(f)}catch(y){d={error:y}}finally{try{l&&!l.done&&(h=c.return)&&h.call(c)}finally{if(d)throw d.error}}return[4,this.db.batchSave(i,a,o)];case 1:return[2,g.sent()]}}))}))},t.prototype._get=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return n=t.join(Ic),[4,this.db.get(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.save=function(e,t){var n,r;return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w;return(0,p.__generator)(this,(function(S){switch(S.label){case 0:return i=this.saveMetadata(e),o=i.storeName,a=i.connectionStoreNames,s=i.modelKeyValues,[4,this._get(o,s)];case 1:u=S.sent(),this.validateSaveCondition(t,u),c=[],S.label=2;case 2:S.trys.push([2,9,10,15]),l=(0,p.__asyncValues)(a),S.label=3;case 3:return[4,l.next()];case 4:return(f=S.sent()).done?[3,8]:(d=f.value,h=d.storeName,v=d.item,g=d.instance,y=d.keys,m=y.map((function(e){return v[e]})),[4,this._get(h,m)]);case 5:return b=S.sent(),_=b?vl.UPDATE:vl.INSERT,xl(m,s)||_===vl.INSERT?[4,this.db.save(v,h,y,m.join(Ic))]:[3,7];case 6:S.sent(),c.push([g,_]),S.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return w=S.sent(),n={error:w},[3,15];case 10:return S.trys.push([10,,13,14]),f&&!f.done&&(r=l.return)?[4,r.call(l)]:[3,12];case 11:S.sent(),S.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,c]}}))}))},t.prototype.query=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,f=this;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return r=this.queryMetadata(e,t,n),i=r.storeName,o=r.namespaceName,a=r.queryByKey,s=r.predicates,u=r.hasSort,c=r.hasPagination,[4,(0,p.__awaiter)(f,void 0,void 0,(function(){var e,t,r,o;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return a?(e=a.join(Ic),[4,this.getByKey(i,e)]):[3,2];case 1:return[2,(t=l.sent())?[t]:[]];case 2:return s?[4,this.filterOnPredicate(i,s)]:[3,4];case 3:return r=l.sent(),[2,this.inMemoryPagination(r,n)];case 4:return u||c?[4,this.getAll(i)]:[3,6];case 5:return o=l.sent(),[2,this.inMemoryPagination(o,n)];case 6:return[2,this.getAll(i)]}}))}))];case 1:return l=d.sent(),[4,this.load(o,e.name,l)];case 2:return[2,d.sent()]}}))}))},t.prototype.getByKey=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.getAll=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.filterOnPredicate=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return i=a.sent(),o=n?i.filter((function(e){return jc(e,r,n)})):i,[2,o]}}))}))},t.prototype.inMemoryPagination=function(e,t){return Zc(e,t)},t.prototype.queryOne=function(e,t){return void 0===t&&(t=gl.FIRST),(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(r=i.sent())&&this.modelInstanceCreator(e,r)]}}))}))},t.prototype.deleteItem=function(e){var t,n,r,i;return(0,p.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,d,h,v,g;return(0,p.__generator)(this,(function(y){switch(y.label){case 0:y.trys.push([0,17,18,23]),o=(0,p.__asyncValues)(e),y.label=1;case 1:return[4,o.next()];case 2:if((a=y.sent()).done)return[3,16];s=a.value,u=s.storeName,c=s.items,y.label=3;case 3:y.trys.push([3,9,10,15]),l=(0,p.__asyncValues)(c),y.label=4;case 4:return[4,l.next()];case 5:return(f=y.sent()).done?[3,8]:(d=f.value)?"object"!==typeof d?[3,7]:(h=this.getIndexKeyValuesPath(d),[4,this.db.delete(h,u)]):[3,7];case 6:y.sent(),y.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return v=y.sent(),r={error:v},[3,15];case 10:return y.trys.push([10,,13,14]),f&&!f.done&&(i=l.return)?[4,i.call(l)]:[3,12];case 11:y.sent(),y.label=12;case 12:return[3,14];case 13:if(r)throw r.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return g=y.sent(),t={error:g},[3,23];case 18:return y.trys.push([18,,21,22]),a&&!a.done&&(n=o.return)?[4,n.call(o)]:[3,20];case 19:y.sent(),y.label=20;case 20:return[3,22];case 21:if(t)throw t.error;return[7];case 22:return[7];case 23:return[2]}}))}))},t.prototype.getHasOneChild=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,v,g;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return o=r.modelName,a=r.targetNames,s=r.associatedWith,u=wl(n,o),(c=Il(this.schema.namespaces[n].relationships[o].relationTypes,t)||kl(this.schema.namespaces[n].relationships[o].indexes,r.associatedWith))?i=c.split(kc):s&&(i=Array.isArray(s)?s:[s]),l=a.every((function(t){return e.hasOwnProperty(t)})),f=this.getIndexKeyValuesPath(e),h=i===s,d=l&&h?a.filter((function(t){var n;return null!==(n=e[t])&&void 0!==n&&n})).map((function(t){return e[t]})):f.split(Ic),0===d.length?[2]:[4,this.db.getAll(u)];case 1:return v=p.sent(),g=l?v.find((function(e){return i.every((function(t){return d.includes(e[t])}))})):v.find((function(e){return e[i]===d})),[2,g]}}))}))},t.prototype.getHasOneChildLegacy=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return i=r.modelName,o=r.targetName,a=r.associatedWith,s=wl(n,i),u=Il(this.schema.namespaces[n].relationships[i].relationTypes,t)||kl(this.schema.namespaces[n].relationships[i].indexes,r.associatedWith),c=u||a,l=o in e,f=this.getIndexKeyValuesPath(e),(d=l?e[o]:f)?[4,this.db.getAll(s)]:[2];case 1:return h=p.sent(),[2,h.find((function(e){return e[c]===d}))]}}))}))},t.prototype.getHasManyChildren=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.db.getAll(e)];case 1:return r=a.sent(),i=t.split(kc),o=r.filter((function(e){return i.every((function(t){return n.includes(e[t])}))})),[2,o]}}))}))},t.prototype.getIndexKeyValuesPath=function(e){return this.getIndexKeyValuesFromModel(e).join(Ic)},t}(ed),fd=new ld,dd=function(){return k().isBrowser&&window.indexedDB||I()&&self.indexedDB?rd:fd},hd=new b("DataStore"),pd=function(){function e(e,t,n,r,i,o){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=r,this.adapter=i,this.sessionId=o,this.adapter=this.adapter||dd(),this.pushStream=new(ff())}return e.getNamespace=function(){return{name:Uc,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:case 3:return n.sent(),[2];case 2:return hd.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized]}}))}))},e.prototype.save=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o=this;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.init()];case 1:if(a.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.save(e,t)];case 2:return(i=a.sent()).forEach((function(a){var s,u=(0,p.__read)(a,2),c=u[0],l=u[1],f=!!n;if(l===vl.UPDATE&&!f&&null===(s=o.getUpdateMutationInput(e,c,r)))return i;var d=s||c,h=Object.getPrototypeOf(c).constructor;o.pushStream.next({model:h,opType:l,element:d,mutator:n,condition:t&&sf.getPredicates(t,!1)||null,savedElement:c})})),[2,i]}}))}))},e.prototype.delete=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l=this;return(0,p.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.init()];case 1:if(f.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.delete(e,t)];case 2:return c=p.__read.apply(void 0,[f.sent(),2]),r=c[0],i=c[1],o=zc(e)?e:Object.getPrototypeOf(e||{}).constructor,a=this.namespaceResolver(o),s=this.schema.namespaces[a].models[o.name],u=new Set(r.map((function(e){return kf(s,e)}))),zc(e)||Array.isArray(i)||(i=[i]),i.forEach((function(r){var i,o=Object.getPrototypeOf(r).constructor;if(!zc(e)){var a=kf(s,r);i=u.has(a)?sf.getPredicates(t,!1):void 0}l.pushStream.next({model:o,opType:vl.DELETE,element:r,mutator:n,condition:i||null})})),[2,[r,i]]}}))}))},e.prototype.query=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:if(r.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=gl.FIRST),(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:if(n.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var r=!e,i=t&&sf.getPredicates(t,!1)||{},o=i.predicates,a=i.type,s=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){e.mutator;return(0,p.__rest)(e,["mutator"])}));return r||(s=s.filter((function(t){var n=t.model,r=t.element;return e===n&&(!o||!a||jc(r,a,o))}))),s},e.prototype.clear=function(e){return void 0===e&&(e=!0),(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:if(this.initialized=void 0,!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i=this;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.init()];case 1:if(o.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.batchSave(e,t)];case 2:return(r=o.sent()).forEach((function(t){var r=(0,p.__read)(t,2),o=r[0],a=r[1];i.pushStream.next({model:e,opType:a,element:o,mutator:n,condition:null})})),[2,r]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){var r,i,o;if(!(n&&n.length))return null;var a=(0,p.__read)(n,2),s=a[0],u=a[1],c={},l=s.map((function(e){return e.path&&e.path[0]})),f=Object.getPrototypeOf(e).constructor,d=this.namespaceResolver(f),h=this.schema.namespaces[d].models[f.name].fields,v=(null===(o=this.schema.namespaces[d].keys)||void 0===o?void 0:o[f.name])||{},g=v.primaryKey,y=v.compositeKeys,m=void 0===y?[]:y;if(l.forEach((function(e){var n,r,i,o,a,s,l,f,d,v,g,y=Dl(null===(g=h[e])||void 0===g?void 0:g.association);if(Array.isArray(y))try{for(var b=(0,p.__values)(y),_=b.next();!_.done;_=b.next()){var w=_.value;if(!$c(u[w],t[w])){c[w]=void 0===t[w]?null:t[w];try{for(var S=(i=void 0,(0,p.__values)(m)),E=S.next();!E.done;E=S.next()){if((P=E.value).has(w))try{for(var A=(a=void 0,(0,p.__values)(P)),C=A.next();!C.done;C=A.next()){var T=C.value;c[T]=t[T]}}catch(M){a={error:M}}finally{try{C&&!C.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}}}catch(R){i={error:R}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}}}}catch(D){n={error:D}}finally{try{_&&!_.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}else{var I=y||e;if(!$c(u[I],t[I])){c[I]=void 0===t[I]?null:t[I];try{for(var k=(0,p.__values)(m),O=k.next();!O.done;O=k.next()){var P;if((P=O.value).has(I))try{for(var x=(d=void 0,(0,p.__values)(P)),N=x.next();!N.done;N=x.next()){T=N.value;c[T]=t[T]}}catch(U){d={error:U}}finally{try{N&&!N.done&&(v=x.return)&&v.call(x)}finally{if(d)throw d.error}}}}catch(F){l={error:F}}finally{try{O&&!O.done&&(f=k.return)&&f.call(k)}finally{if(l)throw l.error}}}}})),0===Object.keys(c).length)return null;if(g&&g.length)try{for(var b=(0,p.__values)(g),_=b.next();!_.done;_=b.next()){var w=_.value;c[w]=t[w]}}catch(T){r={error:T}}finally{try{_&&!_.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}var S=t.id,E=t._version,A=t._lastChangedAt,C=t._deleted;return(0,p.__assign)((0,p.__assign)({},c),{id:S,_version:E,_lastChangedAt:A,_deleted:C})},e}(),vd=function(){function e(e,t,n,r,i,o){this.mutex=new cf,this.storage=new pd(e,t,n,r,i,o)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(i){return[2,this.runExclusive((function(i){return i.save(e,t,n,r)}))]}))}))},e.prototype.delete=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(r){return[2,this.runExclusive((function(r){if(zc(e)){var i=e;return r.delete(i,t,n)}var o=e;return r.delete(o,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=gl.FIRST),(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return pd.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.runExclusive((function(e){return e.clear()}))];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2,this.storage.init()]}))}))},e}(),gd=function(){function e(e,t){if(!Ul(e.schema,t))throw new Error(e.schema.name+"."+t+" is not a relationship.");this.localModel=e,this._field=t}return e.from=function(e,t){return Ul(e.schema,t)?new this(e,t):null},e.allFrom=function(t){var n,r,i=[];try{for(var o=(0,p.__values)(Object.keys(t.schema.fields)),a=o.next();!a.done;a=o.next()){var s=a.value,u=e.from(t,s);u&&i.push(u)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},Object.defineProperty(e.prototype,"localDefinition",{get:function(){return this.localModel.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localConstructor",{get:function(){return this.localModel.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.localAssocation.connectionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssocation",{get:function(){return this.localDefinition.fields[this.field].association},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localJoinFields",{get:function(){return this.localAssocation.targetName?[this.localAssocation.targetName]:this.localAssocation.targetNames?this.localAssocation.targetNames:this.localPKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localPKFields",{get:function(){return this.localModel.pkField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteDefinition",{get:function(){var e;return null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelType",{get:function(){return this.localDefinition.fields[this.field].type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelConstructor",{get:function(){return this.remoteModelType.modelConstructor.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remotePKFields",{get:function(){var e;return(null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.pkField)||["id"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssociatedWith",{get:function(){return"HAS_MANY"===this.localAssocation.connectionType||"HAS_ONE"===this.localAssocation.connectionType?Array.isArray(this.localAssocation.associatedWith)?this.localAssocation.associatedWith:[this.localAssocation.associatedWith]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explicitRemoteAssociation",{get:function(){var e;if(this.localAssociatedWith)return 1===this.localAssociatedWith.length?null===(e=this.remoteDefinition.fields[this.localAssociatedWith[0]])||void 0===e?void 0:e.association:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteJoinFields",{get:function(){var e,t,n;return(null===(e=this.explicitRemoteAssociation)||void 0===e?void 0:e.targetName)?[this.explicitRemoteAssociation.targetName]:(null===(t=this.explicitRemoteAssociation)||void 0===t?void 0:t.targetNames)?null===(n=this.explicitRemoteAssociation)||void 0===n?void 0:n.targetNames:this.localAssociatedWith?this.localAssociatedWith:this.remotePKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.localJoinFields.length>0&&this.remoteJoinFields.length>0},enumerable:!0,configurable:!0}),e.prototype.createLocalFKObject=function(e){for(var t={},n=0;n<this.localJoinFields.length;n++)t[this.localJoinFields[n]]=e[this.remoteJoinFields[n]];return t},e.prototype.createRemoteQueryObject=function(e){for(var t={},n=0;n<this.remoteJoinFields.length;n++){var r=e[this.localJoinFields[n]];if(null===r||void 0===r)return null;t[this.remoteJoinFields[n]]=e[this.localJoinFields[n]]}return t},e}(),yd=(new zs).networkMonitor(),md=(new b("DataStore"),function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new ws((function(t){return e.observer=t,e.subscription=yd.subscribe((function(n){var r=n.online;e.connectionStatus.online=r;var i=(0,p.__assign)({},e.connectionStatus);t.next(i)})),function(){clearTimeout(e.timeout),e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.stop=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return this.unsubscribe(),[2]}))}))},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"===typeof this.observer.next&&(this.observer.next({online:!1}),this.timeout=setTimeout((function(){var t=(0,p.__assign)({},e.connectionStatus);e.observer.next(t)}),5e3))},e}()),bd=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,p.__generator)(this,(function(u){switch(u.label){case 0:return[4,this.outbox.getForModel(e,t,n)];case 1:return i=u.sent(),o=t._deleted,0!==i.length?[3,5]:o?(r=vl.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return u.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:a=p.__read.apply(void 0,[u.sent(),1]),s=(0,p.__read)(a[0],2),r=s[1],u.label=5;case 5:return[2,r]}}))}))},e.prototype.mergePage=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:i=new Map;try{for(o=(0,p.__values)(n),a=o.next();!a.done;a=o.next())s=a.value,u=kf(r,s),i.set(u,s)}catch(h){l={error:h}}finally{try{a&&!a.done&&(f=o.return)&&f.call(o)}finally{if(l)throw l.error}}return c=(0,p.__spread)(i.values()),[4,e.batchSave(t,c,this.ownSymbol)];case 1:return[2,d.sent()]}}))}))},e}(),_d=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.runExclusive((function(e){return(0,p.__awaiter)(n,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,p.__generator)(this,(function(f){switch(f.label){case 0:return n=this.schema.namespaces[Dc].models.MutationEvent,r=sf.createFromAST(n,{and:[{modelId:{eq:t.modelId}},{id:{ne:this.inProgressMutationEventId}}]}),[4,e.query(this.MutationEvent,r)];case 1:return i=p.__read.apply(void 0,[f.sent(),1]),void 0!==(o=i[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return f.sent(),[2];case 3:return a=t.operation,o.operation!==nf.CREATE?[3,8]:a!==nf.DELETE?[3,5]:[4,e.delete(this.MutationEvent,r)];case 4:return f.sent(),[3,7];case 5:return s=this.mergeUserFields(o,t),[4,e.save(this.MutationEvent.copyOf(o,(function(e){e.data=s.data})),void 0,this.ownSymbol)];case 6:f.sent(),f.label=7;case 7:return[3,12];case 8:return u=t.condition,c=JSON.parse(u),l=void 0,0!==Object.keys(c).length?[3,10]:(l=this.mergeUserFields(o,t),[4,e.delete(this.MutationEvent,r)]);case 9:f.sent(),f.label=10;case 10:return l=l||t,[4,e.save(l,void 0,this.ownSymbol)];case 11:f.sent(),f.label=12;case 12:return[2]}}))}))}))];case 1:return r.sent(),[2]}}))}))},e.prototype.dequeue=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.peek(e)];case 1:return r=i.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,r,n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[4,e.delete(r)];case 4:return i.sent(),this.inProgressMutationEventId=void 0,[2,r]}}))}))},e.prototype.peek=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,gl.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t,n){return(0,p.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return r=this.schema.namespaces[Dc].models.MutationEvent,i=kf(n,t),[4,e.query(this.MutationEvent,sf.createFromAST(r,{and:{modelId:{eq:i}}}))];case 1:return[2,o.sent()]}}))}))},e.prototype.getModelIds=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,r){return(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,v,g,y,m=this;return(0,p.__generator)(this,(function(b){switch(b.label){case 0:return n.operation!==r?[2]:(i=t._version,o=t._lastChangedAt,t._deleted,a=(0,p.__rest)(t,["_version","_lastChangedAt","_deleted"]),s=this.removeTimestampFields(n.model,a),(u=JSON.parse(n.data))?(u._version,u._lastChangedAt,u._deleted,c=(0,p.__rest)(u,["_version","_lastChangedAt","_deleted"]),l=this.removeTimestampFields(n.model,c),$c(s,l,!0)?(f=this.schema.namespaces[Dc].models.MutationEvent,d=this.schema.namespaces.user.models[n.model],h=kf(d,t),v=sf.createFromAST(f,{and:[{modelId:{eq:h}},{id:{ne:this.inProgressMutationEventId}}]}),[4,e.query(this.MutationEvent,v)]):[2]):[2]);case 1:return(g=b.sent()).length?(y=g.map((function(e){var t=JSON.parse(e.data),n=(0,p.__assign)((0,p.__assign)({},t),{_version:i,_lastChangedAt:o});return m.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,v)]):[2];case 2:return b.sent(),[4,Promise.all(y.map((function(t){return(0,p.__awaiter)(m,void 0,void 0,(function(){return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return b.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),r=n._version,i=n._lastChangedAt,o=n._deleted,a=(0,p.__rest)(n,["_version","_lastChangedAt","_deleted"]),s=JSON.parse(t.data),u=(s._version,s._lastChangedAt,s._deleted,(0,p.__rest)(s,["_version","_lastChangedAt","_deleted"])),c=JSON.stringify((0,p.__assign)((0,p.__assign)({_version:r,_lastChangedAt:i,_deleted:o},a),u));return this.modelInstanceCreator(this.MutationEvent,(0,p.__assign)((0,p.__assign)({},t),{data:c}))},e.prototype.removeTimestampFields=function(e,t){var n,r,i="createdAt",o="updatedAt",a=i,s=o,u=null===(n=this.schema.namespaces[Rc].models[e].attributes)||void 0===n?void 0:n.find((function(e){return"model"===e.type})),c=null===(r=null===u||void 0===u?void 0:u.properties)||void 0===r?void 0:r.timestamps;return c&&(a=c[i],s=c[o]),delete t[a],delete t[s],t},e}(),wd=function(e){return/^Connection failed: Connection Timeout/.test(e.message)},Sd=function(e){return/^Error: Request failed with status code 5\d\d/.test(e.message)},Ed={BadModel:function(){return!1},BadRecord:function(e){var t=e.message;return/^Cannot return \w+ for [\w-_]+ type/.test(t)||/^Variable '.+' has coerced Null value for NonNull type/.test(t)},ConfigError:function(){return!1},Transient:function(e){return wd(e)||Sd(e)},Unauthorized:function(e){return/^Request failed with status code 401/.test(e.message)}},Ad={BadModel:function(){return!1},BadRecord:function(){return!1},ConfigError:function(){return!1},Transient:function(e){var t=Td(e);return wd(t)||Sd(t)},Unauthorized:function(e){var t=Td(e);return/Connection failed.+Unauthorized/.test(t.message)}},Cd={BadModel:function(){return!1},BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)},ConfigError:function(){return!1},Transient:function(e){return wd(e)||Sd(e)},Unauthorized:function(){return!1}};function Td(e){var t=e.error;return(0,p.__read)((void 0===t?{errors:[]}:t).errors,1)[0]}function Id(e){return Od(Ed,e)}function kd(e){return Od(Ad,e)}function Od(e,t){var n,r,i=(0,p.__spread)(Object.keys(e));try{for(var o=(0,p.__values)(i),a=o.next();!a.done;a=o.next()){var s=a.value,u=e[s];if(null===u||void 0===u?void 0:u(t))return s}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return"Unknown"}var Pd,xd,Nd=new b("DataStore"),Md=function(){function e(e,t,n,r,i,o,a,s,u,c,l){void 0===a&&(a={}),this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=i,this.MutationEvent=o,this.amplifyConfig=a,this.authModeStrategy=s,this.errorHandler=u,this.conflictHandler=c,this.amplifyContext=l,this.typeQuery=new WeakMap,this.processing=!1,this.runningProcesses=new su,this.amplifyContext.API=this.amplifyContext.API||ou,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=(0,p.__read)(bf(t,n,"CREATE"),1)[0],i=(0,p.__read)(bf(t,n,"UPDATE"),1)[0],o=(0,p.__read)(bf(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[r,i,o])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return this.runningProcesses=new su,new ws((function(t){e.observer=t;try{e.resume()}catch(n){throw Nd.error("mutations processor start error",n),n}return e.runningProcesses.addCleaner((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return this.pause(),[2]}))}))}))}))},e.prototype.stop=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.resume=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.runningProcesses.isOpen&&this.runningProcesses.add((function(t){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,n,r,i,o,a=this;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:if(this.processing||!this.isReady()||!this.runningProcesses.isOpen)return[2];this.processing=!0,n=Rc,r=function(){var r,o,s,u,c,l,f,d,h,v,g,y,m,b,_,w;return(0,p.__generator)(this,(function(S){switch(S.label){case 0:r=e.model,o=e.operation,s=e.data,u=e.condition,c=i.userClasses[r],l=void 0,f=void 0,d=void 0,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,Af({authModeStrategy:i.authModeStrategy,defaultAuthMode:i.amplifyConfig.aws_appsync_authenticationType,modelName:r,schema:i.schema})];case 2:return h=S.sent(),v=h[o.toUpperCase()],g=0,y=function(){return(0,p.__awaiter)(a,void 0,void 0,(function(){var i,a;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,4]),Nd.debug("Attempting mutation with authMode: "+v[g]),[4,this.jitteredRetry(n,r,o,s,u,c,this.MutationEvent,e,v[g],t)];case 1:return i=l.sent(),Nd.debug("Mutation sent successfully with authMode: "+v[g]),[2,i];case 2:if(a=l.sent(),++g>=v.length)throw Nd.debug("Mutation failed with authMode: "+v[g-1]),a;return Nd.debug("Mutation failed with authMode: "+v[g-1]+". Retrying with authMode: "+v[g]),[4,y()];case 3:return[2,l.sent()];case 4:return[2]}}))}))},[4,y()];case 3:return w=p.__read.apply(void 0,[S.sent(),3]),l=w[0],f=w[1],d=w[2],[3,5];case 4:return"Offline"===(m=S.sent()).message||"RetryMutation"===m.message?[2,"continue"]:[3,5];case 5:return void 0!==l?[3,7]:(Nd.debug("done retrying"),[4,i.storage.runExclusive((function(e){return(0,p.__awaiter)(a,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 6:return S.sent(),[2,"continue"];case 7:return b=l.data[f],_=!1,[4,i.storage.runExclusive((function(e){return(0,p.__awaiter)(a,void 0,void 0,(function(){return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,b,o)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return _=void 0!==t.sent(),[2]}}))}))}))];case 8:return S.sent(),i.observer.next({operation:o,modelDefinition:d,model:b,hasMore:_}),[2]}}))},i=this,s.label=1;case 1:return(o=this.processing&&this.runningProcesses.isOpen)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:o=void 0!==(e=s.sent()),s.label=3;case 3:return o?[5,r()]:[3,5];case 4:return s.sent(),[3,1];case 5:return this.pause(),[2]}}))}))}),"mutation resume loop")];case 1:return t.sent(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,r,i,o,a,s,u,c){return(0,p.__awaiter)(this,void 0,void 0,(function(){var l=this;return(0,p.__generator)(this,(function(f){switch(f.label){case 0:return[4,N((function(t,n,r,i,o,a,s){return(0,p.__awaiter)(l,void 0,void 0,(function(){var c,l,f,d,h,v,g,y,m,b,_,w,S,E,A,C,T,I,k,O,x,N,M,R,D,U;return(0,p.__generator)(this,(function(F){switch(F.label){case 0:return c=(0,p.__read)(this.createQueryVariables(e,t,n,r,i),5),l=c[0],f=c[1],d=c[2],h=c[3],v=c[4],[4,If(u,this.amplifyConfig)];case 1:g=F.sent(),y={query:l,variables:f,authMode:u,authToken:g,userAgentSuffix:Fc},m=0,b=this.opTypeFromTransformerOperation(n),F.label=2;case 2:return F.trys.push([2,4,,17]),[4,this.amplifyContext.API.graphql(y)];case 3:return[2,[F.sent(),h,v]];case 4:if(!((_=F.sent()).errors&&_.errors.length>0))return[3,15];if(w=(0,p.__read)(_.errors,1),S=w[0],E=S.originalError,A=(void 0===E?{}:E).code,C=void 0===A?null:A,"Unauthorized"===S.errorType)throw new P("Unauthorized");if("Network Error"===S.message||"ECONNABORTED"===C){if(!this.processing)throw new P("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==S.errorType?[3,13]:(m++,T=void 0,m>10?(T=Gl,[3,8]):[3,5]);case 5:return F.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:o,localModel:this.modelInstanceCreator(o,f.input),remoteModel:this.modelInstanceCreator(o,S.data),operation:b,attempts:m})];case 6:return T=F.sent(),[3,8];case 7:return I=F.sent(),Nd.warn("conflict trycatch",I),[3,17];case 8:return T!==Gl?[3,11]:(k=(0,p.__read)(bf(this.schema.namespaces[e],v,"GET"),1),O=(0,p.__read)(k[0],3),x=O[1],N=O[2],[4,If(u,this.amplifyConfig)]);case 9:return M=F.sent(),[4,this.amplifyContext.API.graphql({query:N,variables:{id:f.input.id},authMode:u,authToken:M,userAgentSuffix:Fc})];case 10:return[2,[F.sent(),x,v]];case 11:return R=this.schema.namespaces[e],D=_f(R.relationships,v,b,o,T,d,a,this.modelInstanceCreator,s.id),[4,this.storage.save(D)];case 12:throw F.sent(),new P("RetryMutation");case 13:try{this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:f.input,message:S.message,operation:n,errorType:Id(S),errorInfo:S.errorInfo,process:_l.mutate,cause:S,remoteModel:S.data?this.modelInstanceCreator(o,S.data):null})}catch(L){Nd.warn("Mutation error handler failed with:",L)}finally{return[2,S.data?[{data:(U={},U[h]=S.data,U)},h,v]:[]]}F.label=14;case 14:return[3,16];case 15:throw new P(_);case 16:return[3,17];case 17:if(y)return[3,2];F.label=18;case 18:return[2]}}))}))}),[t,n,r,i,o,a,s],Ud,c)];case 1:return[2,f.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,r,i){var o,a,s,u,c,l,f,d,h,v=this.schema.namespaces[e].models[t],g=this.schema.namespaces[e].keys[t].primaryKey,y=null===(f=v.attributes)||void 0===f?void 0:f.find((function(e){return"auth"===e.type})),m=(null===(d=null===y||void 0===y?void 0:y.properties)||void 0===d?void 0:d.rules.map((function(e){return e.ownerField})).filter((function(e){return e})))||["owner"],b=this.typeQuery.get(v),_=(0,p.__read)(b.find((function(e){return(0,p.__read)(e,1)[0]===n})),3),w=_[1],S=_[2],E=JSON.parse(r),A=E._version,C=(0,p.__rest)(E,["_version"]),T={};if(null===g||void 0===g?void 0:g.length)try{for(var I=(0,p.__values)(g),k=I.next();!k.done;k=I.next()){var O=k.value;T[O]=C[O]}}catch(V){o={error:V}}finally{try{k&&!k.done&&(a=I.return)&&a.call(I)}finally{if(o)throw o.error}}else T[Tc]=C.id;if(n===nf.DELETE)h=T;else{h={};var P=Object.values(v.fields);try{for(var x=(0,p.__values)(P),N=x.next();!N.done;N=x.next()){var M=N.value,R=M.name,D=M.type,U=M.association;if(!M.isReadOnly&&(!m.includes(R)||null!==C[R]))if(zl(D)){if(Dl(U)&&"BELONGS_TO"===U.connectionType){var F=Ol(U);if(F)try{for(var L=(c=void 0,(0,p.__values)(F)),j=L.next();!j.done;j=L.next()){var B=j.value;h[B]=C[B]}}catch(K){c={error:K}}finally{try{j&&!j.done&&(l=L.return)&&l.call(L)}finally{if(c)throw c.error}}}}else(n!==nf.UPDATE||C.hasOwnProperty(R))&&(h[R]=C[R])}}catch(W){s={error:W}}finally{try{N&&!N.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}}var z=(0,p.__assign)((0,p.__assign)({},h),{_version:A}),q=JSON.parse(i);return[S,(0,p.__assign)({input:z},n===nf.CREATE?{}:{condition:Object.keys(q).length>0?q:null}),q,w,v]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case nf.CREATE:return vl.INSERT;case nf.DELETE:return vl.DELETE;case nf.UPDATE:return vl.UPDATE;case nf.GET:break;default:throw new Error("Invalid operation "+e)}},e.prototype.pause=function(){this.processing=!1},e}(),Rd=3e5,Dd=R(Rd),Ud=function(e,t,n){var r=Dd(e);return!1===r&&"Network Error"===(null===n||void 0===n?void 0:n.message)?Rd:r},Fd=new b("DataStore");!function(e){e.CONNECTED="CONNECTED"}(Pd||(Pd={})),function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"}(xd||(xd={}));var Ld,jd=function(){function e(e,t,n,r,i,o){void 0===n&&(n={}),void 0===o&&(o={Auth:ko,API:ou,Cache:Lo}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=i,this.amplifyContext=o,this.typeQuery=new WeakMap,this.buffer=[],this.runningProcesses=new su}return e.prototype.buildSubscription=function(e,t,n,r,i,o,a,s){void 0===s&&(s=!1);var u=this.amplifyConfig.aws_appsync_authenticationType,c=this.getAuthorizationInfo(t,r,u,i,o,a)||{},l=c.isOwner,f=c.ownerField,d=c.ownerValue,h=(0,p.__read)(function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=gf(e,t),s=t.name,u="on"+n+s,c=[],l=[];return o&&(c.push("$filter: ModelSubscription"+s+"FilterInput"),l.push("filter: $filter")),r&&(c.push("$"+i+": String!"),l.push(i+": $"+i)),[n,u,"subscription operation"+(c.length?"("+c.join(",")+")":"")+"{\n\t\t\t"+u+(l.length?"("+l.join(",")+")":"")+"{\n\t\t\t\t"+a+"\n\t\t\t}\n\t\t}"]}(e,t,n,l,f,s),3);return{authMode:a,opType:h[0],opName:h[1],query:h[2],isOwner:l,ownerField:f,ownerValue:d}},e.prototype.getAuthorizationInfo=function(e,t,n,r,i,o){void 0===r&&(r={}),void 0===i&&(i={});var a=mf(e);if(o===h.AWS_IAM&&a.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===xd.unauth)return null;var s,u=a.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return o!==h.AMAZON_COGNITO_USER_POOLS&&o!==h.OPENID_CONNECT||!u.find((function(e){var t=Ef(r,e),n=Ef(i,e);return(0,p.__spread)(t,n).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((o===h.AMAZON_COGNITO_USER_POOLS?a.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(t){var n,i=r[t.identityClaim],o=!0!==(null===(n=e.fields[t.ownerField])||void 0===n?void 0:n.isArray)&&!t.areSubscriptionsPublic;i&&(s={authMode:h.AMAZON_COGNITO_USER_POOLS,isOwner:o,ownerField:t.ownerField,ownerValue:i})})),s||((o===h.OPENID_CONNECT?a.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(t){var n,r=i[t.identityClaim],o=!0!==(null===(n=e.fields[t.ownerField])||void 0===n?void 0:n.isArray)&&!t.areSubscriptionsPublic;r&&(s={authMode:h.OPENID_CONNECT,isOwner:o,ownerField:t.ownerField,ownerValue:r})})),s||{authMode:o||n,isOwner:!1})):{authMode:o,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===ks.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this;this.runningProcesses=this.runningProcesses||new su;var t=new ws((function(t){var n,r,i=[],o={},a=xd.none;return e.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,s,u,c,l,f,d,h,v,g,y=this;return(0,p.__generator)(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this.amplifyContext.Auth.currentCredentials()];case 1:return e=m.sent(),a=e.authenticated?xd.auth:xd.unauth,[3,3];case 2:return m.sent(),[3,3];case 3:return m.trys.push([3,5,,6]),[4,this.amplifyContext.Auth.currentSession()];case 4:return s=m.sent(),n=s.getIdToken().decodePayload(),[3,6];case 5:return m.sent(),[3,6];case 6:if(m.trys.push([6,11,,12]),u=this.amplifyConfig,c=u.aws_cognito_region,l=u.Auth,!c||l&&!l.region)throw"Auth is not configured";return f=void 0,[4,this.amplifyContext.Cache.getItem("federatedInfo")];case 7:return(d=m.sent())?(f=d.token,[3,10]):[3,8];case 8:return[4,this.amplifyContext.Auth.currentAuthenticatedUser()];case 9:(h=m.sent())&&(f=h.token),m.label=10;case 10:return f&&(v=f.split(".")[1],r=JSON.parse(Buffer.from(v,"base64").toString("utf8"))),[3,12];case 11:return g=m.sent(),Fd.debug("error getting OIDC JWT",g),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(s){return y.runningProcesses.isOpen&&y.runningProcesses.add((function(){return(0,p.__awaiter)(y,void 0,void 0,(function(){var u,c,l,f,d,h,v,g,y,m,b=this;return(0,p.__generator)(this,(function(_){switch(_.label){case 0:return[4,Af({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:s.name,schema:this.schema})];case 1:return u=_.sent(),c=u.READ,o=(0,p.__assign)((0,p.__assign)({},o),((g={})[s.name]=((y={})[nf.CREATE]=[],y[nf.UPDATE]=[],y[nf.DELETE]=[],y),g)),l=[nf.CREATE,nf.UPDATE,nf.DELETE],(m={})[nf.CREATE]=0,m[nf.UPDATE]=0,m[nf.DELETE]=0,f=m,d=sf.getPredicates(this.syncPredicates.get(s),!1),h=void 0!==d,v=function(u,l){return void 0===l&&(l=h),(0,p.__awaiter)(b,void 0,void 0,(function(){var h,g,y,m,b,_,w,S,A,C,T,I,k,O=this;return(0,p.__generator)(this,(function(P){switch(P.label){case 0:return h=this.buildSubscription(e,s,u,a,n,r,c[f[u]],l),g=h.opType,y=h.opName,m=h.query,b=h.isOwner,_=h.ownerField,w=h.ownerValue,[4,If(S=h.authMode,this.amplifyConfig)];case 1:if(A=P.sent(),C={},l&&d&&(C.filter=wf(d)),b){if(!w)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];C[_]=w}return Fd.debug("Attempting "+u+" subscription with authMode: "+c[f[u]]),T=Fc,I=this.amplifyContext.API.graphql((0,p.__assign)((0,p.__assign)({query:m,variables:C},{authMode:S}),{authToken:A,userAgentSuffix:T})),o[s.name][g].push(I.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,n=e.errors;if(Array.isArray(n)&&n.length>0){var r=n.map((function(e){return e.message}));return Fd.warn("Skipping incoming subscription. Messages: "+r.join("\n")),void O.drainBuffer()}var i=sf.getPredicates(O.syncPredicates.get(s),!1),o=t[y];O.passesPredicateValidation(o,i)&&O.pushToBuffer(g,s,o),O.drainBuffer()},error:function(e){return(0,p.__awaiter)(O,void 0,void 0,(function(){var n,r,i,a,h,y;return(0,p.__generator)(this,(function(m){switch(m.label){case 0:if(n=e.error,r=(0,p.__read)((void 0===n?{errors:[]}:n).errors,1),i=r[0],a=(void 0===i?{}:i).message,h=void 0===a?"":a,l&&this.catchRTFError(h,s,d))return o[s.name][g].forEach((function(e){return e.unsubscribe()})),o[s.name][g]=[],v(u,!1),[2];if(h.includes(ks.REALTIME_SUBSCRIPTION_INIT_ERROR)||h.includes(ks.CONNECTION_FAILED)){if(o[s.name][g].forEach((function(e){return e.unsubscribe()})),o[s.name][g]=[],f[u]++,!(f[u]>=c.length))return Fd.debug(u+" subscription failed with authMode: "+c[f[u]-1]+". Retrying with authMode: "+c[f[u]]),v(u),[2];Fd.debug(u+" subscription failed with authMode: "+c[f[u]-1])}Fd.warn("subscriptionError",h),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:h,model:s.name,operation:u,errorType:kd(e),process:_l.subscribe,remoteModel:null,cause:e})];case 2:return m.sent(),[3,4];case 3:return y=m.sent(),Fd.error("Subscription error handler failed with:",y),[3,4];case 4:return"function"===typeof k&&k(),h.includes('"errorType":"Unauthorized"')||h.includes('"errorType":"OperationDisabled"')?[2]:(t.error(h),[2])}}))}))}})),i.push((0,p.__awaiter)(O,void 0,void 0,(function(){var e,t=this;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){k=n,e=t.hubQueryCompletionListener.bind(t,n),E.listen("api",e)}))];case 1:return n.sent(),E.remove("api",e),[2]}}))}))),[2]}}))}))},l.forEach((function(e){return v(e)})),[2]}}))}))}))}))})),this.runningProcesses.isOpen&&this.runningProcesses.add((function(){return Promise.all(i).then((function(){t.next(Pd.CONNECTED)}))})),[2]}}))}))}),"subscription processor new subscriber"),e.runningProcesses.addCleaner((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return Object.keys(o).forEach((function(e){o[e][nf.CREATE].forEach((function(e){return e.unsubscribe()})),o[e][nf.UPDATE].forEach((function(e){return e.unsubscribe()})),o[e][nf.DELETE].forEach((function(e){return e.unsubscribe()}))})),[2]}))}))}))}));return[t,new ws((function(t){return e.dataObserver=t,e.drainBuffer(),e.runningProcesses.addCleaner((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return this.dataObserver=null,[2]}))}))}))}))]},e.prototype.stop=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return jc(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e.prototype.catchRTFError=function(e,t,n){var r={"UnknownArgument: Unknown field argument filter":hf.UnknownField,"Filters exceed maximum attributes limit":hf.MaxAttributes,"Filters combination exceed maximum limit":hf.MaxCombinations,"filter uses same fieldName multiple time":hf.RepeatedFieldname,"The variables input contains a field name 'not'":hf.NotGroup,"The variables input contains a field that is not defined for input object type":hf.FieldNotInType},i=(0,p.__read)(Object.entries(r).find((function(t){var n=(0,p.__read)(t,1)[0];return e.includes(n)}))||[],2),o=(i[0],i[1]);if(void 0!==o){var a=Sf(o,t,n);return Fd.warn("Backend subscriptions filtering error.\nSubscriptions filtering will be applied clientside.\n\n"+e+"\n"+a),!0}return!1},e}(),Bd={items:[],nextToken:null,startedAt:null},zd=new b("DataStore"),qd=function(){function e(e,t,n,r,i,o){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=i,this.amplifyContext=o,this.typeQuery=new WeakMap,this.runningProcesses=new su,o.API=o.API||ou,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=(0,p.__read)(bf(t,n,"LIST"),1),i=(0,p.__read)(r[0]).slice(1);e.typeQuery.set(n,i)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=sf.getPredicates(this.syncPredicates.get(e),!1);return t?wf(t):null},e.prototype.retrievePage=function(e,t,n,r,i,o){return void 0===r&&(r=null),(0,p.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,f,d,h,v,g,y,m,b,_=this;return(0,p.__generator)(this,(function(w){switch(w.label){case 0:return a=(0,p.__read)(this.typeQuery.get(e),2),s=a[0],u=a[1],c={limit:r,nextToken:n,lastSync:t,filter:i},[4,Af({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:e.name,schema:this.schema})];case 1:return l=w.sent(),f=l.READ,d=0,h=function(){return(0,p.__awaiter)(_,void 0,void 0,(function(){var t,n,r,i;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:if(!this.runningProcesses.isOpen)throw new Error("sync.retreievePage termination was requested. Exiting.");a.label=1;case 1:return a.trys.push([1,3,,5]),zd.debug("Attempting sync with authMode: "+f[d]),[4,this.jitteredRetry({query:u,variables:c,opName:s,modelDefinition:e,authMode:f[d],onTerminate:o})];case 2:return t=a.sent(),zd.debug("Sync successful with authMode: "+f[d]),[2,t];case 3:if(n=a.sent(),++d>=f.length){if(r=f[d-1],zd.debug("Sync failed with authMode: "+r,n),Tf(n)||Cf(n))return zd.warn("User is unauthorized to query "+s+" with auth mode "+r+". No data could be returned."),[2,{data:(i={},i[s]=Bd,i)}];throw n}return zd.debug("Sync failed with authMode: "+f[d-1]+". Retrying with authMode: "+f[d]),[4,h()];case 4:return[2,a.sent()];case 5:return[2]}}))}))},[4,h()];case 2:return v=w.sent().data,g=v[s],y=g.items,m=g.nextToken,b=g.startedAt,[2,{nextToken:m,startedAt:b,items:y}]}}))}))},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,r=e.opName,i=e.modelDefinition,o=e.authMode,a=e.onTerminate;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return[4,D((function(t,n){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,a,s,u,c,l,f,d,h,v,g,y=this;return(0,p.__generator)(this,(function(m){switch(m.label){case 0:return m.trys.push([0,3,,6]),[4,If(o,this.amplifyConfig)];case 1:return e=m.sent(),[4,this.amplifyContext.API.graphql({query:t,variables:n,authMode:o,authToken:e,userAgentSuffix:Fc})];case 2:return[2,m.sent()];case 3:if(a=m.sent(),s=Tf(a)||Cf(a))throw new P(s);return u=Boolean(null===(h=null===(d=null===a||void 0===a?void 0:a.data)||void 0===d?void 0:d[r])||void 0===h?void 0:h.items),c=(null===a||void 0===a?void 0:a.errors)&&a.errors.some((function(e){return"Unauthorized"===e.errorType})),l=(null===a||void 0===a?void 0:a.errors)&&a.errors.filter((function(e){return"Unauthorized"!==e.errorType})),f=a,u&&(f.data[r].items=f.data[r].items.filter((function(e){return null!==e}))),u&&(null===l||void 0===l?void 0:l.length)?[4,Promise.all(l.map((function(e){return(0,p.__awaiter)(y,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:e.message,model:i.name,operation:r,errorType:(o=e,Od(Cd,o)),process:_l.sync,remoteModel:null,cause:e})];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),zd.error("Sync error handler failed with:",t),[3,3];case 3:return[2]}var o}))}))})))]:[3,5];case 4:m.sent(),E.dispatch("datastore",{event:"nonApplicableDataReceived",data:{errors:l,modelName:i.name}}),m.label=5;case 5:if(c)return zd.warn("queryError","User is unauthorized to query "+r+", some items could not be returned."),f.data=f.data||{},f.data[r]=(0,p.__assign)((0,p.__assign)({},Bd),f.data[r]),[2,f];if(null===(g=null===(v=f.data)||void 0===v?void 0:v[r].items)||void 0===g?void 0:g.length)return[2,f];throw a;case 6:return[2]}}))}))}),[t,n],void 0,a)];case 1:return[2,s.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=this.amplifyConfig,r=n.maxRecordsToSync,i=n.syncPageSize,o=new Map,a=new ws((function(n){var a=Object.values(t.schema.namespaces).reduce((function(t,n){var r,i;try{for(var o=(0,p.__values)(Array.from(n.modelTopologicalOrdering.keys())),a=o.next();!a.done;a=o.next()){var s=a.value,u=e.get(n.models[s]);t.set(n.models[s],u)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t}),new Map),s=Array.from(a.entries()).filter((function(e){return(0,p.__read)(e,1)[0].syncable})).map((function(e){var a=(0,p.__read)(e,2),s=a[0],u=(0,p.__read)(a[1],2),c=u[0],l=u[1];return t.runningProcesses.isOpen&&t.runningProcesses.add((function(e){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t,a,u,f,d,h,v,g,y,m=this;return(0,p.__generator)(this,(function(b){switch(b.label){case 0:return t=!1,a=null,u=null,f=null,d=0,h=this.graphqlFilterFromPredicate(s),v=this.schema.namespaces[c].modelTopologicalOrdering.get(s.name),g=v.map((function(e){return o.get(c+"_"+e)})),y=new Promise((function(o){return(0,p.__awaiter)(m,void 0,void 0,(function(){var v,y;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return[4,Promise.all(g)];case 1:p.sent(),p.label=2;case 2:return this.runningProcesses.isOpen?(v=Math.min(r-d,i),[4,this.retrievePage(s,l,a,v,h,e)]):[2];case 3:y=p.sent(),f=y.items,a=y.nextToken,u=y.startedAt,d+=f.length,t=null===a||d>=r,n.next({namespace:c,modelDefinition:s,items:f,done:t,startedAt:u,isFullSync:!l}),p.label=4;case 4:if(!t)return[3,2];p.label=5;case 5:return o(),[2]}}))}))})),o.set(c+"_"+s.name,y),[4,y];case 1:return b.sent(),[2]}}))}))}),"adding model "+s.name)}));Promise.all(s).then((function(){n.complete()}))}));return a},e.prototype.stop=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return zd.debug("stopping sync processor"),[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),zd.debug("sync processor stopped"),[2]}}))}))},e}(),Vd=k().isNode,Kd=new b("DataStore"),Wd=Symbol("sync");!function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"}(Ld||(Ld={}));var Hd=function(){function e(e,t,n,r,i,o,a,s,u,c,l,f,d){void 0===c&&(c={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=i,this.modelInstanceCreator=o,this.syncPredicates=u,this.amplifyConfig=c,this.authModeStrategy=l,this.amplifyContext=f,this.connectivityMonitor=d,this.online=!1,this.modelSyncedStatus=new WeakMap,this.runningProcesses=new su;var h=this.modelClasses.MutationEvent;this.outbox=new _d(this.schema,h,o,Wd),this.modelMerger=new bd(this.outbox,Wd),this.syncQueriesProcessor=new qd(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.subscriptionsProcessor=new jd(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.mutationsProcessor=new Md(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,h,this.amplifyConfig,this.authModeStrategy,s,a,this.amplifyContext),this.datastoreConnectivity=this.connectivityMonitor||new md}return e.prototype.getModelSyncedStatus=function(e){return this.modelSyncedStatus.get(e)},e.prototype.start=function(e){var t=this;return new ws((function(n){Kd.log("starting sync engine...");var r=[];t.runningProcesses.add((function(){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t,i,o,a=this;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return s.sent(),[3,3];case 2:return t=s.sent(),n.error(t),[2];case 3:return i=new Promise((function(e,t){a.datastoreConnectivity.status().subscribe((function(i){var o=i.online;return(0,p.__awaiter)(a,void 0,void 0,(function(){var i=this;return(0,p.__generator)(this,(function(a){return[2,this.runningProcesses.isOpen&&this.runningProcesses.add((function(a){return(0,p.__awaiter)(i,void 0,void 0,(function(){var i,s,u,c,l,f=this;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return!o||this.online?[3,10]:(this.online=o,n.next({type:Ld.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),s=void 0,Vd?(Kd.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:l=(0,p.__read)(this.subscriptionsProcessor.start(),2),i=l[0],s=l[1],d.label=2;case 2:return d.trys.push([2,4,,5]),[4,new Promise((function(e,t){a.then(t);var n=i.subscribe({next:function(t){t===Pd.CONNECTED&&e()},error:function(e){t(e),f.disconnectionHandler()(e)}});r.push(n)}))];case 3:return d.sent(),[3,5];case 4:return u=d.sent(),n.error(u),t(),[2];case 5:Kd.log("Realtime ready"),n.next({type:Ld.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),d.label=6;case 6:return d.trys.push([6,8,,9]),[4,new Promise((function(e,t){var i=f.syncQueriesObservable().subscribe({next:function(t){t.type===Ld.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});i&&r.push(i)}))];case 7:return d.sent(),[3,9];case 8:return c=d.sent(),n.error(c),t(),[2];case 9:return r.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,r=e.model,i=e.hasMore;return f.runningProcesses.add((function(){return(0,p.__awaiter)(f,void 0,void 0,(function(){var e,o,a=this;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return e=this.userModelClasses[t.name],o=this.modelInstanceCreator(e,r),[4,this.storage.runExclusive((function(e){return a.modelMerger.merge(e,o,t)}))];case 1:return s.sent(),n.next({type:Ld.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:e,element:o}}),n.next({type:Ld.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!i}}),[2]}}))}))}),"mutation processor event")}))),Vd||r.push(s.subscribe((function(e){var t=(0,p.__read)(e,3),n=(t[0],t[1]),r=t[2];return f.runningProcesses.add((function(){return(0,p.__awaiter)(f,void 0,void 0,(function(){var e,t,i=this;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return e=this.userModelClasses[n.name],t=this.modelInstanceCreator(e,r),[4,this.storage.runExclusive((function(e){return i.modelMerger.merge(e,t,n)}))];case 1:return o.sent(),[2]}}))}))}),"subscription dataSubsObservable event")}))),[3,11];case 10:o||(this.online=o,n.next({type:Ld.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),r.forEach((function(e){return e.unsubscribe()})),r=[]),d.label=11;case 11:return e(),[2]}}))}))}),"datastore connectivity event")]}))}))}))})),this.storage.observe(null,null,Wd).filter((function(e){var t=e.model;return!0===a.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,r=e.model,o=e.element,s=e.condition;return(0,p.__awaiter)(a,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(a){return[2,this.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,a,u,c,l;return(0,p.__generator)(this,(function(f){switch(f.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(r)],a=this.modelClasses.MutationEvent,u=this.getModelDefinition(r),c=function(e,t){return e&&Array.isArray(e.predicates)?wf(e,El(t)):{}}(s,u),l=_f(e.relationships,this.getModelDefinition(r),t,r,o,c,a,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,l)];case 1:return f.sent(),n.next({type:Ld.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:r,element:o}}),n.next({type:Ld.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,i];case 2:return f.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}),"storage event")]}))}))}}),n.next({type:Ld.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return o=void 0===s.sent(),n.next({type:Ld.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:o}}),[4,i];case 5:return s.sent(),n.next({type:Ld.SYNC_ENGINE_READY}),[2]}}))}))}),"sync start")}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.runningProcesses.add((function(){return n.getModelsMetadata()}),"sync/index getModelsMetadataWithNextFullSync")];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,i=t.model,o=t.lastSync,a=t.lastFullSync,s=t.fullSyncInterval,u=(t.lastSyncPredicate,!a||a+s<e?0:o);return[n.schema.namespaces[r].models[i],[r,u]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new ws((function(t){var n;e.runningProcesses.isOpen&&e.runningProcesses.add((function(r){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,i,o,a=this;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:e=!1,i=function(){var i,s,u,c,l,f,d,h,v;return(0,p.__generator)(this,(function(g){switch(g.label){case 0:return i=new WeakMap,[4,o.getModelsMetadataWithNextFullSync(Date.now())];case 1:return s=g.sent(),u=new Set(s.keys()),[4,new Promise((function(e,o){a.runningProcesses.isOpen||e(),r.then((function(){return e()})),n=a.syncQueriesProcessor.start(s).subscribe({next:function(r){var o=r.namespace,s=r.modelDefinition,v=r.items,g=r.done,y=r.startedAt,m=r.isFullSync;return(0,p.__awaiter)(a,void 0,void 0,(function(){var r,a,b,_,w,S,E=this;return(0,p.__generator)(this,(function(A){switch(A.label){case 0:return r=this.userModelClasses[s.name],i.has(r)||(i.set(r,{new:0,updated:0,deleted:0}),f=Qc(),h=void 0===h?y:Math.max(h,y)),[4,this.storage.runExclusive((function(e){return(0,p.__awaiter)(E,void 0,void 0,(function(){var t,n,o,a,u,c,l,f,d,h,g,y,m,b,_;return(0,p.__generator)(this,(function(w){switch(w.label){case 0:return[4,this.outbox.getModelIds(e)];case 1:t=w.sent(),n=[],o=v.filter((function(e){var r=kf(s,e);return!t.has(r)||(n.push(e),!1)})),a=[],w.label=2;case 2:w.trys.push([2,7,8,9]),u=(0,p.__values)(n),c=u.next(),w.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,this.modelMerger.merge(e,l,s)]);case 4:void 0!==(f=w.sent())&&a.push([l,f]),w.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return d=w.sent(),b={error:d},[3,9];case 8:try{c&&!c.done&&(_=u.return)&&_.call(u)}finally{if(b)throw b.error}return[7];case 9:return g=(h=a.push).apply,y=[a],[4,this.modelMerger.mergePage(e,r,o,s)];case 10:return g.apply(h,y.concat([p.__spread.apply(void 0,[w.sent()])])),m=i.get(r),a.forEach((function(e){var t=(0,p.__read)(e,2)[1];switch(t){case vl.INSERT:m.new++;break;case vl.UPDATE:m.updated++;break;case vl.DELETE:m.deleted++;break;default:throw new Error("Invalid opType "+t)}})),[2]}}))}))}))];case 1:return A.sent(),g?(a=s.name,[4,this.getModelMetadata(o,a)]):[3,4];case 2:return b=A.sent(),_=b.lastFullSync,w=b.fullSyncInterval,l=w,c=void 0===c?_:Math.max(c,m?y:_),b=this.modelClasses.ModelMetadata.copyOf(b,(function(e){e.lastSync=y,e.lastFullSync=m?y:b.lastFullSync})),[4,this.storage.save(b,void 0,Wd)];case 3:A.sent(),S=i.get(r),this.modelSyncedStatus.set(r,!0),t.next({type:Ld.SYNC_ENGINE_MODEL_SYNCED,data:{model:r,isFullSync:m,isDeltaSync:!m,counts:S}}),u.delete(s),0===u.size&&(d=Qc()-f,e(),t.next({type:Ld.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),A.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:Ld.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(u).map((function(e){return e.name}))}})}))];case 2:return g.sent(),v=c?c+l-(h+d):l-d,Kd.debug("Next fullSync in "+v/1e3+" seconds. ("+new Date(Date.now()+v)+")"),[4,o.runningProcesses.add((function(t){return(0,p.__awaiter)(a,void 0,void 0,(function(){var n,r;return(0,p.__generator)(this,(function(i){return r=new Promise((function(e){n=e,setTimeout(n,v)})),t.then((function(){e=!0,n()})),[2,r]}))}))}),"syncQueriesObservable sleep")];case 3:return g.sent(),[2]}}))},o=this,s.label=1;case 1:return t.closed||e?[3,3]:[5,i()];case 2:return s.sent(),[3,1];case 3:return[2]}}))}))}),"syncQueriesObservable main")})):ws.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){ks.CONNECTION_CLOSED!==t&&ks.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.stop=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return Kd.debug("stopping sync engine"),this.unsubscribeConnectivity(),[4,this.mutationsProcessor.stop()];case 1:return e.sent(),[4,this.subscriptionsProcessor.stop()];case 2:return e.sent(),[4,this.datastoreConnectivity.stop()];case 3:return e.sent(),[4,this.syncQueriesProcessor.stop()];case 4:return e.sent(),[4,this.runningProcesses.close()];case 5:return e.sent(),[4,this.runningProcesses.open()];case 6:return e.sent(),Kd.debug("sync engine stopped and ready to restart"),[2]}}))}))},e.prototype.setupModels=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,h,v=this;return(0,p.__generator)(this,(function(g){switch(g.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,r=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){if(r.push([e.name,t]),e.name===Rc){var n=v.userModelClasses[t.name];v.modelSyncedStatus.set(n,!1)}}))})),o=r.map((function(e){var r=(0,p.__read)(e,2),o=r[0],a=r[1];return(0,p.__awaiter)(v,void 0,void 0,(function(){var e,r,s,u,c,l,f,d,h;return(0,p.__generator)(this,(function(v){switch(v.label){case 0:return[4,this.getModelMetadata(o,a.name)];case 1:return e=v.sent(),r=sf.getPredicates(this.syncPredicates.get(a),!1),s=r?JSON.stringify(r):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:a.name,namespace:o,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:s}),void 0,Wd)];case 2:return l=p.__read.apply(void 0,[v.sent(),1]),f=(0,p.__read)(l[0],1),i=f[0],[3,5];case 3:return u=e.lastSyncPredicate?e.lastSyncPredicate:null,c=u!==s,[4,this.storage.save(n.copyOf(e,(function(e){e.fullSyncInterval=t,c&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=s)})))];case 4:d=p.__read.apply(void 0,[v.sent(),1]),h=(0,p.__read)(d[0],1),i=h[0],v.label=5;case 5:return[2,i]}}))}))})),a={},g.label=1;case 1:return g.trys.push([1,6,7,8]),[4,Promise.all(o)];case 2:s=p.__values.apply(void 0,[g.sent()]),u=s.next(),g.label=3;case 3:if(u.done)return[3,5];c=u.value,l=c.model,a[l]=c,g.label=4;case 4:return u=s.next(),[3,3];case 5:return[3,8];case 6:return f=g.sent(),d={error:f},[3,8];case 7:try{u&&!u.done&&(h=s.return)&&h.call(s)}finally{if(d)throw d.error}return[7];case 8:return[2,a]}}))}))},e.prototype.getModelsMetadata=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e;return(0,p.__generator)(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return n=this.modelClasses.ModelMetadata,r=sf.createFromAST(this.schema.namespaces[Dc].models[n.name],{and:[{namespace:{eq:e}},{model:{eq:t}}]}),[4,this.storage.query(n,r,{page:0,limit:1})];case 1:return i=p.__read.apply(void 0,[o.sent(),1]),[2,i[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:Dc,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}}},e}(),Gd=(0,p.__spread)(of),Yd=new Map,Qd=function(e,t){var n=t||new Yl;return Yd.set(n,e),n},Jd=function(e){if(!Yd.has(e))throw new Error("Invalid predicate. Terminate your predicate with a valid condition (e.g., `p => p.field.eq('value')`) or pass `Predicates.ALL`.");return Yd.get(e)},$d={and:"or",or:"and",not:"and",eq:"ne",ne:"eq",gt:"le",ge:"lt",lt:"ge",le:"gt",contains:"notContains",notContains:"contains"},Zd=function(){function e(e,t,n){this.field=e,this.operator=t,this.operands=n,this.validate()}return e.prototype.copy=function(t){return[new e(this.field,this.operator,(0,p.__spread)(this.operands)),void 0]},e.prototype.toAST=function(){var e,t;return(e={})[this.field]=((t={})[this.operator]="between"===this.operator?[this.operands[0],this.operands[1]]:this.operands[0],t),e},e.prototype.negated=function(t){return"between"===this.operator?new eh(t,void 0,void 0,"or",[new e(this.field,"lt",[this.operands[0]]),new e(this.field,"gt",[this.operands[1]])]):"beginsWith"===this.operator?new eh(t,void 0,void 0,"not",[new e(this.field,"beginsWith",[this.operands[0]])]):new e(this.field,$d[this.operator],this.operands)},e.prototype.fetch=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return[2,Promise.reject("No implementation needed [yet].")]}))}))},e.prototype.matches=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return(0,p.__generator)(this,(function(i){if(t=e[this.field],n={eq:function(){return t===r.operands[0]},ne:function(){return t!==r.operands[0]},gt:function(){return t>r.operands[0]},ge:function(){return t>=r.operands[0]},lt:function(){return t<r.operands[0]},le:function(){return t<=r.operands[0]},contains:function(){return t.indexOf(r.operands[0])>-1},notContains:function(){return-1===t.indexOf(r.operands[0])},beginsWith:function(){return t.startsWith(r.operands[0])},between:function(){return t>=r.operands[0]&&t<=r.operands[1]}}[this.operator])return[2,n()];throw new Error("Invalid operator given: "+this.operator)}))}))},e.prototype.validate=function(){var e=this,t=function(t){var n=1===t?"argument is":"arguments are";return function(){if(e.operands.length!==t)return"Exactly "+t+" "+n+" required."}},n={eq:t(1),ne:t(1),gt:t(1),ge:t(1),lt:t(1),le:t(1),contains:t(1),notContains:t(1),beginsWith:t(1),between:function(){return t(2)()||(e.operands[0]>e.operands[1]?"The first argument must be less than or equal to the second argument.":null)}}[this.operator];if(!n)throw new Error("Non-existent operator: `"+this.operator+"()`");var r=n();if("string"===typeof r)throw new Error("Incorrect usage of `"+this.operator+"()`: "+r)},e}(),Xd=function(){var e=1;return function(){return"group_"+e++}}(),eh=function(){function e(e,t,n,r,i,o){void 0===o&&(o=!1),this.model=e,this.field=t,this.relationshipType=n,this.operator=r,this.operands=i,this.isOptimized=o,this.groupId=Xd()}return e.prototype.copy=function(t){var n=new e(this.model,this.field,this.relationshipType,this.operator,[]),r=t===this?n:void 0;return this.operands.forEach((function(e){var i=(0,p.__read)(e.copy(t),2),o=i[0],a=i[1];n.operands.push(o),r=r||a})),[n,r]},e.prototype.withFieldConditionsOnly=function(t){var n=this,r=t!==("not"===this.operator);return new e(this.model,void 0,void 0,t?$d[this.operator]:this.operator,this.operands.filter((function(e){return e instanceof Zd})).map((function(e){return r?e.negated(n.model):e})))},e.prototype.optimized=function(t){var n=this;void 0===t&&(t=!0);var r=this.operands.map((function(t){return t instanceof e?t.optimized("not"===n.operator):t}));if(!t&&["and","or"].includes(this.operator)&&!this.field&&1===r.length){var i=r[0];if(!(i instanceof Zd))return i;if("between"!==i.operator)return i}return new e(this.model,this.field,this.relationshipType,this.operator,r,!0)},e.prototype.fetch=function(t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=!1),(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,d,h,v,g,y,m,b,_,w,S,E,A,C,T,I,k,O,P,x,N,M,R,D,U,F,L,j,B,z,q,V,K,W,H,G,Y,Q,J,$,Z,X,ee,te,ne=this;return(0,p.__generator)(this,(function(re){switch(re.label){case 0:if(!this.isOptimized)return[2,this.optimized().fetch(t)];i=[],o=r?$d[this.operator]:this.operator,a=r!==("not"===this.operator),s=this.operands.filter((function(t){return t instanceof e})),u=this.operands.filter((function(e){return e instanceof Zd})),re.label=1;case 1:re.trys.push([1,10,11,12]),c=(0,p.__values)(s),l=c.next(),re.label=2;case 2:return l.done?[3,9]:[4,(f=l.value).fetch(t,(0,p.__spread)(n,[this.groupId]),a)];case 3:if(0===(d=re.sent()).length)return"and"===o?[2,[]]:(i.push([]),[3,8]);if(!f.field)return[3,7];if(!(h=gd.from(this.model,f.field)))return[3,5];v=[];try{for(W=void 0,g=(0,p.__values)(d),y=g.next();!y.done;y=g.next()){for(m=y.value,b=[],_=0;_<h.localJoinFields.length;_++)b.push(((G={})[h.localJoinFields[_]]={eq:m[h.remoteJoinFields[_]]},G));v.push({and:b})}}catch(ie){W={error:ie}}finally{try{y&&!y.done&&(H=g.return)&&H.call(g)}finally{if(W)throw W.error}}return A=sf.createFromAST(this.model.schema,{or:v}),S=(w=i).push,[4,t.query(this.model.builder,A)];case 4:return S.apply(w,[re.sent()]),[3,6];case 5:throw new Error("Missing field metadata.");case 6:return[3,8];case 7:i.push(d),re.label=8;case 8:return l=c.next(),[3,2];case 9:return[3,12];case 10:return E=re.sent(),V={error:E},[3,12];case 11:try{l&&!l.done&&(K=c.return)&&K.call(c)}finally{if(V)throw V.error}return[7];case 12:return u.length>0?(A=this.withFieldConditionsOnly(a).toStoragePredicate(),T=(C=i).push,[4,t.query(this.model.builder,A)]):[3,14];case 13:return T.apply(C,[re.sent()]),[3,16];case 14:return 0!==u.length||0!==i.length?[3,16]:(k=(I=i).push,[4,t.query(this.model.builder)]);case 15:k.apply(I,[re.sent()]),re.label=16;case 16:if(O=function(e){return JSON.stringify(ne.model.pkField.map((function(t){return e[t]})))},"and"===o){if(0===i.length)return[2,[]];try{for(x=(0,p.__values)(i),N=x.next();!N.done;N=x.next())if(j=N.value,void 0===P)P=new Map(j.map((function(e){return[O(e),e]})));else{M=new Map(j.map((function(e){return[O(e),e]})));try{for(J=void 0,R=(0,p.__values)(P.keys()),D=R.next();!D.done;D=R.next())U=D.value,M.has(U)||P.delete(U)}catch(oe){J={error:oe}}finally{try{D&&!D.done&&($=R.return)&&$.call(R)}finally{if(J)throw J.error}}}}catch(ae){Y={error:ae}}finally{try{N&&!N.done&&(Q=x.return)&&Q.call(x)}finally{if(Y)throw Y.error}}}else if("or"===o||"not"===o){P=new Map;try{for(F=(0,p.__values)(i),L=F.next();!L.done;L=F.next()){j=L.value;try{for(ee=void 0,B=(0,p.__values)(j),z=B.next();!z.done;z=B.next())q=z.value,P.set(O(q),q)}catch(se){ee={error:se}}finally{try{z&&!z.done&&(te=B.return)&&te.call(B)}finally{if(ee)throw ee.error}}}}catch(ue){Z={error:ue}}finally{try{L&&!L.done&&(X=F.return)&&X.call(F)}finally{if(Z)throw Z.error}}}return[2,Array.from((null===P||void 0===P?void 0:P.values())||[])]}}))}))},e.prototype.matches=function(e,t){var n,r;return void 0===t&&(t=!1),(0,p.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return!this.field||t?[3,2]:[4,e[this.field]];case 1:return o=l.sent(),[3,3];case 2:o=e,l.label=3;case 3:if(!(i=o))return[2,!1];if("HAS_MANY"!==this.relationshipType||"function"!==typeof i[Symbol.asyncIterator])return[3,17];l.label=4;case 4:l.trys.push([4,10,11,16]),a=(0,p.__asyncValues)(i),l.label=5;case 5:return[4,a.next()];case 6:return(s=l.sent()).done?[3,9]:(u=s.value,[4,this.matches(u,!0)]);case 7:if(l.sent())return[2,!0];l.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return c=l.sent(),n={error:c},[3,16];case 11:return l.trys.push([11,,14,15]),s&&!s.done&&(r=a.return)?[4,r.call(a)]:[3,13];case 12:l.sent(),l.label=13;case 13:return[3,15];case 14:if(n)throw n.error;return[7];case 15:return[7];case 16:return[2,!1];case 17:return"or"!==this.operator?[3,18]:[2,Xc(this.operands,(function(e){return e.matches(i)}))];case 18:return"and"!==this.operator?[3,19]:[2,el(this.operands,(function(e){return e.matches(i)}))];case 19:if("not"!==this.operator)return[3,21];if(1!==this.operands.length)throw new Error("Invalid arguments! `not()` accepts exactly one predicate expression.");return[4,this.operands[0].matches(i)];case 20:return[2,!l.sent()];case 21:throw new Error("Invalid group operator!")}}))}))},e.prototype.toAST=function(){var e;if(this.field)throw new Error("Nested type conditions are not supported!");return(e={})[this.operator]=this.operands.map((function(e){return e.toAST()})),e},e.prototype.toStoragePredicate=function(){return sf.createFromAST(this.model.schema,this.toAST())},e.prototype.toJSON=function(){return(0,p.__assign)((0,p.__assign)({},this),{model:this.model.schema.name})},e}();function th(e,t,n,r,i){void 0===t&&(t=!0);var o=new eh(e,n,void 0,"and",[]),a=r&&i?r:o,s=r&&i?i:o,u={};Qd(a,u);var c=function(){var n=(0,p.__read)(a.copy(s),2),r=n[0],i=n[1];return{query:r,newTail:i,newLink:th(e,t,void 0,r,i)}};["and","or"].forEach((function(r){u[r]=function(i){var o=c(),a=o.query,s=o.newTail,u=i(th(e,t));if(!Array.isArray(u))throw new Error("Invalid predicate. `"+r+"` groups must return an array of child conditions.");return null===s||void 0===s||s.operands.push(new eh(e,n,void 0,r,u.map((function(e){return Jd(e)})))),Qd(a)}})),u.not=function(r){var i=c(),o=i.query,a=i.newTail;return null===a||void 0===a||a.operands.push(new eh(e,n,void 0,"not",[Jd(r(th(e,t)))])),Qd(o)};var l=function(n){Object.defineProperty(u,n,{enumerable:!0,get:function(){var r=e.schema.allFields[n];if(r.association){if(t){if("BELONGS_TO"===r.association.connectionType||"HAS_ONE"===r.association.connectionType||"HAS_MANY"===r.association.connectionType){var i=r.type.modelConstructor;if(!i)throw new Error("Related model metadata is missing. This is a bug! Please report it.");var o=(0,p.__read)(a.copy(s),2),u=o[0],l=o[1],f=new eh(i,n,r.association.connectionType,"and",[]);return l.operands.push(f),th(i,t,void 0,u,f)}throw new Error("Related model definition doesn't have a typedef. This is a bug! Please report it.")}throw new Error("Predication on releated models is not supported in this context.")}return Gd.reduce((function(e,t){var r;return(0,p.__assign)((0,p.__assign)({},e),((r={})[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=c(),o=i.query,a=i.newTail,s=e.map((function(e){return void 0===e?null:e}));return null===a||void 0===a||a.operands.push(new Zd(n,t,s)),Qd(o)},r))}),{})}})};for(var f in e.schema.allFields)l(f);return u}function nh(e){return th(e,!1)}cc(!0),Ku();var rh,ih,oh,ah,sh,uh,ch=new b("DataStore"),lh=Yc(Date.now()),fh=k().isNode,dh="schemaVersion",hh=new WeakMap,ph=new WeakMap,vh=function(e){var t=hh.get(e);return t?rh.namespaces[t].models[e.name]:void 0},gh=function(e){return zc(e)&&hh.has(e)},yh=function(e){var t=hh.get(e);if(!t)throw new Error("Namespace Resolver for '"+e.name+"' not found! This is probably a bug in '@amplify-js/datastore'.");return t},mh=function(e){if(!e)throw new Error("Missing modelConstructor");var t=vh(e);if(!t)throw new Error("Missing modelSchema");var n=El(t);if(!n)throw new Error("Could not determine PK");return th({builder:e,schema:t,pkField:n})},bh=new WeakMap;!function(e){e.Detached="Detached",e.DataStore="DataStore",e.API="API"}(uh||(uh={}));var _h=new WeakMap;function wh(e,t){return Array.isArray(e)?e.map((function(e){return wh(e,t)})):e&&_h.set(e,t),e}var Sh=function(e){return _h.has(e)?_h.get(e):uh.Detached},Eh=function(){if(void 0===rh){var e="Schema is not initialized. DataStore will not function as expected. This could happen if you have multiple versions of DataStore installed. Please see https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js/#check-for-duplicate-versions";throw ch.error(e),new Error(e)}},Ah=function(e){var t=!1;try{var n=e.split("."),r=(0,p.__read)(n,4),i=r[0],o=r[1];r[2],r[3];t=3===Number(i)&&Number(o)>=2}catch(s){console.log("Error parsing codegen version: "+e+"\n"+s)}if(!t){var a="Models were generated with an unsupported version of codegen. Codegen artifacts are from "+(e||"an unknown version")+", whereas ^3.2.0 is required. Update to the latest CLI and run 'amplify codegen models'.";throw ch.error(a),new Error(a)}},Ch=function(e){var t={};return Object.entries(e.models).forEach((function(n){var r=(0,p.__read)(n,2),i=r[0],o=r[1],a=Rh(o);t[i]=a,hh.set(a,e.name)})),Object.entries(e.nonModels||{}).forEach((function(e){var n=(0,p.__read)(e,2),r=n[0],i=n[1],o=Lh(i);t[r]=o})),t},Th=new WeakSet;function Ih(e,t){return Th.add(t),new e(t)}var kh,Oh,Ph=function e(t){return function(n,r){var i=t.fields[n];if(void 0!==i){var o=i.type,a=i.isRequired,s=i.isArrayNullable,u=i.name,c=i.isArray,l=!!(Rl(t)?function(e){var t,n,r=null===(t=e.attributes)||void 0===t?void 0:t.find((function(e){return"model"===e.type})),i=(null===(n=null===r||void 0===r?void 0:r.properties)||void 0===n?void 0:n.timestamps)||{};return(0,p.__assign)((0,p.__assign)({},{createdAt:"createdAt",updatedAt:"updatedAt"}),i)}(t):{})[u];if((!c&&a||c&&!s)&&!l&&(null===r||void 0===r))throw new Error("Field "+u+" is required");if(Rl(t)&&!Cl(t))if(El(t).includes(n)&&""===r)throw ch.error(Oc,{k:n,value:r}),new Error(Oc);if(Bl(o)){var f=pl.getJSType(o),d=pl.getValidationFunction(o);if("AWSJSON"===o){if(typeof r===f)return;if("string"===typeof r)try{return void JSON.parse(r)}catch(b){throw new Error("Field "+u+" is an invalid JSON object. "+r)}}if(c){var h=f;if(a||(h=f+" | null | undefined"),!Array.isArray(r)&&!s)throw new Error("Field "+u+" should be of type ["+h+"], "+typeof r+" received. "+r);if(!Lc(r)&&r.some((function(e){return Lc(e)?a:typeof e!==f}))){var v=r.map((function(e){return null===e?"null":typeof e})).join(",");throw new Error("All elements in the "+u+" array should be of type "+h+", ["+v+"] received. "+r)}if(d&&!Lc(r)){var g=r.map((function(e){return Lc(e)?!(!Lc(e)||a):d(e)}));if(!g.every((function(e){return e})))throw new Error("All elements in the "+u+" array should be of type "+o+", validation failed for one or more elements. "+r)}}else{if(!a&&void 0===r)return;if(typeof r!==f&&null!==r)throw new Error("Field "+u+" should be of type "+f+", "+typeof r+" received. "+r);if(!Lc(r)&&d&&!d(r))throw new Error("Field "+u+" should be of type "+o+", validation failed. "+r)}}else if(ql(o)&&!Lc(r)){var y=rh.namespaces.user.nonModels[o.nonModel],m=e(y);if(c){h=o.nonModel;if(a||(h=o.nonModel+" | null | undefined"),!Array.isArray(r))throw new Error("Field "+u+" should be of type ["+h+"], "+typeof r+" received. "+r);r.forEach((function(e){if(Lc(e)&&a||"object"!==typeof e&&"undefined"!==typeof e)throw new Error("All elements in the "+u+" array should be of type "+o.nonModel+", ["+typeof e+"] received. "+e);Lc(e)||Object.keys(y.fields).forEach((function(t){m(t,e[t])}))}))}else{if("object"!==typeof r)throw new Error("Field "+u+" should be of type "+o.nonModel+", "+typeof r+" recieved. "+r);Object.keys(y.fields).forEach((function(e){m(e,r[e])}))}}}}},xh=function(e,t,n){var r=e.fields[t]||{},i=r.isArray,o=r.type;if("string"===typeof n&&(i||"AWSJSON"===o||ql(o)||zl(o)))try{return JSON.parse(n)}catch(a){}return"number"===typeof n&&"Boolean"===o?Boolean(n):n},Nh=function(e,t,n){var r=Ph(t);Object.entries(e).forEach((function(e){var i=(0,p.__read)(e,2),o=i[0],a=i[1],s=xh(t,o,a);r(o,s),n[o]=s}))},Mh=function(e,t){var n,r;try{for(var i=(0,p.__values)(Object.keys(e.fields)),o=i.next();!o.done;o=i.next()){var a=o.value;void 0===t[a]&&(t[a]=null)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Rh=function(e){var t,n,r=function(){function t(t){return uc(this,(function(n){Nh(t,e,n);var r=Th.has(t),i=r?t:{},o=i.id;if(Cl(e)){var a=null!==o&&void 0!==o?o:e.syncable?(0,In.v4)():lh();n.id=a}else(function(e){var t=Sl(e);return!(!t||!Ll(t))&&t.properties.fields[0]===Tc})(e)&&(n.id=n.id||(0,In.v4)());r||Uh(n,e);var s=i._version,u=i._lastChangedAt,c=i._deleted;e.syncable&&(n._version=s,n._lastChangedAt=u,n._deleted=c),Mh(e,n)}))}return t.copyOf=function(t,n){var r=Object.getPrototypeOf(t||{}).constructor;if(!gh(r)){var i="The source object is not a valid model";throw ch.error(i,{source:t}),new Error(i)}var o=[],a=uc(t,(function(r){n(r),El(e).forEach((function(e){r[e]!==t[e]&&ch.warn("copyOf() does not update PK fields. The '"+e+"' update is being ignored.",{source:t}),r[e]=t[e]}));var i=Ph(e);Object.entries(r).forEach((function(t){var n=(0,p.__read)(t,2),r=n[0],o=n[1],a=xh(e,r,o);i(r,a)})),Mh(e,r)}),(function(e){return o=e})),s=ph.has(t);if(o.length||s)if(s){var u=(0,p.__read)(ph.get(t),2),c=u[0],l=u[1],f=function(e,t,n){var r,i=t.concat(n);return uc(e,(function(e){lc(e,i)}),(function(e){r=e})),r}(l,c,o);ph.set(a,[f,l]),Fh(f,e)}else ph.set(a,[o,t]),Fh(o,e);return wh(a,uh.DataStore)},t.fromJSON=function(t){var n=this;if(Array.isArray(t))return t.map((function(e){return n.fromJSON(e)}));var i=Ih(r,t),o=Ph(e);return Object.entries(i).forEach((function(e){var t=(0,p.__read)(e,2),n=t[0],r=t[1];o(n,r)})),wh(i,uh.DataStore)},t}();r[Zu]=!0,Object.defineProperty(r,"name",{value:e.name});var i=gd.allFrom({builder:r,schema:e,pkField:El(e)}),o=function(t){var n=t.field;Object.defineProperty(r.prototype,e.fields[n].name,{set:function(r){if("object"===typeof r||"undefined"===typeof r){if(r&&r.hasOwnProperty("_version")){var i=Object.getPrototypeOf(r||{}).constructor;if(!gh(i)){var o="Value passed to "+e.name+"."+n+" is not a valid instance of a model";throw ch.error(o,{model:r}),new Error(o)}if(i.name.toLowerCase()!==t.remoteModelConstructor.name.toLowerCase()){o="Value passed to "+e.name+"."+n+" is not an instance of "+t.remoteModelConstructor.name;throw ch.error(o,{model:r}),new Error(o)}}if(t.isComplete){for(var a=0;a<t.localJoinFields.length;a++)this[t.localJoinFields[a]]=null===r||void 0===r?void 0:r[t.remoteJoinFields[a]];(bh.has(this)?bh.get(this):bh.set(this,{}).get(this))[n]=r||void 0}}},get:function(){var r=this,i=bh.has(this)?bh.get(this):bh.set(this,{}).get(this);if(!i.hasOwnProperty(n)){if(Sh(this)!==uh.DataStore){if(Sh(this)===uh.API)throw new Error("Lazy loading from API is not yet supported!");return"HAS_MANY"===t.type?new Dh([]):Promise.resolve(void 0)}var o=Wh.query(t.remoteModelConstructor,(function(e){return e.and((function(e){return t.remoteJoinFields.map((function(n,i){return e[n].eq(r[t.localJoinFields[i]])}))}))}));"HAS_MANY"===t.type?i[n]=new Dh(o):i[n]=o.then((function(t){if(t.length>1){var r=new Error("\n\t\t\t\t\t\t\t\t\tData integrity error.\n\t\t\t\t\t\t\t\t\tToo many records found for a HAS_ONE/BELONGS_TO field '"+e.name+"."+n+"'\n\t\t\t\t\t\t\t\t");throw console.error(r),r}return t[0]}))}return i[n]}})};try{for(var a=(0,p.__values)(i),s=a.next();!s.done;s=a.next()){o(s.value)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},Dh=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,p.__extends)(t,e)}(Promise),function(){function e(e){this.values=e}return e.prototype[Symbol.asyncIterator]=function(){var e,t=this,n=0;return{next:function(){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(r){switch(r.label){case 0:return e?[3,2]:[4,this.values];case 1:e=r.sent(),r.label=2;case 2:return n<e.length?(t={value:e[n],done:!1},n++,[2,t]):[2,{value:null,done:!0}]}}))}))}}},e.prototype.toArray=function(e){var t,n,r=(void 0===e?{}:e).max,i=void 0===r?Number.MAX_SAFE_INTEGER:r;return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,r,o,a,s,u;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:e=[],r=0,c.label=1;case 1:c.trys.push([1,6,7,12]),o=(0,p.__asyncValues)(this),c.label=2;case 2:return[4,o.next()];case 3:if((a=c.sent()).done)return[3,5];if(s=a.value,!(r<i))return[3,5];e.push(s),r++,c.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return u=c.sent(),t={error:u},[3,12];case 7:return c.trys.push([7,,10,11]),a&&!a.done&&(n=o.return)?[4,n.call(o)]:[3,9];case 8:c.sent(),c.label=9;case 9:return[3,11];case 10:if(t)throw t.error;return[7];case 11:return[7];case 12:return[2,e]}}))}))},e}()),Uh=function(e,t){var n=Object.keys(e),r=t.fields;n.forEach((function(e){if(r[e]&&r[e].isReadOnly)throw new Error(e+" is read-only.")}))},Fh=function(e,t){var n=e.map((function(e){return[e.path[0],e.value]})),r=t.fields;n.forEach((function(e){var t=(0,p.__read)(e,2),n=t[0];if(t[1]&&r[n]&&r[n].isReadOnly)throw new Error(n+" is read-only.")}))},Lh=function(e){var t=function(t){return uc(this,(function(n){Nh(t,e,n)}))};return t[Zu]=!0,Object.defineProperty(t,"name",{value:e.name}),function(e){qc.add(e)}(t),t};function jh(e){return"string"===typeof e}function Bh(e){var t=e.localModel,n=e.modelConstructor,r=e.remoteModel._version;return Ih(n,(0,p.__assign)((0,p.__assign)({},t),{_version:r}))}function zh(e){ch.warn(e)}function qh(e,t){var n;switch(e){case Mc:n=ah[t];break;case Rc:n=oh[t];break;case Dc:n=ih[t];break;case Uc:n=sh[t];break;default:throw new Error("Invalid namespace: "+e)}if(gh(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw ch.error(r),new Error(r)}function Vh(e,t){return(0,p.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return n=ah.Setting,r=rh.namespaces[Mc].models.Setting,[4,e.runExclusive((function(e){return(0,p.__awaiter)(i,void 0,void 0,(function(){var i,o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return[4,e.query(n,sf.createFromAST(r,{and:{key:{eq:dh}}}),{page:0,limit:1})];case 1:return i=p.__read.apply(void 0,[a.sent(),1]),void 0===(o=i[0])||void 0===o.value?[3,4]:JSON.parse(o.value)===t?[3,3]:[4,e.clear(!1)];case 2:a.sent(),a.label=3;case 3:return[3,6];case 4:return[4,e.save(Ih(n,{key:dh,value:JSON.stringify(t)}))];case 5:a.sent(),a.label=6;case 6:return[2]}}))}))}))];case 1:return o.sent(),[2]}}))}))}!function(e){e.NotRunning="Not Running",e.Starting="Starting",e.Running="Running",e.Stopping="Stopping",e.Clearing="Clearing"}(Oh||(Oh={}));var Kh=function(){function e(){var e=this;this.Auth=ko,this.API=ou,this.Cache=Lo,this.amplifyConfig={},this.syncPredicates=new WeakMap,this.amplifyContext={Auth:this.Auth,API:this.API,Cache:this.Cache},this.runningProcesses=new su,this.state=Oh.NotRunning,this.start=function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(t){return[2,this.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,t,n,r=this;return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return this.state=Oh.Starting,void 0!==this.initialized?[3,1]:(ch.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){r.initResolve=e,r.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return i.sent(),[2];case 3:return this.storage=new vd(rh,yh,qh,Ih,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return i.sent(),Eh(),[4,Vh(this.storage,rh.version)];case 5:return i.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(ch.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=i.sent(),this.sync=new Hd(rh,yh,ih,oh,this.storage,Ih,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,this.amplifyContext,this.connectivityMonitor),n=1e3*this.fullSyncInterval*60,kh=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(fh?Ld.SYNC_ENGINE_SYNC_QUERIES_READY:Ld.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&r.initResolve(),E.dispatch("datastore",{event:t,data:n})},error:function(e){ch.warn("Sync error",e),r.initReject()}}),[3,8];case 7:ch.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),i.label=8;case 8:return[4,this.initialized];case 9:return i.sent(),this.state=Oh.Running,[2]}}))}))}),"datastore start").catch(this.handleAddProcError("DataStore.start()"))]}))}))},this.query=function(t,n,r){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(i){return[2,this.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,i,o,a,s,u,c,l,f;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.start()];case 1:if(d.sent(),!this.storage)throw new Error("No storage to query");if(!gh(t))throw s="Constructor is not for a valid model",ch.error(s,{modelConstructor:t}),new Error(s);if("string"===typeof n&&void 0!==r&&ch.warn("Pagination is ignored when querying by id"),!(i=vh(t)))throw new Error("Invalid model definition provided!");if(o=this.processPagination(i,r),a=El(i),!jh(n))return[3,3];if(a.length>1)throw s=Pc,ch.error(s,{keyFields:a}),new Error(s);return c=sf.createFromFlatEqualities(i,((l={})[a[0]]=n,l)),[4,this.storage.query(t,c,o)];case 2:return e=d.sent(),[3,9];case 3:return Vl(n,i)?(c=sf.createForPk(i,n),[4,this.storage.query(t,c,o)]):[3,5];case 4:return e=d.sent(),[3,9];case 5:return n&&!ef(n)?[3,7]:[4,null===(f=this.storage)||void 0===f?void 0:f.query(t,void 0,o)];case 6:return e=d.sent(),[3,9];case 7:return u=th({builder:t,schema:i,pkField:El(i)}),[4,(c=Jd(n(u))).fetch(this.storage)];case 8:e=Zc(e=d.sent(),o),d.label=9;case 9:return[2,wh(jh(n)||Vl(n,i)?e[0]:e,uh.DataStore)]}}))}))}),"datastore query").catch(this.handleAddProcError("DataStore.query()"))]}))}))},this.save=function(t,n){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(r){return[2,this.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,r,i,o,a,s,u,c=this;return(0,p.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.start()];case 1:if(l.sent(),!this.storage)throw new Error("No storage to save to");if(e=ph.get(t),r=t?t.constructor:void 0,!gh(r))throw i="Object is not an instance of a valid model",ch.error(i,{model:t}),new Error(i);if(!(o=vh(r)))throw new Error("Model Definition could not be found for model");return a={builder:r,schema:o,pkField:El(o)},[4,this.storage.runExclusive((function(e){return(0,p.__awaiter)(c,void 0,void 0,(function(){var n,r,i,s,u,c,l,f,d;return(0,p.__generator)(this,(function(h){switch(h.label){case 0:n=gd.allFrom(a).filter((function(e){return"BELONGS_TO"===e.type})),h.label=1;case 1:h.trys.push([1,6,7,8]),r=(0,p.__values)(n),i=r.next(),h.label=2;case 2:return i.done?[3,5]:(s=i.value,null===(u=s.createRemoteQueryObject(t))?[3,4]:[4,e.query(s.remoteModelConstructor,sf.createFromFlatEqualities(s.remoteDefinition,u))]);case 3:if(0===h.sent().length)throw new Error(["Data integrity error. You tried to save a "+o.name+" ("+JSON.stringify(t)+")",'but the instance assigned to the "'+s.field+'" property',"does not exist in the local database. If you're trying to create the related",'"'+(null===(d=s.remoteDefinition)||void 0===d?void 0:d.name)+'", you must save it independently first.'].join(" "));h.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),l={error:c},[3,8];case 7:try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}))}))];case 2:return l.sent(),s=n?Jd(n(nh(a))).toStoragePredicate():void 0,[4,this.storage.runExclusive((function(n){return(0,p.__awaiter)(c,void 0,void 0,(function(){return(0,p.__generator)(this,(function(i){switch(i.label){case 0:return[4,n.save(t,s,void 0,e)];case 1:return i.sent(),[2,n.query(r,sf.createForPk(o,t))]}}))}))}))];case 3:return u=p.__read.apply(void 0,[l.sent(),1]),[2,wh(u[0],uh.DataStore)]}}))}))}),"datastore save").catch(this.handleAddProcError("DataStore.save()"))]}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n&&n.conflictHandler?n.conflictHandler:e.conflictHandler===Bh&&t.conflictHandler?t.conflictHandler:e.conflictHandler||Bh},this.setErrorHandler=function(t){var n=t.DataStore;return n&&n.errorHandler?n.errorHandler:e.errorHandler===zh&&t.errorHandler?t.errorHandler:e.errorHandler||zh},this.delete=function(t,n){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(r){return[2,this.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,r,i,o,a,s,u,c,l,f,d;return(0,p.__generator)(this,(function(h){switch(h.label){case 0:return[4,this.start()];case 1:if(h.sent(),!this.storage)throw new Error("No storage to delete from");if(!t)throw c="Model or Model Constructor required",ch.error(c,{modelOrConstructor:t}),new Error(c);if(!gh(t))return[3,3];if(a=t,!n)throw c="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",ch.error(c,{identifierOrCriteria:n}),new Error(c);if(!(s=vh(a)))throw new Error("Could not find model definition for modelConstructor.");if("string"===typeof n){if((r=El(s)).length>1)throw c=xc,ch.error(c,{keyFields:r}),new Error(c);e=sf.createFromFlatEqualities(s,((d={})[r[0]]=n,d))}else if(!(e=Vl(n,s)?sf.createForPk(s,n):Jd(n(nh({builder:a,schema:s,pkField:El(s)}))).toStoragePredicate())||!sf.isValidPredicate(e))throw c="Criteria required. Do you want to delete all? Pass Predicates.ALL",ch.error(c,{condition:e}),new Error(c);return[4,this.storage.delete(a,e)];case 2:return i=p.__read.apply(void 0,[h.sent(),1]),[2,wh(i[0],uh.DataStore)];case 3:if(o=t,a=Object.getPrototypeOf(o||{}).constructor,!gh(a))throw c="Object is not an instance of a valid model",ch.error(c,{model:o}),new Error(c);if(!(s=vh(a)))throw new Error("Could not find model definition for modelConstructor.");if(u=sf.createForPk(s,o),n){if("function"!==typeof n)throw c="Invalid criteria",ch.error(c,{identifierOrCriteria:n}),new Error(c);e=Jd(n(nh({builder:a,schema:s,pkField:El(s)}))).toStoragePredicate()}else e=u;return[4,this.storage.delete(o,e)];case 4:return l=p.__read.apply(void 0,[h.sent(),1]),f=(0,p.__read)(l[0],1),[2,wh(f[0],uh.DataStore)]}}))}))}),"datastore delete").catch(this.handleAddProcError("DataStore.delete()"))]}))}))},this.observe=function(t,n){var r,i=t&&gh(t)?t:void 0;if(t&&void 0===i){var o=t,a=o&&Object.getPrototypeOf(o).constructor;if(gh(a))return n&&ch.warn("idOrCriteria is ignored when using a model instance",{model:o,identifierOrCriteria:n}),e.observe(a,o.id);var s="The model is not an instance of a PersistentModelConstructor";throw ch.error(s,{model:o}),new Error(s)}if(n&&i&&Vl(n,vh(i))){s=Nc;throw ch.error(s,{objectLiteral:n}),new Error(s)}if(void 0!==n&&void 0===i){s="Cannot provide criteria without a modelConstructor";throw ch.error(s,n),new Error(s)}if(i&&!gh(i)){s="Constructor is not for a valid model";throw ch.error(s,{modelConstructor:i}),new Error(s)}if(i&&"string"===typeof n){r=Jd(mh(i).id.eq(n))}else i&&"function"===typeof n&&(r=Jd(n(mh(i))));return new ws((function(t){var n;return e.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,p.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.start()];case 1:return o.sent(),n=this.storage.observe(i).filter((function(e){var t=e.model;return yh(t)===Rc})).subscribe({next:function(n){return e.runningProcesses.isOpen&&e.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,i,o,a,s,u;return(0,p.__generator)(this,(function(c){switch(c.label){case 0:return e=n,"DELETE"===n.opType?[3,2]:(i=vh(n.model),o=El(i),a=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n}(n.element,o),[4,this.query(n.model,a)]);case 1:s=c.sent(),e=(0,p.__assign)((0,p.__assign)({},e),{element:s}),c.label=2;case 2:return(u=!r)?[3,4]:[4,r.matches(e.element)];case 3:u=c.sent(),c.label=4;case 4:return u&&t.next(e),[2]}}))}))}),"datastore observe message handler")},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),[2]}}))}))}),"datastore observe observable initialization").catch(e.handleAddProcError("DataStore.observe()")).catch((function(e){t.error(e)})),e.runningProcesses.addCleaner((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return n&&n.unsubscribe(),[2]}))}))}),"DataStore.observe() cleanup")}))},this.observeQuery=function(t,n,r){return new ws((function(i){var o,a,s=new Map,u=new Map,c=[],l=function(){var e=v();g(e)},f=new fl({callback:l,errorHandler:i.error,maxInterval:2e3}),d=(r||{}).sort,h=d?{sort:d}:void 0;if(!vh(t))throw new Error("Could not find model definition.");t&&"function"===typeof n?a=Jd(n(mh(t))):ef(n)&&(a=void 0),e.runningProcesses.add((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){var e,r=this;return(0,p.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.query(t,n,h)];case 1:return d.sent().forEach((function(e){var n=kf(vh(t),e);s.set(n,e)})),o=this.observe(t).subscribe((function(e){var t=e.element,n=e.model,i=e.opType;return r.runningProcesses.isOpen&&r.runningProcesses.add((function(){return(0,p.__awaiter)(r,void 0,void 0,(function(){var e,r,o,l,d,h;return(0,p.__generator)(this,(function(p){switch(p.label){case 0:return e=vh(n),r=kf(e,t),(o=a)?[4,a.matches(t)]:[3,2];case 1:o=!p.sent(),p.label=2;case 2:if(o){if("UPDATE"!==i||!s.has(r)&&!u.has(r))return[2];c.push(r)}return"DELETE"===i?c.push(r):u.set(r,t),l=null!==(h=null===(d=this.sync)||void 0===d?void 0:d.getModelSyncedStatus(n))&&void 0!==h&&h,(u.size-c.length>=this.syncPageSize||l)&&f.resolve(),f.start(),[2]}}))}))}),"handle observeQuery observed event")})),l(),[3,3];case 2:return e=d.sent(),i.error(e),[3,3];case 3:return[2]}}))}))}),"datastore observequery startup").catch(e.handleAddProcError("DataStore.observeQuery()")).catch((function(e){i.error(e)}));var v=function(){var n,i,o=null!==(i=null===(n=e.sync)||void 0===n?void 0:n.getModelSyncedStatus(t))&&void 0!==i&&i,a=(0,p.__spread)(Array.from(s.values()),Array.from(u.values()));return(null===r||void 0===r?void 0:r.sort)&&y(a),s.clear(),a.forEach((function(e){var n=kf(vh(t),e);s.set(n,e)})),c.forEach((function(e){return s.delete(e)})),{items:Array.from(s.values()),isSynced:o}},g=function(e){i.next(e),u.clear(),c=[]},y=function(n){var i=vh(t),o=e.processPagination(i,r),a=Cc.getPredicates(o.sort);if(a.length){var s=Jc(a);n.sort(s)}};return E.listen("datastore",(function e(n){var r,i=n.payload,o=i.event,a=i.data;o===Ld.SYNC_ENGINE_MODEL_SYNCED&&(null===(r=null===a||void 0===a?void 0:a.model)||void 0===r?void 0:r.name)===t.name&&(l(),E.remove("datastore",e))})),e.runningProcesses.addCleaner((function(){return(0,p.__awaiter)(e,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){return o&&o.unsubscribe(),[2]}))}))}),"datastore observequery cleaner")}))},this.configure=function(t){void 0===t&&(t={}),e.amplifyContext.Auth=e.Auth,e.amplifyContext.API=e.API,e.amplifyContext.Cache=e.Cache;var n=t.DataStore,r=t.authModeStrategyType,i=(t.conflictHandler,t.errorHandler,t.maxRecordsToSync),o=t.syncPageSize,a=t.fullSyncInterval,s=t.syncExpressions,u=t.authProviders,c=t.storageAdapter,l=(0,p.__rest)(t,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);switch(e.amplifyConfig=(0,p.__assign)((0,p.__assign)({},l),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),n&&n.authModeStrategyType||r||ml.DEFAULT){case ml.MULTI_AUTH:e.authModeStrategy=$l(e.amplifyContext);break;case ml.DEFAULT:default:e.authModeStrategy=Zl}e.amplifyConfig.authProviders=n&&n.authProviders||u,e.syncExpressions=n&&n.syncExpressions||s||e.syncExpressions,e.maxRecordsToSync=n&&n.maxRecordsToSync||i||e.maxRecordsToSync||1e4,e.amplifyConfig.maxRecordsToSync=e.maxRecordsToSync,e.syncPageSize=n&&n.syncPageSize||o||e.syncPageSize||1e3,e.amplifyConfig.syncPageSize=e.syncPageSize,e.fullSyncInterval=n&&n.fullSyncInterval||a||e.fullSyncInterval||1440,e.storageAdapter=n&&n.storageAdapter||c||e.storageAdapter||void 0,e.sessionId=e.retrieveSessionId()}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.handleAddProcError=function(e){var t=this;return function(n){throw n.message.startsWith("BackgroundManagerNotOpenError")?new Error(["DataStoreStateError: Tried to execute `"+e+'` while DataStore was "'+t.state+'".','This can only be done while DataStore is "Started" or "Stopped". To remedy:',"Ensure all calls to `stop()` and `clear()` have completed first.","If this is not possible, retry the operation until it succeeds."].join("\n")):n}},e.prototype.clear=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return Eh(),this.state=Oh.Clearing,[4,this.runningProcesses.close()];case 1:return e.sent(),void 0!==this.storage?[3,3]:(this.storage=new vd(rh,yh,qh,Ih,this.storageAdapter,this.sessionId),[4,this.storage.init()]);case 2:e.sent(),e.label=3;case 3:return kh&&!kh.closed&&kh.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,5];case 4:e.sent(),e.label=5;case 5:return[4,this.storage.clear()];case 6:return e.sent(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[4,this.runningProcesses.open()];case 7:return e.sent(),this.state=Oh.NotRunning,[2]}}))}))},e.prototype.stop=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){return(0,p.__generator)(this,(function(e){switch(e.label){case 0:return this.state=Oh.Stopping,[4,this.runningProcesses.close()];case 1:return e.sent(),kh&&!kh.closed&&kh.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.initialized=void 0,this.sync=void 0,[4,this.runningProcesses.open()];case 4:return e.sent(),this.state=Oh.NotRunning,[2]}}))}))},e.prototype.processPagination=function(e,t){var n,r=t||{},i=r.limit,o=r.page,a=r.sort;if(void 0!==i||void 0!==o||void 0!==a){if(void 0!==o&&void 0===i)throw new Error("Limit is required when requesting a page");if(void 0!==o){if("number"!==typeof o)throw new Error("Page should be a number");if(o<0)throw new Error("Page can't be negative")}if(void 0!==i){if("number"!==typeof i)throw new Error("Limit should be a number");if(i<0)throw new Error("Limit can't be negative")}return a&&(n=Cc.createFromExisting(e,a)),{limit:i,page:o,sort:n}}},e.prototype.processSyncExpressions=function(){return(0,p.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return(0,p.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o,a;return(0,p.__generator)(this,(function(s){switch(s.label){case 0:return[4,e];case 1:return t=s.sent(),n=t.modelConstructor,r=t.conditionProducer,i=vh(n),[4,this.unwrapPromise(r)];case 2:return ef(o=s.sent())?[2,[i,null]]:(a=Jd(o(nh({builder:n,schema:i,pkField:El(i)}))).toStoragePredicate(),[2,[i,a]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.unwrapPromise=function(e){return(0,p.__awaiter)(this,void 0,void 0,(function(){var t;return(0,p.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()||e];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=(0,p.__read)(t,2),r=n[0],i=n[1];if(e.has(r)){var o=r.name;return ch.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+o+" model will be ignored."),e}return i&&e.set(r,i),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e){var t=this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2];return e+"-"+(0,p.__read)(t.split("."),1)[0]}}catch(n){}},e}(),Wh=new Kh;W.register(Wh);var Hh=function(e){var t;if(void 0!==rh)return console.warn("The schema has already been initialized"),oh;ch.log("validating schema",{schema:e}),Ah(e.codegenVersion);var n=(0,p.__assign)({name:Rc},e);ch.log("DataStore","Init models"),oh=Ch(n),ch.log("DataStore","Models initialized");var r={name:Mc,relationships:{},enums:{},nonModels:{},models:{Setting:{name:"Setting",pluralName:"Settings",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},key:{name:"key",type:"String",isRequired:!0,isArray:!1},value:{name:"value",type:"String",isRequired:!0,isArray:!1}}}}},i=vd.getNamespace(),o=Hd.getNamespace();return ah=Ch(r),sh=Ch(i),ih=Ch(o),rh={namespaces:(t={},t[r.name]=r,t[n.name]=n,t[i.name]=i,t[o.name]=o,t),version:e.version,codegenVersion:e.codegenVersion},Object.keys(rh.namespaces).forEach((function(e){var t,n,r=(0,p.__read)(Tl(rh.namespaces[e]),2),i=r[0],o=r[1];rh.namespaces[e].relationships=i,rh.namespaces[e].keys=o;var a=new Map;Object.values(rh.namespaces[e].models).forEach((function(t){var n,r,i,o,s=[];Object.values(t.fields).filter((function(e){return e.association&&"BELONGS_TO"===e.association.connectionType&&e.type.model!==t.name})).forEach((function(e){return s.push(e.type.model)})),a.set(t.name,s),Object.values(t.fields).forEach((function(e){var t=oh[e.type.model];zc(t)&&Object.defineProperty(e.type,"modelConstructor",{get:function(){var e=vh(t);if(!e)throw new Error("Could not find model definition for "+t.name);return{builder:t,schema:e,pkField:El(e)}}})}));var u=rh.namespaces[e].relationships[t.name].indexes,c=new Set;try{for(var l=(0,p.__values)(u),f=l.next();!f.done;f=l.next()){var d=f.value;try{for(var h=(i=void 0,(0,p.__values)(d[1])),v=h.next();!v.done;v=h.next()){var g=v.value;c.add(g)}}catch(y){i={error:y}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(m){n={error:m}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}t.allFields=(0,p.__assign)((0,p.__assign)({},Object.fromEntries((0,p.__spread)(c.values()).map((function(e){return[e,{name:e,type:"ID",isArray:!1}]})))),t.fields)}));for(var s=new Map,u=1e3;u>0&&0!==a.size;){if(0===--u)throw new Error("Models are not topologically sortable. Please verify your schema.");try{for(var c=(t=void 0,(0,p.__values)(Array.from(a.keys()))),l=c.next();!l.done;l=c.next()){var f=l.value,d=a.get(f);(null===d||void 0===d?void 0:d.every((function(e){return s.has(e)})))&&s.set(f,d)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}Array.from(s.keys()).forEach((function(e){return a.delete(e)}))}rh.namespaces[e].modelTopologicalOrdering=s})),oh}({models:{Todo:{name:"Todo",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},name:{name:"name",isArray:!1,type:"String",isRequired:!0,attributes:[]},description:{name:"description",isArray:!1,type:"String",isRequired:!1,attributes:[]},createdAt:{name:"createdAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0},updatedAt:{name:"updatedAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0}},syncable:!0,pluralName:"Todos",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",operations:["create","update","delete","read"]}]}}]}},enums:{},nonModels:{},codegenVersion:"3.3.6",version:"4401034582a70c60713e1f7f9da3b752"}),Gh=Hh.Todo,Yh=function(){var t=l((0,e.useState)(null),2),n=t[0],r=t[1],i=function(){var e=u(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh.query(Gh);case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=u(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh.save(new Gh({name:t,description:n}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wh.query(Gh,t);case 2:n=e.sent,Wh.delete(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){i()}),[o,s]),{createTodo:o,showTodo:i,deleteTodo:s,content:n}},Qh=function(){var e=Yh(),t=e.content,n=e.deleteTodo;return(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"}),(0,r.jsx)("th",{children:"ID"}),(0,r.jsx)("th",{}),(0,r.jsx)("th",{})]})}),(0,r.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e,t){var i=e.id;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.description}),(0,r.jsx)("td",{children:i.length>10?i.substring(0,15)+"...":i}),(0,r.jsx)("td",{onClick:function(){return n(e.id)},children:(0,r.jsx)("span",{className:"actions",title:"edit",children:"\u270f\ufe0f"})}),(0,r.jsx)("td",{onClick:function(){return n(e.id)},children:(0,r.jsx)("span",{className:"actions",title:"delete",children:"\ud83d\uddd1\ufe0f"})})]},t)}))})]})},Jh=function(){var e=Yh().createTodo;return(0,r.jsxs)("form",{className:"form",id:"form",onSubmit:function(t){var n,r;t.preventDefault();var i=null===(n=document.getElementById("name"))||void 0===n?void 0:n.value,o=null===(r=document.getElementById("description"))||void 0===r?void 0:r.value;e(i,o)},children:[(0,r.jsxs)("div",{className:"form__group field",children:[(0,r.jsx)("input",{placeholder:"Name",className:"form__field",type:"input",id:"name",required:!0}),(0,r.jsx)("label",{className:"form__label",htmlFor:"name",children:"Name"})]}),(0,r.jsxs)("div",{className:"form__group field",children:[(0,r.jsx)("input",{placeholder:"Description",className:"form__field desc",type:"input",id:"description",required:!0}),(0,r.jsx)("label",{className:"form__label",htmlFor:"description",children:"Description"})]}),(0,r.jsx)("button",{type:"submit",children:"Add"})]})};var $h=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{}),(0,r.jsxs)("div",{className:"home",children:[(0,r.jsx)(Jh,{}),(0,r.jsx)("div",{className:"table",children:(0,r.jsx)(Qh,{})})]})]})},Zh=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},Xh={};W.configure(Xh),t.createRoot(document.getElementById("root")).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)($h,{})})),Zh()}()}();
//# sourceMappingURL=main.de1e82bc.js.map